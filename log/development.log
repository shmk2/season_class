

Started GET "/studen" for 127.0.0.1 at Tue Oct 19 14:51:38 +0900 2010

ActionController::RoutingError (No route matches "/studen"):
  

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (1.1ms)


Started GET "/student" for 127.0.0.1 at Tue Oct 19 14:51:41 +0900 2010

ActionController::RoutingError (No route matches "/student"):
  

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.9ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 14:51:44 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mSQL (2.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students"
SQLite3::SQLException: no such table: students: SELECT     "students".* FROM       "students"
Completed   in 60ms

ActiveRecord::StatementInvalid (SQLite3::SQLException: no such table: students: SELECT     "students".* FROM       "students"):
  app/controllers/students_controller.rb:5:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.0ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.6ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (14.0ms)


Started GET "/seasonc_class/students" for 127.0.0.1 at Tue Oct 19 14:52:14 +0900 2010

ActionController::RoutingError (No route matches "/seasonc_class/students"):
  

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.9ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 14:52:25 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students"[0m
SQLite3::SQLException: no such table: students: SELECT     "students".* FROM       "students"
Completed   in 7ms

ActiveRecord::StatementInvalid (SQLite3::SQLException: no such table: students: SELECT     "students".* FROM       "students"):
  app/controllers/students_controller.rb:5:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.2ms)
  [1m[36mSQL (0.5ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m  select sqlite_version(*)
  [1m[36mSQL (1.6ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("schema_migrations")
  [1m[36mSQL (1.4ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
Migrating to CreateStudents (20101019053939)
  [1m[36mSQL (0.6ms)[0m  [1mCREATE TABLE "students" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "last_name" varchar(255) NOT NULL, "first_name" varchar(255) NOT NULL, "last_name_y" varchar(255) NOT NULL, "first_name_y" varchar(255) NOT NULL, "grade" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20101019053939')
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("students")


Started GET "/students" for 127.0.0.1 at Tue Oct 19 15:33:27 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mSQL (0.8ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mStudent Load (0.1ms)[0m  SELECT "students".* FROM "students"
Rendered students/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 39ms (Views: 11.8ms | ActiveRecord: 0.9ms)


Started GET "/students/new" for 127.0.0.1 at Tue Oct 19 15:33:32 +0900 2010
  Processing by StudentsController#new as HTML
Rendered students/_form.html.erb (68.9ms)
Rendered students/new.html.erb within layouts/application (73.7ms)
Completed 200 OK in 85ms (Views: 79.9ms | ActiveRecord: 0.0ms)


Started POST "/students" for 127.0.0.1 at Tue Oct 19 15:33:35 +0900 2010
  Processing by StudentsController#create as HTML
  Parameters: {"commit"=>"Create Student", "authenticity_token"=>"/Y4yBVUd8KOMS0wC7KrdokA8P9GSODH4+awv9TU/RiM=", "utf8"=>"✓"}
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "students" ("created_at", "first_name", "first_name_y", "grade", "last_name", "last_name_y", "updated_at") VALUES ('2010-10-19 06:33:35.956825', NULL, NULL, NULL, NULL, NULL, '2010-10-19 06:33:35.956825')[0m
SQLite3::ConstraintException: students.last_name may not be NULL: INSERT INTO "students" ("created_at", "first_name", "first_name_y", "grade", "last_name", "last_name_y", "updated_at") VALUES ('2010-10-19 06:33:35.956825', NULL, NULL, NULL, NULL, NULL, '2010-10-19 06:33:35.956825')
Completed   in 93ms

ActiveRecord::StatementInvalid (SQLite3::ConstraintException: students.last_name may not be NULL: INSERT INTO "students" ("created_at", "first_name", "first_name_y", "grade", "last_name", "last_name_y", "updated_at") VALUES ('2010-10-19 06:33:35.956825', NULL, NULL, NULL, NULL, NULL, '2010-10-19 06:33:35.956825')):
  app/controllers/students_controller.rb:46:in `create'
  app/controllers/students_controller.rb:45:in `create'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.7ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.0ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 15:34:36 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students"
Rendered students/index.html.erb within layouts/application (3.1ms)
Completed 200 OK in 16ms (Views: 9.4ms | ActiveRecord: 0.4ms)


Started GET "/students/new" for 127.0.0.1 at Tue Oct 19 15:39:57 +0900 2010
  Processing by StudentsController#new as HTML
Rendered students/_form.html.erb (6.8ms)
Rendered students/new.html.erb within layouts/application (11.3ms)
Completed 200 OK in 23ms (Views: 17.5ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (0.7ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreateStudents (20101019053939)
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (0.6ms)[0m  [1mDROP TABLE "students"[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20101019053939'
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (0.1ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[36mSQL (0.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreateStudents (20101019053939)
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (0.7ms)[0m  [1mCREATE TABLE "students" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "yomi" varchar(255) NOT NULL, "grade" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20101019053939')
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("students")


Started GET "/students" for 127.0.0.1 at Tue Oct 19 15:48:10 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mSQL (0.7ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mStudent Load (0.1ms)[0m  SELECT "students".* FROM "students"
Rendered students/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 36ms (Views: 9.2ms | ActiveRecord: 0.9ms)


Started GET "/students/new" for 127.0.0.1 at Tue Oct 19 15:48:11 +0900 2010
  Processing by StudentsController#new as HTML
Rendered students/_form.html.erb (43.0ms)
Rendered students/new.html.erb within layouts/application (45.5ms)
Completed   in 57ms

ActionView::Template::Error (undefined method `text' for #<ActionView::Helpers::FormBuilder:0x1042fc2e0>):
    13: 
    14: <p>
    15: 	<%= f.label :name, '名前' %>
    16: 	<%= f.text :name %>
    17: </p>
    18: 
    19:   <div class="actions">
  app/views/students/_form.html.erb:16:in `_app_views_students__form_html_erb___1842535999_2182690820_1062110'
  app/views/students/_form.html.erb:1:in `_app_views_students__form_html_erb___1842535999_2182690820_1062110'
  app/views/students/new.html.erb:3:in `_app_views_students_new_html_erb___1141664605_2182700400_0'
  app/controllers/students_controller.rb:29:in `new'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.7ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.4ms)


Started GET "/students/new" for 127.0.0.1 at Tue Oct 19 15:48:21 +0900 2010
  Processing by StudentsController#new as HTML
Rendered students/_form.html.erb (8.3ms)
Rendered students/new.html.erb within layouts/application (12.7ms)
Completed 200 OK in 93ms (Views: 18.5ms | ActiveRecord: 0.0ms)


Started GET "/students/new" for 127.0.0.1 at Tue Oct 19 15:52:47 +0900 2010
  Processing by StudentsController#new as HTML
Rendered students/_form.html.erb (7.6ms)
Rendered students/new.html.erb within layouts/application (12.1ms)
Completed 200 OK in 24ms (Views: 18.1ms | ActiveRecord: 0.0ms)


Started GET "/students/new" for 127.0.0.1 at Tue Oct 19 15:57:11 +0900 2010
  Processing by StudentsController#new as HTML
Rendered students/_form.html.erb (8.4ms)
Rendered students/new.html.erb within layouts/application (13.0ms)
Completed 200 OK in 25ms (Views: 19.2ms | ActiveRecord: 0.0ms)


Started GET "/students/new" for 127.0.0.1 at Tue Oct 19 15:57:28 +0900 2010
  Processing by StudentsController#new as HTML
Rendered students/_form.html.erb (8.1ms)
Rendered students/new.html.erb within layouts/application (12.5ms)
Completed 200 OK in 25ms (Views: 19.5ms | ActiveRecord: 0.0ms)


Started GET "/students/new" for 127.0.0.1 at Tue Oct 19 15:59:51 +0900 2010
  Processing by StudentsController#new as HTML
ERROR: compiling _app_views_students__form_html_erb___1842535999_2183223480_1062110 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:28: syntax error, unexpected tLBRACK, expecting ']'
			['その他',0]
			 ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:29: syntax error, unexpected ']', expecting ')'
			] );@output_buffer.safe_concat('
			 ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:36: syntax error, unexpected kEND, expecting ')'
'); end 
       ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:38: syntax error, unexpected kENSURE, expecting ')'
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:40: syntax error, unexpected kEND, expecting ')'
Function body:           def _app_views_students__form_html_erb___1842535999_2183223480_1062110(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for(@student) do |f| @output_buffer.safe_concat('
');   if @student.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@student.errors.count, "error") );@output_buffer.safe_concat(' prohibited this student from being saved:</h2>

      <ul>
');@output_buffer.append_if_string=        @student.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('
<p>
	');@output_buffer.append= ( f.label :name, '名前' );@output_buffer.safe_concat('
');@output_buffer.safe_concat('	');@output_buffer.append= ( f.text_field :name );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>
<p>
	');@output_buffer.append= ( f.label :yomi, 'ヨミ' );@output_buffer.safe_concat('
');@output_buffer.safe_concat('	');@output_buffer.append= ( f.text_field :yomi );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>
<p>
	');@output_buffer.append= ( f.label :grade, '学年' );@output_buffer.safe_concat('
');@output_buffer.safe_concat('	');@output_buffer.append= ( f.select :grade, [
			['中１',4],['中２',5],['中３',6],
			['小４',1],['小５',2],['小６',3],
			['高１',7],['高２',8],['高３',9]
			['その他',0]
			] );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>


  <div class="actions">
    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_form.html.erb:40:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:31:in `render'
/Users/shimizu/rails/season_class/app/views/students/new.html.erb:3:in `_app_views_students_new_html_erb___1141664605_2183234360_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/mime_responds.rb:192:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:29:in `new'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__943997142__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_form.html.erb (1.4ms)
Rendered students/new.html.erb within layouts/application (4.1ms)
Completed   in 16ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:28: syntax error, unexpected tLBRACK, expecting ']'
			['その他',0]
			 ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:29: syntax error, unexpected ']', expecting ')'
			] );@output_buffer.safe_concat('
			 ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:36: syntax error, unexpected kEND, expecting ')'
'); end 
       ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:38: syntax error, unexpected kENSURE, expecting ')'
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:40: syntax error, unexpected kEND, expecting ')'):
    25: 			['中１',4],['中２',5],['中３',6],
    26: 			['小４',1],['小５',2],['小６',3],
    27: 			['高１',7],['高２',8],['高３',9]
    28: 			['その他',0]
    29: 			] %>
    30: </p>
    31: 
  app/views/students/_form.html.erb:40:in `compile'
  app/views/students/new.html.erb:3:in `_app_views_students_new_html_erb___1141664605_2183234360_0'
  app/controllers/students_controller.rb:29:in `new'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.0ms)


Started GET "/students/new" for 127.0.0.1 at Tue Oct 19 16:00:05 +0900 2010
  Processing by StudentsController#new as HTML
Rendered students/_form.html.erb (7.9ms)
Rendered students/new.html.erb within layouts/application (12.4ms)
Completed 200 OK in 25ms (Views: 19.0ms | ActiveRecord: 0.0ms)


Started POST "/students" for 127.0.0.1 at Tue Oct 19 16:02:37 +0900 2010
  Processing by StudentsController#create as HTML
  Parameters: {"commit"=>"Create Student", "authenticity_token"=>"/Y4yBVUd8KOMS0wC7KrdokA8P9GSODH4+awv9TU/RiM=", "utf8"=>"✓", "student"=>{"name"=>"", "grade"=>"4", "yomi"=>""}}
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "students" ("created_at", "grade", "name", "updated_at", "yomi") VALUES ('2010-10-19 07:02:37.209040', 4, '', '2010-10-19 07:02:37.209040', '')[0m
Redirected to http://localhost:3000/students/1
Completed 302 Found in 26ms


Started GET "/students/1" for 127.0.0.1 at Tue Oct 19 16:02:37 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE ("students"."id" = 1) LIMIT 1
Rendered students/show.html.erb within layouts/application (7.2ms)
Completed 200 OK in 24ms (Views: 16.3ms | ActiveRecord: 0.2ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 16:02:41 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students"[0m
Rendered students/index.html.erb within layouts/application (8.6ms)
Completed 200 OK in 23ms (Views: 15.7ms | ActiveRecord: 0.5ms)


Started GET "/students/1" for 127.0.0.1 at Tue Oct 19 16:02:44 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE ("students"."id" = 1) LIMIT 1
Rendered students/show.html.erb within layouts/application (7.0ms)
Completed 200 OK in 21ms (Views: 12.8ms | ActiveRecord: 0.3ms)


Started GET "/students/1" for 127.0.0.1 at Tue Oct 19 16:06:07 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE ("students"."id" = 1) LIMIT 1[0m
Rendered students/show.html.erb within layouts/application (5.0ms)
Completed   in 19ms

ActionView::Template::Error (undefined method `each' for #<Student:0x10436d760>):
    1: <p id="notice"><%= notice %></p>
    2: 
    3: <% for s in @student %>
    4: <p><%= s.label :name %>
    5: 	<%= s.name %>
    6: </p>
  app/views/students/show.html.erb:3:in `_app_views_students_show_html_erb___1569374097_2182820020_0'
  app/controllers/students_controller.rb:18:in `show'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.4ms)


Started POST "/students" for 127.0.0.1 at Tue Oct 19 16:08:33 +0900 2010
  Processing by StudentsController#create as HTML
  Parameters: {"commit"=>"Create Student", "authenticity_token"=>"/Y4yBVUd8KOMS0wC7KrdokA8P9GSODH4+awv9TU/RiM=", "utf8"=>"✓", "student"=>{"name"=>"清水", "grade"=>"4", "yomi"=>"シミズ"}}
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "students" ("created_at", "grade", "name", "updated_at", "yomi") VALUES ('2010-10-19 07:08:33.570653', 4, '清水', '2010-10-19 07:08:33.570653', 'シミズ')
Redirected to http://localhost:3000/students/2
Completed 302 Found in 16ms


Started GET "/students/2" for 127.0.0.1 at Tue Oct 19 16:08:33 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE ("students"."id" = 2) LIMIT 1[0m
Rendered students/show.html.erb within layouts/application (5.6ms)
Completed   in 21ms

ActionView::Template::Error (undefined method `each' for #<Student:0x104111160>):
    1: <p id="notice"><%= notice %></p>
    2: 
    3: <% for s in @student %>
    4: <p><%= s.label :name %>
    5: 	<%= s.name %>
    6: </p>
  app/views/students/show.html.erb:3:in `_app_views_students_show_html_erb___1569374097_2181582520_0'
  app/controllers/students_controller.rb:18:in `show'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.6ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.9ms)


Started GET "/students/2" for 127.0.0.1 at Tue Oct 19 16:11:32 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE ("students"."id" = 2) LIMIT 1
Rendered students/show.html.erb within layouts/application (5.2ms)
Completed   in 19ms

ActionView::Template::Error (undefined method `each' for #<Student:0x1043713d8>):
    1: <p id="notice"><%= notice %></p>
    2: 
    3: <% for s in @student %>
    4: <p><%= s.label :name %>
    5: 	<%= s.name %>
    6: </p>
  app/views/students/show.html.erb:3:in `_app_views_students_show_html_erb___1569374097_2182827880_0'
  app/controllers/students_controller.rb:18:in `show'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.0ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.0ms)


Started GET "/students/2" for 127.0.0.1 at Tue Oct 19 16:11:34 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE ("students"."id" = 2) LIMIT 1[0m
Rendered students/show.html.erb within layouts/application (4.9ms)
Completed   in 18ms

ActionView::Template::Error (undefined method `each' for #<Student:0x1041e72b0>):
    1: <p id="notice"><%= notice %></p>
    2: 
    3: <% for s in @student %>
    4: <p><%= s.label :name %>
    5: 	<%= s.name %>
    6: </p>
  app/views/students/show.html.erb:3:in `_app_views_students_show_html_erb___1569374097_2182020980_0'
  app/controllers/students_controller.rb:18:in `show'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.8ms)


Started GET "/students/2" for 127.0.0.1 at Tue Oct 19 16:12:21 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE ("students"."id" = 2) LIMIT 1
ERROR: compiling _app_views_students_show_html_erb___1569374097_2183400820_0 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/show.html.erb:11: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_students_show_html_erb___1569374097_2183400820_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/show";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<p id="notice">');@output_buffer.append= ( notice );@output_buffer.safe_concat('</p>

<p>');@output_buffer.append= ( @student.label :name );@output_buffer.safe_concat('
');@output_buffer.safe_concat('	');@output_buffer.append= ( @student.name );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>
'); end 
@output_buffer.safe_concat('
');@output_buffer.append= ( link_to 'Edit', edit_student_path(@student) );@output_buffer.safe_concat(' |
');@output_buffer.append= ( link_to 'Back', students_path );@output_buffer.safe_concat('
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/show.html.erb:11:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/mime_responds.rb:192:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:18:in `show'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__453433196__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:89:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/show.html.erb within layouts/application (1.0ms)
Completed   in 14ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/show.html.erb:11: syntax error, unexpected kENSURE, expecting $end):
    8: <%= link_to 'Edit', edit_student_path(@student) %> |
    9: <%= link_to 'Back', students_path %>
  app/views/students/show.html.erb:11:in `compile'
  app/controllers/students_controller.rb:18:in `show'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.9ms)


Started GET "/students/2" for 127.0.0.1 at Tue Oct 19 16:12:38 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "students".* FROM "students" WHERE ("students"."id" = 2) LIMIT 1[0m
Rendered students/show.html.erb within layouts/application (4.7ms)
Completed   in 19ms

ActionView::Template::Error (undefined method `label' for #<Student:0x1042d9998>):
    1: <p id="notice"><%= notice %></p>
    2: 
    3: <p><%= @student.label :name %>
    4: 	<%= @student.name %>
    5: </p>
    6: 
  app/views/students/show.html.erb:3:in `_app_views_students_show_html_erb___1569374097_2182517500_0'
  app/controllers/students_controller.rb:18:in `show'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.3ms)


Started GET "/students/2" for 127.0.0.1 at Tue Oct 19 16:12:57 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE ("students"."id" = 2) LIMIT 1
Rendered students/show.html.erb within layouts/application (0.8ms)
Completed   in 14ms

ActionView::Template::Error (wrong number of arguments (1 for 2)):
    1: <p id="notice"><%= notice %></p>
    2: 
    3: <p><%= label :name %>
    4: 	<%= @student.name %>
    5: </p>
    6: 
  app/views/students/show.html.erb:3:in `label'
  app/views/students/show.html.erb:3:in `_app_views_students_show_html_erb___1569374097_2181666680_0'
  app/controllers/students_controller.rb:18:in `show'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (80.1ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (87.0ms)


Started GET "/students/2" for 127.0.0.1 at Tue Oct 19 16:13:24 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE ("students"."id" = 2) LIMIT 1[0m
Rendered students/show.html.erb within layouts/application (7.5ms)
Completed 200 OK in 21ms (Views: 13.9ms | ActiveRecord: 0.2ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 16:13:30 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students"
Rendered students/index.html.erb within layouts/application (12.4ms)
Completed 200 OK in 31ms (Views: 23.5ms | ActiveRecord: 0.5ms)


Started GET "/students/1" for 127.0.0.1 at Tue Oct 19 16:13:34 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE ("students"."id" = 1) LIMIT 1[0m
Rendered students/show.html.erb within layouts/application (77.9ms)
Completed 200 OK in 92ms (Views: 84.2ms | ActiveRecord: 0.2ms)


Started POST "/students/1" for 127.0.0.1 at Tue Oct 19 16:13:55 +0900 2010
  Processing by StudentsController#destroy as HTML
  Parameters: {"authenticity_token"=>"/Y4yBVUd8KOMS0wC7KrdokA8P9GSODH4+awv9TU/RiM=", "id"=>"1"}
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE ("students"."id" = 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "students" WHERE ("students"."id" = 1)[0m
Redirected to http://localhost:3000/students
Completed 302 Found in 18ms


Started GET "/students" for 127.0.0.1 at Tue Oct 19 16:13:55 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students"
Rendered students/index.html.erb within layouts/application (8.3ms)
Completed 200 OK in 22ms (Views: 14.8ms | ActiveRecord: 0.5ms)


Started GET "/students/2/edit" for 127.0.0.1 at Tue Oct 19 16:13:58 +0900 2010
  Processing by StudentsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE ("students"."id" = 2) LIMIT 1[0m
Rendered students/_form.html.erb (8.1ms)
Rendered students/edit.html.erb within layouts/application (13.6ms)
Completed 200 OK in 27ms (Views: 19.4ms | ActiveRecord: 0.2ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 16:16:21 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students"
Rendered students/index.html.erb within layouts/application (9.0ms)
Completed 200 OK in 21ms (Views: 15.1ms | ActiveRecord: 0.4ms)


Started GET "/students/2" for 127.0.0.1 at Tue Oct 19 16:16:23 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE ("students"."id" = 2) LIMIT 1[0m
Rendered students/show.html.erb within layouts/application (7.0ms)
Completed 200 OK in 21ms (Views: 13.6ms | ActiveRecord: 0.2ms)


Started GET "/students/2/edit" for 127.0.0.1 at Tue Oct 19 16:16:25 +0900 2010
  Processing by StudentsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE ("students"."id" = 2) LIMIT 1
Rendered students/_form.html.erb (9.2ms)
Rendered students/edit.html.erb within layouts/application (15.5ms)
Completed 200 OK in 33ms (Views: 21.9ms | ActiveRecord: 0.2ms)
  [1m[36mSQL (0.7ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreateStudents (20101019053939)
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (0.6ms)[0m  [1mDROP TABLE "students"[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20101019053939'
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (0.1ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[36mSQL (0.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreateStudents (20101019053939)
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (0.7ms)[0m  [1mCREATE TABLE "students" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "yomi" varchar(255) NOT NULL, "grade" varchar(255) NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20101019053939')
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (0.1ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("students")


Started GET "/students" for 127.0.0.1 at Tue Oct 19 16:21:49 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mSQL (0.7ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mStudent Load (0.1ms)[0m  SELECT "students".* FROM "students"
Rendered students/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 35ms (Views: 9.7ms | ActiveRecord: 0.9ms)


Started GET "/students/new" for 127.0.0.1 at Tue Oct 19 16:21:56 +0900 2010
  Processing by StudentsController#new as HTML
ERROR: compiling _app_views_students__form_html_erb___1842535999_2182709360_1062110 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:25: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
			'高１',高２'高３','小１','小２','小...
			                ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:25: syntax error, unexpected ',', expecting ')'
			'高１',高２'高３','小１','小２','小３'] );...
			                        ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:25: syntax error, unexpected ',', expecting ')'
...高１',高２'高３','小１','小２','小３'] );@output_b...
                                ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:25: syntax error, unexpected ',', expecting ')'
...２'高３','小１','小２','小３'] );@output_buffer.saf...
                              ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:25: syntax error, unexpected ']', expecting ')'
...３','小１','小２','小３'] );@output_buffer.safe_concat(...
                                ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:32: syntax error, unexpected kEND, expecting ')'
'); end 
       ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:34: syntax error, unexpected kENSURE, expecting ')'
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:36: syntax error, unexpected kEND, expecting ')'
Function body:           def _app_views_students__form_html_erb___1842535999_2182709360_1062110(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for(@student) do |f| @output_buffer.safe_concat('
');   if @student.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@student.errors.count, "error") );@output_buffer.safe_concat(' prohibited this student from being saved:</h2>

      <ul>
');@output_buffer.append_if_string=        @student.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('
<p>
	');@output_buffer.append= ( f.label :name, '名前' );@output_buffer.safe_concat('
');@output_buffer.safe_concat('	');@output_buffer.append= ( f.text_field :name );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>
<p>
	');@output_buffer.append= ( f.label :yomi, 'ヨミ' );@output_buffer.safe_concat('
');@output_buffer.safe_concat('	');@output_buffer.append= ( f.text_field :yomi );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>
<p>
	');@output_buffer.append= ( f.label :grade, '学年' );@output_buffer.safe_concat('
');@output_buffer.safe_concat('	');@output_buffer.append= ( f.select :grade, ['中１','中２','中３','小４','小５','小６',
			'高１',高２'高３','小１','小２','小３'] );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>


  <div class="actions">
    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_form.html.erb:36:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:31:in `render'
/Users/shimizu/rails/season_class/app/views/students/new.html.erb:3:in `_app_views_students_new_html_erb___1141664605_2182718940_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/mime_responds.rb:192:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:29:in `new'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__943997142__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_form.html.erb (4.5ms)
Rendered students/new.html.erb within layouts/application (6.8ms)
Completed   in 18ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:25: syntax error, unexpected tSTRING_BEG, expecting kDO or '{' or '('
			'高１',高２'高３','小１','小２','小...
			                ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:25: syntax error, unexpected ',', expecting ')'
			'高１',高２'高３','小１','小２','小３'] );...
			                        ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:25: syntax error, unexpected ',', expecting ')'
...高１',高２'高３','小１','小２','小３'] );@output_b...
                                ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:25: syntax error, unexpected ',', expecting ')'
...２'高３','小１','小２','小３'] );@output_buffer.saf...
                              ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:25: syntax error, unexpected ']', expecting ')'
...３','小１','小２','小３'] );@output_buffer.safe_concat(...
                                ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:32: syntax error, unexpected kEND, expecting ')'
'); end 
       ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:34: syntax error, unexpected kENSURE, expecting ')'
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:36: syntax error, unexpected kEND, expecting ')'):
    22: <p>
    23: 	<%= f.label :grade, '学年' %>
    24: 	<%= f.select :grade, ['中１','中２','中３','小４','小５','小６',
    25: 			'高１',高２'高３','小１','小２','小３'] %>
    26: </p>
    27: 
    28: 
  app/views/students/_form.html.erb:36:in `compile'
  app/views/students/new.html.erb:3:in `_app_views_students_new_html_erb___1141664605_2182718940_0'
  app/controllers/students_controller.rb:29:in `new'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.8ms)


Started GET "/students/new" for 127.0.0.1 at Tue Oct 19 16:22:16 +0900 2010
  Processing by StudentsController#new as HTML
ERROR: compiling _app_views_students__form_html_erb___1842535999_2181933320_1062110 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:25: syntax error, unexpected tIDENTIFIER, expecting ']'
			'高１','高２'高３','小１','小２','小３'] ...
			                       ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:25: syntax error, unexpected tIDENTIFIER, expecting ')'
...高１','高２'高３','小１','小２','小３'] );@output...
                               ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:25: syntax error, unexpected tIDENTIFIER, expecting ')'
...高２'高３','小１','小２','小３'] );@output_buffer.s...
                               ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:25: syntax error, unexpected tIDENTIFIER, expecting ')'
...３','小１','小２','小３'] );@output_buffer.safe_conca...
                              ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:31: unknown regexp options - dv
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:31: unmatched ): /p>


  <div class="actions">
    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:32: unterminated string meets end of file
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:32: syntax error, unexpected $end, expecting ')'
Function body:           def _app_views_students__form_html_erb___1842535999_2181933320_1062110(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for(@student) do |f| @output_buffer.safe_concat('
');   if @student.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@student.errors.count, "error") );@output_buffer.safe_concat(' prohibited this student from being saved:</h2>

      <ul>
');@output_buffer.append_if_string=        @student.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('
<p>
	');@output_buffer.append= ( f.label :name, '名前' );@output_buffer.safe_concat('
');@output_buffer.safe_concat('	');@output_buffer.append= ( f.text_field :name );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>
<p>
	');@output_buffer.append= ( f.label :yomi, 'ヨミ' );@output_buffer.safe_concat('
');@output_buffer.safe_concat('	');@output_buffer.append= ( f.text_field :yomi );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>
<p>
	');@output_buffer.append= ( f.label :grade, '学年' );@output_buffer.safe_concat('
');@output_buffer.safe_concat('	');@output_buffer.append= ( f.select :grade, ['中１','中２','中３','小４','小５','小６',
			'高１','高２'高３','小１','小２','小３'] );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>


  <div class="actions">
    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_form.html.erb:32:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:31:in `render'
/Users/shimizu/rails/season_class/app/views/students/new.html.erb:3:in `_app_views_students_new_html_erb___1141664605_2181942820_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/mime_responds.rb:192:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:29:in `new'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__943997142__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_form.html.erb (1.5ms)
Rendered students/new.html.erb within layouts/application (3.6ms)
Completed   in 15ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:25: syntax error, unexpected tIDENTIFIER, expecting ']'
			'高１','高２'高３','小１','小２','小３'] ...
			                       ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:25: syntax error, unexpected tIDENTIFIER, expecting ')'
...高１','高２'高３','小１','小２','小３'] );@output...
                               ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:25: syntax error, unexpected tIDENTIFIER, expecting ')'
...高２'高３','小１','小２','小３'] );@output_buffer.s...
                               ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:25: syntax error, unexpected tIDENTIFIER, expecting ')'
...３','小１','小２','小３'] );@output_buffer.safe_conca...
                              ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:31: unknown regexp options - dv
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:31: unmatched ): /p>


  <div class="actions">
    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:32: unterminated string meets end of file
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:32: syntax error, unexpected $end, expecting ')'):
    22: <p>
    23: 	<%= f.label :grade, '学年' %>
    24: 	<%= f.select :grade, ['中１','中２','中３','小４','小５','小６',
    25: 			'高１','高２'高３','小１','小２','小３'] %>
    26: </p>
    27: 
    28: 
  app/views/students/_form.html.erb:32:in `compile'
  app/views/students/new.html.erb:3:in `_app_views_students_new_html_erb___1141664605_2181942820_0'
  app/controllers/students_controller.rb:29:in `new'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.6ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (81.5ms)


Started GET "/students/new" for 127.0.0.1 at Tue Oct 19 16:22:52 +0900 2010
  Processing by StudentsController#new as HTML
ERROR: compiling _app_views_students__form_html_erb___1842535999_2183214060_1062110 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:25: syntax error, unexpected tIDENTIFIER, expecting ']'
			'高１','高２'高３','小１','小２','小３'] ...
			                       ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:25: syntax error, unexpected tIDENTIFIER, expecting ')'
...高１','高２'高３','小１','小２','小３'] );@output...
                               ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:25: syntax error, unexpected tIDENTIFIER, expecting ')'
...高２'高３','小１','小２','小３'] );@output_buffer.s...
                               ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:25: syntax error, unexpected tIDENTIFIER, expecting ')'
...３','小１','小２','小３'] );@output_buffer.safe_conca...
                              ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:31: unknown regexp options - dv
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:31: unmatched ): /p>


  <div class="actions">
    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:32: unterminated string meets end of file
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:32: syntax error, unexpected $end, expecting ')'
Function body:           def _app_views_students__form_html_erb___1842535999_2183214060_1062110(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for(@student) do |f| @output_buffer.safe_concat('
');   if @student.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@student.errors.count, "error") );@output_buffer.safe_concat(' prohibited this student from being saved:</h2>

      <ul>
');@output_buffer.append_if_string=        @student.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('
<p>
	');@output_buffer.append= ( f.label :name, '名前' );@output_buffer.safe_concat('
');@output_buffer.safe_concat('	');@output_buffer.append= ( f.text_field :name );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>
<p>
	');@output_buffer.append= ( f.label :yomi, 'ヨミ' );@output_buffer.safe_concat('
');@output_buffer.safe_concat('	');@output_buffer.append= ( f.text_field :yomi );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>
<p>
	');@output_buffer.append= ( f.label :grade, '学年' );@output_buffer.safe_concat('
');@output_buffer.safe_concat('	');@output_buffer.append= ( f.select :grade, ['中１','中２','中３','小４','小５','小６',
			'高１','高２'高３','小１','小２','小３'] );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>


  <div class="actions">
    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_form.html.erb:32:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:31:in `render'
/Users/shimizu/rails/season_class/app/views/students/new.html.erb:3:in `_app_views_students_new_html_erb___1141664605_2183223580_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/mime_responds.rb:192:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:29:in `new'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__943997142__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_form.html.erb (2.0ms)
Rendered students/new.html.erb within layouts/application (4.3ms)
Completed   in 16ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:25: syntax error, unexpected tIDENTIFIER, expecting ']'
			'高１','高２'高３','小１','小２','小３'] ...
			                       ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:25: syntax error, unexpected tIDENTIFIER, expecting ')'
...高１','高２'高３','小１','小２','小３'] );@output...
                               ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:25: syntax error, unexpected tIDENTIFIER, expecting ')'
...高２'高３','小１','小２','小３'] );@output_buffer.s...
                               ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:25: syntax error, unexpected tIDENTIFIER, expecting ')'
...３','小１','小２','小３'] );@output_buffer.safe_conca...
                              ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:31: unknown regexp options - dv
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:31: unmatched ): /p>


  <div class="actions">
    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:32: unterminated string meets end of file
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:32: syntax error, unexpected $end, expecting ')'):
    22: <p>
    23: 	<%= f.label :grade, '学年' %>
    24: 	<%= f.select :grade, ['中１','中２','中３','小４','小５','小６',
    25: 			'高１','高２'高３','小１','小２','小３'] %>
    26: </p>
    27: 
    28: 
  app/views/students/_form.html.erb:32:in `compile'
  app/views/students/new.html.erb:3:in `_app_views_students_new_html_erb___1141664605_2183223580_0'
  app/controllers/students_controller.rb:29:in `new'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.7ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.6ms)


Started GET "/students/new" for 127.0.0.1 at Tue Oct 19 16:22:53 +0900 2010
  Processing by StudentsController#new as HTML
ERROR: compiling _app_views_students__form_html_erb___1842535999_2182416600_1062110 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:25: syntax error, unexpected tIDENTIFIER, expecting ']'
			'高１','高２'高３','小１','小２','小３'] ...
			                       ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:25: syntax error, unexpected tIDENTIFIER, expecting ')'
...高１','高２'高３','小１','小２','小３'] );@output...
                               ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:25: syntax error, unexpected tIDENTIFIER, expecting ')'
...高２'高３','小１','小２','小３'] );@output_buffer.s...
                               ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:25: syntax error, unexpected tIDENTIFIER, expecting ')'
...３','小１','小２','小３'] );@output_buffer.safe_conca...
                              ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:31: unknown regexp options - dv
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:31: unmatched ): /p>


  <div class="actions">
    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:32: unterminated string meets end of file
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:32: syntax error, unexpected $end, expecting ')'
Function body:           def _app_views_students__form_html_erb___1842535999_2182416600_1062110(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for(@student) do |f| @output_buffer.safe_concat('
');   if @student.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@student.errors.count, "error") );@output_buffer.safe_concat(' prohibited this student from being saved:</h2>

      <ul>
');@output_buffer.append_if_string=        @student.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('
<p>
	');@output_buffer.append= ( f.label :name, '名前' );@output_buffer.safe_concat('
');@output_buffer.safe_concat('	');@output_buffer.append= ( f.text_field :name );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>
<p>
	');@output_buffer.append= ( f.label :yomi, 'ヨミ' );@output_buffer.safe_concat('
');@output_buffer.safe_concat('	');@output_buffer.append= ( f.text_field :yomi );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>
<p>
	');@output_buffer.append= ( f.label :grade, '学年' );@output_buffer.safe_concat('
');@output_buffer.safe_concat('	');@output_buffer.append= ( f.select :grade, ['中１','中２','中３','小４','小５','小６',
			'高１','高２'高３','小１','小２','小３'] );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>


  <div class="actions">
    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_form.html.erb:32:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:31:in `render'
/Users/shimizu/rails/season_class/app/views/students/new.html.erb:3:in `_app_views_students_new_html_erb___1141664605_2182426100_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/mime_responds.rb:192:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:29:in `new'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__943997142__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_form.html.erb (1.3ms)
Rendered students/new.html.erb within layouts/application (3.2ms)
Completed   in 15ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:25: syntax error, unexpected tIDENTIFIER, expecting ']'
			'高１','高２'高３','小１','小２','小３'] ...
			                       ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:25: syntax error, unexpected tIDENTIFIER, expecting ')'
...高１','高２'高３','小１','小２','小３'] );@output...
                               ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:25: syntax error, unexpected tIDENTIFIER, expecting ')'
...高２'高３','小１','小２','小３'] );@output_buffer.s...
                               ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:25: syntax error, unexpected tIDENTIFIER, expecting ')'
...３','小１','小２','小３'] );@output_buffer.safe_conca...
                              ^
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:31: unknown regexp options - dv
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:31: unmatched ): /p>


  <div class="actions">
    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:32: unterminated string meets end of file
/Users/shimizu/rails/season_class/app/views/students/_form.html.erb:32: syntax error, unexpected $end, expecting ')'):
    22: <p>
    23: 	<%= f.label :grade, '学年' %>
    24: 	<%= f.select :grade, ['中１','中２','中３','小４','小５','小６',
    25: 			'高１','高２'高３','小１','小２','小３'] %>
    26: </p>
    27: 
    28: 
  app/views/students/_form.html.erb:32:in `compile'
  app/views/students/new.html.erb:3:in `_app_views_students_new_html_erb___1141664605_2182426100_0'
  app/controllers/students_controller.rb:29:in `new'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.7ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.6ms)


Started GET "/students/new" for 127.0.0.1 at Tue Oct 19 16:23:31 +0900 2010
  Processing by StudentsController#new as HTML
Rendered students/_form.html.erb (105.4ms)
Rendered students/new.html.erb within layouts/application (110.6ms)
Completed 200 OK in 192ms (Views: 185.7ms | ActiveRecord: 0.0ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 16:23:33 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students"[0m
Rendered students/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 16ms (Views: 9.4ms | ActiveRecord: 0.4ms)


Started GET "/students/new" for 127.0.0.1 at Tue Oct 19 16:23:38 +0900 2010
  Processing by StudentsController#new as HTML
Rendered students/_form.html.erb (7.7ms)
Rendered students/new.html.erb within layouts/application (12.1ms)
Completed 200 OK in 23ms (Views: 17.8ms | ActiveRecord: 0.0ms)


Started POST "/students" for 127.0.0.1 at Tue Oct 19 16:23:44 +0900 2010
  Processing by StudentsController#create as HTML
  Parameters: {"commit"=>"Create Student", "authenticity_token"=>"/Y4yBVUd8KOMS0wC7KrdokA8P9GSODH4+awv9TU/RiM=", "utf8"=>"✓", "student"=>{"name"=>"清水", "grade"=>"中１", "yomi"=>"シミズ"}}
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "students" ("created_at", "grade", "name", "updated_at", "yomi") VALUES ('2010-10-19 07:23:44.377471', '中１', '清水', '2010-10-19 07:23:44.377471', 'シミズ')
Redirected to http://localhost:3000/students/1
Completed 302 Found in 25ms


Started GET "/students/1" for 127.0.0.1 at Tue Oct 19 16:23:44 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE ("students"."id" = 1) LIMIT 1[0m
Rendered students/show.html.erb within layouts/application (8.1ms)
Completed 200 OK in 22ms (Views: 14.4ms | ActiveRecord: 0.2ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 16:23:49 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students"
Rendered students/index.html.erb within layouts/application (9.0ms)
Completed 200 OK in 22ms (Views: 15.1ms | ActiveRecord: 0.4ms)


Started GET "/students/1" for 127.0.0.1 at Tue Oct 19 16:23:51 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE ("students"."id" = 1) LIMIT 1[0m
Rendered students/show.html.erb within layouts/application (7.1ms)
Completed 200 OK in 20ms (Views: 12.7ms | ActiveRecord: 0.2ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 16:23:53 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students"
Rendered students/index.html.erb within layouts/application (8.7ms)
Completed 200 OK in 21ms (Views: 14.6ms | ActiveRecord: 0.4ms)


Started GET "/students/1/edit" for 127.0.0.1 at Tue Oct 19 16:23:58 +0900 2010
  Processing by StudentsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE ("students"."id" = 1) LIMIT 1[0m
Rendered students/_form.html.erb (8.4ms)
Rendered students/edit.html.erb within layouts/application (13.1ms)
Completed 200 OK in 27ms (Views: 19.1ms | ActiveRecord: 0.2ms)


Started GET "/students/1/edit" for 127.0.0.1 at Tue Oct 19 16:24:15 +0900 2010
  Processing by StudentsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE ("students"."id" = 1) LIMIT 1
Rendered students/_form.html.erb (8.1ms)
Rendered students/edit.html.erb within layouts/application (12.7ms)
Completed 200 OK in 28ms (Views: 18.4ms | ActiveRecord: 0.2ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 16:24:16 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students"[0m
Rendered students/index.html.erb within layouts/application (8.2ms)
Completed 200 OK in 21ms (Views: 14.0ms | ActiveRecord: 0.4ms)


Started GET "/students/1" for 127.0.0.1 at Tue Oct 19 16:24:19 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE ("students"."id" = 1) LIMIT 1
Rendered students/show.html.erb within layouts/application (6.9ms)
Completed 200 OK in 20ms (Views: 12.6ms | ActiveRecord: 0.2ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 16:24:20 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students"[0m
Rendered students/index.html.erb within layouts/application (8.8ms)
Completed 200 OK in 21ms (Views: 14.6ms | ActiveRecord: 0.4ms)


Started GET "/students/1" for 127.0.0.1 at Tue Oct 19 16:28:00 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE ("students"."id" = 1) LIMIT 1
Rendered students/show.html.erb within layouts/application (7.4ms)
Completed 200 OK in 21ms (Views: 13.5ms | ActiveRecord: 0.2ms)


Started GET "/students/1" for 127.0.0.1 at Tue Oct 19 16:28:27 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE ("students"."id" = 1) LIMIT 1[0m
Rendered students/show.html.erb within layouts/application (7.4ms)
Completed 200 OK in 97ms (Views: 89.7ms | ActiveRecord: 0.2ms)


Started GET "/students/1" for 127.0.0.1 at Tue Oct 19 16:29:09 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE ("students"."id" = 1) LIMIT 1
Rendered students/show.html.erb within layouts/application (6.8ms)
Completed 200 OK in 20ms (Views: 12.7ms | ActiveRecord: 0.2ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 16:29:13 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students"[0m
Rendered students/index.html.erb within layouts/application (75.0ms)
Completed 200 OK in 88ms (Views: 81.2ms | ActiveRecord: 0.4ms)


Started GET "/students/1" for 127.0.0.1 at Tue Oct 19 16:29:26 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE ("students"."id" = 1) LIMIT 1
Rendered students/show.html.erb within layouts/application (7.6ms)
Completed 200 OK in 21ms (Views: 13.6ms | ActiveRecord: 0.2ms)


Started GET "/students/1/edit" for 127.0.0.1 at Tue Oct 19 16:29:32 +0900 2010
  Processing by StudentsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE ("students"."id" = 1) LIMIT 1[0m
Rendered students/_form.html.erb (8.3ms)
Rendered students/edit.html.erb within layouts/application (13.2ms)
Completed 200 OK in 27ms (Views: 19.3ms | ActiveRecord: 0.2ms)


Started POST "/students/1" for 127.0.0.1 at Tue Oct 19 16:29:48 +0900 2010
  Processing by StudentsController#update as HTML
  Parameters: {"commit"=>"Update Student", "authenticity_token"=>"/Y4yBVUd8KOMS0wC7KrdokA8P9GSODH4+awv9TU/RiM=", "utf8"=>"✓", "id"=>"1", "student"=>{"name"=>"清水諒", "grade"=>"中３", "yomi"=>"シミズマコト"}}
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE ("students"."id" = 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "students" SET "grade" = '中３', "name" = '清水諒', "updated_at" = '2010-10-19 07:29:48.680476', "yomi" = 'シミズマコト' WHERE ("students"."id" = 1)[0m
Redirected to http://localhost:3000/students/1
Completed 302 Found in 394ms


Started GET "/students/1" for 127.0.0.1 at Tue Oct 19 16:29:49 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE ("students"."id" = 1) LIMIT 1
Rendered students/show.html.erb within layouts/application (8.7ms)
Completed 200 OK in 24ms (Views: 16.4ms | ActiveRecord: 0.2ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 16:29:53 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students"[0m
Rendered students/index.html.erb within layouts/application (8.1ms)
Completed 200 OK in 21ms (Views: 14.3ms | ActiveRecord: 0.5ms)


Started GET "/students/1" for 127.0.0.1 at Tue Oct 19 16:29:55 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE ("students"."id" = 1) LIMIT 1
Rendered students/show.html.erb within layouts/application (6.9ms)
Completed 200 OK in 21ms (Views: 12.8ms | ActiveRecord: 0.2ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 16:30:14 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students"[0m
Rendered students/index.html.erb within layouts/application (8.3ms)
Completed 200 OK in 21ms (Views: 14.4ms | ActiveRecord: 0.4ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 16:59:50 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students"
Completed   in 11ms

NameError (undefined local variable or method `scope' for #<StudentsController:0x1042d3570>):
  app/controllers/students_controller.rb:6:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.7ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.4ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 17:02:47 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students"[0m
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１')
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２')[0m
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３')
Rendered students/index.html.erb within layouts/application (13.4ms)
Completed 200 OK in 32ms (Views: 20.0ms | ActiveRecord: 1.1ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 17:04:19 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students"[0m
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１')
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２')[0m
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３')
Rendered students/index.html.erb within layouts/application (13.7ms)
Completed 200 OK in 29ms (Views: 19.2ms | ActiveRecord: 0.9ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 17:11:07 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students"[0m
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１')
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２')[0m
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３')
Rendered students/index.html.erb within layouts/application (14.2ms)
Completed 200 OK in 31ms (Views: 20.3ms | ActiveRecord: 1.0ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 17:11:48 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students"[0m
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２')
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３')[0m
  [1m[35mStudent Load (0.1ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１')
Rendered students/_column.html.erb (13.5ms)
Rendered students/index.html.erb within layouts/application (16.0ms)
Completed   in 97ms

ActionView::Template::Error (undefined local variable or method `student' for #<#<Class:0x1044d4ec8>:0x1044d1660>):
    1:   <tr>
    2: 		<td><%= student.id %></td>
    3: 		<td><%= student.name %></td>
    4:     <td><%= link_to 'Show', student %></td>
    5:     <td><%= link_to 'Edit', edit_student_path(student) %></td>
  app/views/students/_column.html.erb:2:in `_app_views_students__column_html_erb__68979347_2183534820_983710'
  app/views/students/index.html.erb:12:in `_app_views_students_index_html_erb__1307073614_2183558220_0'
  app/views/students/index.html.erb:11:in `each'
  app/views/students/index.html.erb:11:in `_app_views_students_index_html_erb__1307073614_2183558220_0'
  app/controllers/students_controller.rb:10:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.1ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.8ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 17:15:12 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students"[0m
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２')
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３')[0m
  [1m[35mStudent Load (0.1ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１')
Rendered students/_column.html.erb (13.3ms)
Rendered students/index.html.erb within layouts/application (15.8ms)
Completed   in 32ms

ActionView::Template::Error (undefined local variable or method `student' for #<#<Class:0x1042bb1f0>:0x1042b94b8>):
    1:   <tr>
    2: 		<td><%= student.id %></td>
    3: 		<td><%= student.name %></td>
    4:     <td><%= link_to 'Show', student %></td>
    5:     <td><%= link_to 'Edit', edit_student_path(student) %></td>
  app/views/students/_column.html.erb:2:in `_app_views_students__column_html_erb__68979347_2182446540_265260'
  app/views/students/index.html.erb:12:in `_app_views_students_index_html_erb__1307073614_2182462200_0'
  app/views/students/index.html.erb:11:in `each'
  app/views/students/index.html.erb:11:in `_app_views_students_index_html_erb__1307073614_2182462200_0'
  app/controllers/students_controller.rb:10:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.9ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 17:15:13 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students"[0m
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２')
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３')[0m
  [1m[35mStudent Load (0.1ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１')
Rendered students/_column.html.erb (14.5ms)
Rendered students/index.html.erb within layouts/application (16.8ms)
Completed   in 33ms

ActionView::Template::Error (undefined local variable or method `student' for #<#<Class:0x104498978>:0x104494878>):
    1:   <tr>
    2: 		<td><%= student.id %></td>
    3: 		<td><%= student.name %></td>
    4:     <td><%= link_to 'Show', student %></td>
    5:     <td><%= link_to 'Edit', edit_student_path(student) %></td>
  app/views/students/_column.html.erb:2:in `_app_views_students__column_html_erb__68979347_2183419980_265260'
  app/views/students/index.html.erb:12:in `_app_views_students_index_html_erb__1307073614_2183436040_0'
  app/views/students/index.html.erb:11:in `each'
  app/views/students/index.html.erb:11:in `_app_views_students_index_html_erb__1307073614_2183436040_0'
  app/controllers/students_controller.rb:10:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.2ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 17:15:35 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.9ms)[0m  [1mSELECT "students".* FROM "students"[0m
Rendered students/_column.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (3.2ms)
Completed   in 19ms

ActionView::Template::Error (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id):
    1:   <tr>
    2: 		<td><%= @student.id %></td>
    3: 		<td><%= @student.name %></td>
    4:     <td><%= link_to 'Show', @student %></td>
    5:     <td><%= link_to 'Edit', edit_student_path(@student) %></td>
  app/views/students/_column.html.erb:2:in `_app_views_students__column_html_erb__68979347_2182347800_265260'
  app/views/students/index.html.erb:12:in `_app_views_students_index_html_erb__1307073614_2182363580_0'
  app/views/students/index.html.erb:11:in `each'
  app/views/students/index.html.erb:11:in `_app_views_students_index_html_erb__1307073614_2182363580_0'
  app/controllers/students_controller.rb:10:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２')
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３')[0m
  [1m[35mStudent Load (0.1ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１')
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.9ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.5ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 17:17:04 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students"[0m
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２')
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３')[0m
  [1m[35mStudent Load (0.1ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１')
Rendered students/_column.html.erb (15.1ms)
Rendered students/index.html.erb within layouts/application (17.5ms)
Completed   in 34ms

ActionView::Template::Error (undefined local variable or method `student' for #<#<Class:0x1044a6730>:0x1044a45e8>):
    1:   <tr>
    2: 		<td><%= student.id %></td>
    3: 		<td><%= student.name %></td>
    4:     <td><%= link_to 'Show', student %></td>
    5:     <td><%= link_to 'Edit', edit_student_path(student) %></td>
  app/views/students/_column.html.erb:2:in `_app_views_students__column_html_erb__68979347_2183448080_265260'
  app/views/students/index.html.erb:12:in `_app_views_students_index_html_erb__1307073614_2183468000_0'
  app/views/students/index.html.erb:11:in `each'
  app/views/students/index.html.erb:11:in `_app_views_students_index_html_erb__1307073614_2183468000_0'
  app/controllers/students_controller.rb:10:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.0ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 17:18:49 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students"[0m
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２')
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３')[0m
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１')
Rendered students/_column.html.erb (13.6ms)
Rendered students/index.html.erb within layouts/application (16.1ms)
Completed   in 32ms

ActionView::Template::Error (undefined local variable or method `student' for #<#<Class:0x104295568>:0x104293830>):
    1:   <tr>
    2: 		<td><%= student.id %></td>
    3: 		<td><%= student.name %></td>
    4:     <td><%= link_to 'Show', student %></td>
    5:     <td><%= link_to 'Edit', edit_student_path(student) %></td>
  app/views/students/_column.html.erb:2:in `_app_views_students__column_html_erb__68979347_2182368980_983710'
  app/views/students/index.html.erb:12:in `_app_views_students_index_html_erb__1307073614_2182385160_0'
  app/views/students/index.html.erb:11:in `each'
  app/views/students/index.html.erb:11:in `_app_views_students_index_html_erb__1307073614_2182385160_0'
  app/controllers/students_controller.rb:10:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.0ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.0ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 17:18:50 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students"[0m
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２')
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３')[0m
  [1m[35mStudent Load (0.1ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１')
Rendered students/_column.html.erb (14.1ms)
Rendered students/index.html.erb within layouts/application (16.3ms)
Completed   in 31ms

ActionView::Template::Error (undefined local variable or method `student' for #<#<Class:0x1044443c8>:0x104441358>):
    1:   <tr>
    2: 		<td><%= student.id %></td>
    3: 		<td><%= student.name %></td>
    4:     <td><%= link_to 'Show', student %></td>
    5:     <td><%= link_to 'Edit', edit_student_path(student) %></td>
  app/views/students/_column.html.erb:2:in `_app_views_students__column_html_erb__68979347_2183217480_983710'
  app/views/students/index.html.erb:12:in `_app_views_students_index_html_erb__1307073614_2183255880_0'
  app/views/students/index.html.erb:11:in `each'
  app/views/students/index.html.erb:11:in `_app_views_students_index_html_erb__1307073614_2183255880_0'
  app/controllers/students_controller.rb:10:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.0ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.0ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 17:23:55 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students"[0m
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２')
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３')[0m
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１')
Rendered students/index.html.erb within layouts/application (13.4ms)
Completed   in 30ms

ActionView::Template::Error (undefined local variable or method `locals' for #<#<Class:0x10424e640>:0x10424c908>):
    8:     <th></th>
    9:     <th></th>
    10:   </tr>
    11: <%= render 'column', locals => { :students => @students } %>
    12: <%= render 'column', locals => { :students => @students_j1 } %>
    13: <%= render 'column', locals => { :students => @students_j2 } %>
    14: <%= render 'column', locals => { :students => @students_j3 } %>
  app/views/students/index.html.erb:11:in `_app_views_students_index_html_erb__1307073614_2182240100_0'
  app/controllers/students_controller.rb:10:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (75.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (82.3ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 17:24:37 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students"[0m
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２')
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３')[0m
  [1m[35mStudent Load (0.1ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１')
Rendered students/_column.html.erb (14.1ms)
Rendered students/index.html.erb within layouts/application (16.5ms)
Completed   in 33ms

ActionView::Template::Error (undefined local variable or method `students' for #<#<Class:0x104414308>:0x104412558>):
    1: <% students.each do |student| %>
    2:   <tr>
    3: 		<td><%= student.id %></td>
    4: 		<td><%= student.name %></td>
  app/views/students/_column.html.erb:1:in `_app_views_students__column_html_erb__68979347_2183133320_265260'
  app/views/students/index.html.erb:11:in `_app_views_students_index_html_erb__1307073614_2183166900_0'
  app/controllers/students_controller.rb:10:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.1ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 17:26:29 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students"[0m
Rendered students/_column.html.erb (6.1ms)
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１')
Rendered students/_column.html.erb (1.3ms)
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２')[0m
Rendered students/_column.html.erb (1.0ms)
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３')
Rendered students/_column.html.erb (2.6ms)
Rendered students/index.html.erb within layouts/application (19.8ms)
Completed 200 OK in 36ms (Views: 25.2ms | ActiveRecord: 0.9ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 17:29:18 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students"[0m
Rendered students/_column.html.erb (5.9ms)
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１')
Rendered students/_column.html.erb (1.3ms)
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２')[0m
Rendered students/_column.html.erb (1.0ms)
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３')
Rendered students/_column.html.erb (2.9ms)
Rendered students/index.html.erb within layouts/application (19.7ms)
Completed 200 OK in 36ms (Views: 25.5ms | ActiveRecord: 1.0ms)


Started GET "/students/new" for 127.0.0.1 at Tue Oct 19 17:29:38 +0900 2010
  Processing by StudentsController#new as HTML
Rendered students/_form.html.erb (8.5ms)
Rendered students/new.html.erb within layouts/application (12.9ms)
Completed 200 OK in 97ms (Views: 18.8ms | ActiveRecord: 0.0ms)


Started POST "/students" for 127.0.0.1 at Tue Oct 19 17:29:58 +0900 2010
  Processing by StudentsController#create as HTML
  Parameters: {"commit"=>"Create Student", "authenticity_token"=>"/Y4yBVUd8KOMS0wC7KrdokA8P9GSODH4+awv9TU/RiM=", "utf8"=>"✓", "student"=>{"name"=>"大塚明夫", "grade"=>"中１", "yomi"=>"オオツカアキオ"}}
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "students" ("created_at", "grade", "name", "updated_at", "yomi") VALUES ('2010-10-19 08:29:58.435601', '中１', '大塚明夫', '2010-10-19 08:29:58.435601', 'オオツカアキオ')[0m
Redirected to http://localhost:3000/students/2
Completed 302 Found in 390ms


Started GET "/students/2" for 127.0.0.1 at Tue Oct 19 17:29:58 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE ("students"."id" = 2) LIMIT 1
Rendered students/show.html.erb within layouts/application (7.4ms)
Completed 200 OK in 26ms (Views: 15.7ms | ActiveRecord: 0.3ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 17:30:00 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students"[0m
Rendered students/_column.html.erb (7.4ms)
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１')
Rendered students/_column.html.erb (3.1ms)
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２')[0m
Rendered students/_column.html.erb (1.1ms)
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３')
Rendered students/_column.html.erb (2.6ms)
Rendered students/index.html.erb within layouts/application (23.1ms)
Completed 200 OK in 39ms (Views: 28.4ms | ActiveRecord: 1.1ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 17:30:17 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students"[0m
Rendered students/_column.html.erb (7.8ms)
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１')
Rendered students/_column.html.erb (3.0ms)
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２')[0m
Rendered students/_column.html.erb (1.2ms)
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３')
Rendered students/_column.html.erb (2.7ms)
Rendered students/index.html.erb within layouts/application (23.7ms)
Completed 200 OK in 40ms (Views: 29.0ms | ActiveRecord: 1.1ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 17:30:27 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students"[0m
Rendered students/_column.html.erb (7.4ms)
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１')
Rendered students/_column.html.erb (2.9ms)
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２')[0m
Rendered students/_column.html.erb (1.1ms)
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３')
Rendered students/_column.html.erb (2.5ms)
Rendered students/index.html.erb within layouts/application (23.5ms)
Completed 200 OK in 40ms (Views: 28.9ms | ActiveRecord: 1.1ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 17:30:38 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students"[0m
Rendered students/_column.html.erb (7.6ms)
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１')
Rendered students/_column.html.erb (3.6ms)
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２')[0m
Rendered students/_column.html.erb (1.4ms)
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３')
Rendered students/_column.html.erb (2.9ms)
Rendered students/index.html.erb within layouts/application (24.6ms)
Completed 200 OK in 109ms (Views: 29.9ms | ActiveRecord: 1.2ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 17:30:39 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students"[0m
Rendered students/_column.html.erb (7.7ms)
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１')
Rendered students/_column.html.erb (2.9ms)
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２')[0m
Rendered students/_column.html.erb (1.1ms)
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３')
Rendered students/_column.html.erb (2.7ms)
Rendered students/index.html.erb within layouts/application (22.9ms)
Completed 200 OK in 38ms (Views: 28.5ms | ActiveRecord: 1.1ms)


Started GET "/students/2" for 127.0.0.1 at Tue Oct 19 17:30:43 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE ("students"."id" = 2) LIMIT 1[0m
Rendered students/show.html.erb within layouts/application (7.0ms)
Completed 200 OK in 24ms (Views: 13.2ms | ActiveRecord: 0.2ms)


Started GET "/students/1" for 127.0.0.1 at Tue Oct 19 17:33:03 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE ("students"."id" = 1) LIMIT 1
Rendered students/show.html.erb within layouts/application (6.9ms)
Completed 200 OK in 23ms (Views: 12.7ms | ActiveRecord: 0.2ms)


Started GET "/students/new" for 127.0.0.1 at Tue Oct 19 17:33:18 +0900 2010
  Processing by StudentsController#new as HTML
Rendered students/_form.html.erb (8.4ms)
Rendered students/new.html.erb within layouts/application (79.2ms)
Completed 200 OK in 93ms (Views: 85.6ms | ActiveRecord: 0.0ms)


Started POST "/students" for 127.0.0.1 at Tue Oct 19 17:33:30 +0900 2010
  Processing by StudentsController#create as HTML
  Parameters: {"commit"=>"Create Student", "authenticity_token"=>"/Y4yBVUd8KOMS0wC7KrdokA8P9GSODH4+awv9TU/RiM=", "utf8"=>"✓", "student"=>{"name"=>"速水奨", "grade"=>"中２", "yomi"=>"ハヤミショウ"}}
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "students" ("created_at", "grade", "name", "updated_at", "yomi") VALUES ('2010-10-19 08:33:30.367123', '中２', '速水奨', '2010-10-19 08:33:30.367123', 'ハヤミショウ')[0m
Redirected to http://localhost:3000/students/3
Completed 302 Found in 19ms


Started GET "/students/3" for 127.0.0.1 at Tue Oct 19 17:33:30 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE ("students"."id" = 3) LIMIT 1
Rendered students/show.html.erb within layouts/application (7.2ms)
Completed 200 OK in 23ms (Views: 13.5ms | ActiveRecord: 0.2ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 17:33:32 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students"[0m
Rendered students/_column.html.erb (9.3ms)
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１')
Rendered students/_column.html.erb (3.1ms)
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２')[0m
Rendered students/_column.html.erb (2.7ms)
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３')
Rendered students/_column.html.erb (2.6ms)
Rendered students/index.html.erb within layouts/application (26.3ms)
Completed 200 OK in 43ms (Views: 31.4ms | ActiveRecord: 1.2ms)


Started GET "/students/new" for 127.0.0.1 at Tue Oct 19 17:33:42 +0900 2010
  Processing by StudentsController#new as HTML
Rendered students/_form.html.erb (7.9ms)
Rendered students/new.html.erb within layouts/application (12.2ms)
Completed 200 OK in 26ms (Views: 18.0ms | ActiveRecord: 0.0ms)


Started POST "/students" for 127.0.0.1 at Tue Oct 19 17:34:04 +0900 2010
  Processing by StudentsController#create as HTML
  Parameters: {"commit"=>"Create Student", "authenticity_token"=>"/Y4yBVUd8KOMS0wC7KrdokA8P9GSODH4+awv9TU/RiM=", "utf8"=>"✓", "student"=>{"name"=>"大塚芳忠", "grade"=>"中２", "yomi"=>"オオツカホウチュウ"}}
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "students" ("created_at", "grade", "name", "updated_at", "yomi") VALUES ('2010-10-19 08:34:04.312395', '中２', '大塚芳忠', '2010-10-19 08:34:04.312395', 'オオツカホウチュウ')[0m
Redirected to http://localhost:3000/students/4
Completed 302 Found in 383ms


Started GET "/students/4" for 127.0.0.1 at Tue Oct 19 17:34:04 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE ("students"."id" = 4) LIMIT 1
Rendered students/show.html.erb within layouts/application (7.7ms)
Completed 200 OK in 25ms (Views: 14.5ms | ActiveRecord: 0.2ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 17:34:06 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students"[0m
Rendered students/_column.html.erb (10.2ms)
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１')
Rendered students/_column.html.erb (3.2ms)
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２')[0m
Rendered students/_column.html.erb (76.2ms)
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３')
Rendered students/_column.html.erb (3.1ms)
Rendered students/index.html.erb within layouts/application (102.1ms)
Completed 200 OK in 119ms (Views: 107.0ms | ActiveRecord: 1.4ms)


Started GET "/students/3" for 127.0.0.1 at Tue Oct 19 17:34:10 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE ("students"."id" = 3) LIMIT 1[0m
Rendered students/show.html.erb within layouts/application (6.9ms)
Completed 200 OK in 24ms (Views: 13.2ms | ActiveRecord: 0.2ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 23:15:36 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students"
Rendered students/_column.html.erb (10.2ms)
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中１')[0m
Rendered students/_column.html.erb (3.0ms)
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２')
Rendered students/_column.html.erb (5.1ms)
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３')[0m
Rendered students/_column.html.erb (2.9ms)
Rendered students/index.html.erb within layouts/application (30.1ms)
Completed 200 OK in 46ms (Views: 35.1ms | ActiveRecord: 1.4ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 23:15:48 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students"
Rendered students/_column.html.erb (9.8ms)
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中１')[0m
Rendered students/_column.html.erb (3.2ms)
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２')
Rendered students/_column.html.erb (4.1ms)
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３')[0m
Rendered students/_column.html.erb (2.8ms)
Rendered students/index.html.erb within layouts/application (29.1ms)
Completed 200 OK in 46ms (Views: 34.5ms | ActiveRecord: 1.4ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 23:16:37 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students"
Rendered students/_column.html.erb (10.2ms)
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中１')[0m
Rendered students/_column.html.erb (3.1ms)
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２')
Rendered students/_column.html.erb (4.6ms)
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３')[0m
Rendered students/_column.html.erb (2.7ms)
Rendered students/index.html.erb within layouts/application (29.4ms)
Completed 200 OK in 116ms (Views: 35.1ms | ActiveRecord: 1.3ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 23:16:41 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students"
Rendered students/_column.html.erb (10.0ms)
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中１')[0m
Rendered students/_column.html.erb (73.2ms)
  [1m[35mStudent Load (0.8ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２')
Rendered students/_column.html.erb (5.7ms)
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３')[0m
Rendered students/_column.html.erb (3.1ms)
Rendered students/index.html.erb within layouts/application (101.0ms)
Completed 200 OK in 117ms (Views: 105.4ms | ActiveRecord: 1.9ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 23:16:43 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students"
Rendered students/_column.html.erb (9.9ms)
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中１')[0m
Rendered students/_column.html.erb (2.9ms)
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２')
Rendered students/_column.html.erb (4.6ms)
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３')[0m
Rendered students/_column.html.erb (2.9ms)
Rendered students/index.html.erb within layouts/application (29.3ms)
Completed 200 OK in 45ms (Views: 34.2ms | ActiveRecord: 1.4ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 23:16:44 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students"
Rendered students/_column.html.erb (10.1ms)
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中１')[0m
Rendered students/_column.html.erb (2.9ms)
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２')
Rendered students/_column.html.erb (4.1ms)
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３')[0m
Rendered students/_column.html.erb (3.1ms)
Rendered students/index.html.erb within layouts/application (29.4ms)
Completed 200 OK in 46ms (Views: 34.6ms | ActiveRecord: 1.3ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 23:16:46 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students"
Rendered students/_column.html.erb (11.1ms)
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中１')[0m
Rendered students/_column.html.erb (3.5ms)
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２')
Rendered students/_column.html.erb (4.4ms)
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３')[0m
Rendered students/_column.html.erb (2.7ms)
Rendered students/index.html.erb within layouts/application (30.6ms)
Completed 200 OK in 115ms (Views: 35.6ms | ActiveRecord: 1.4ms)


Started GET "/students/2" for 127.0.0.1 at Tue Oct 19 23:16:58 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE ("students"."id" = 2) LIMIT 1
Rendered students/show.html.erb within layouts/application (6.8ms)
Completed 200 OK in 23ms (Views: 13.0ms | ActiveRecord: 0.2ms)


Started GET "/students/1/edit" for 127.0.0.1 at Tue Oct 19 23:27:42 +0900 2010
  Processing by StudentsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE ("students"."id" = 1) LIMIT 1[0m
Rendered students/_form.html.erb (8.1ms)
Rendered students/edit.html.erb within layouts/application (13.2ms)
Completed 200 OK in 29ms (Views: 19.1ms | ActiveRecord: 0.2ms)


Started POST "/students/1" for 127.0.0.1 at Tue Oct 19 23:27:44 +0900 2010
  Processing by StudentsController#update as HTML
  Parameters: {"commit"=>"Update Student", "authenticity_token"=>"/Y4yBVUd8KOMS0wC7KrdokA8P9GSODH4+awv9TU/RiM=", "utf8"=>"✓", "id"=>"1", "student"=>{"name"=>"清水諒", "grade"=>"中３", "yomi"=>"シミズマコト"}}
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE ("students"."id" = 1) LIMIT 1
Redirected to http://localhost:3000/students/1
Completed 302 Found in 17ms


Started GET "/students/1" for 127.0.0.1 at Tue Oct 19 23:27:44 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE ("students"."id" = 1) LIMIT 1[0m
Rendered students/show.html.erb within layouts/application (7.8ms)
Completed 200 OK in 24ms (Views: 13.8ms | ActiveRecord: 0.2ms)


Started GET "/students" for 127.0.0.1 at Tue Oct 19 23:27:46 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students"
Rendered students/_column.html.erb (11.0ms)
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中１')[0m
Rendered students/_column.html.erb (2.9ms)
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２')
Rendered students/_column.html.erb (4.0ms)
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３')[0m
Rendered students/_column.html.erb (3.2ms)
Rendered students/index.html.erb within layouts/application (31.2ms)
Completed 200 OK in 48ms (Views: 36.3ms | ActiveRecord: 1.3ms)
  [1m[36mSQL (0.7ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreateStudents (20101019053939)
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (0.7ms)[0m  [1mDROP TABLE "students"[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20101019053939'
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (0.1ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[36mSQL (0.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreateStudents (20101019053939)
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (0.7ms)[0m  [1mCREATE TABLE "students" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "yomi" varchar(255) NOT NULL, "grade" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20101019053939')
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("students")
  [1m[36mSQL (0.7ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreateStudents (20101019053939)
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (0.6ms)[0m  [1mDROP TABLE "students"[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20101019053939'
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (0.1ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[36mSQL (0.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreateStudents (20101019053939)
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (0.7ms)[0m  [1mCREATE TABLE "students" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "yomi" varchar(255) NOT NULL, "grade" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20101019053939')
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("students")
  [1m[36mSQL (0.7ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreateStudents (20101019053939)
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (0.6ms)[0m  [1mDROP TABLE "students"[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20101019053939'
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (0.1ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[36mSQL (0.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreateStudents (20101019053939)
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (0.7ms)[0m  [1mCREATE TABLE "students" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "yomi" varchar(255) NOT NULL, "grade" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20101019053939')
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("students")


Started GET "/students" for 127.0.0.1 at Wed Oct 20 00:29:31 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mSQL (0.7ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mStudent Load (0.1ms)[0m  SELECT "students".* FROM "students"
Rendered students/_column.html.erb (0.5ms)
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中１')[0m
Rendered students/_column.html.erb (1.2ms)
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２')
Rendered students/_column.html.erb (1.3ms)
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３')[0m
Rendered students/_column.html.erb (1.3ms)
Rendered students/index.html.erb within layouts/application (14.2ms)
Completed 200 OK in 51ms (Views: 20.2ms | ActiveRecord: 1.4ms)


Started GET "/students/new" for 127.0.0.1 at Wed Oct 20 00:29:48 +0900 2010
  Processing by StudentsController#new as HTML
Rendered students/_form.html.erb (81.9ms)
Rendered students/new.html.erb within layouts/application (86.8ms)
Completed 200 OK in 101ms (Views: 93.0ms | ActiveRecord: 0.0ms)


Started POST "/students" for 127.0.0.1 at Wed Oct 20 00:29:56 +0900 2010
  Processing by StudentsController#create as HTML
  Parameters: {"commit"=>"Create Student", "authenticity_token"=>"/Y4yBVUd8KOMS0wC7KrdokA8P9GSODH4+awv9TU/RiM=", "utf8"=>"✓", "student"=>{"name"=>"清水諒", "grade"=>"中１", "yomi"=>"シミズマコト"}}
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "students" ("created_at", "grade", "name", "updated_at", "yomi") VALUES ('2010-10-19 15:29:56.525380', '中１', '清水諒', '2010-10-19 15:29:56.525380', 'シミズマコト')
Redirected to http://localhost:3000/students/1
Completed 302 Found in 26ms


Started GET "/students/1" for 127.0.0.1 at Wed Oct 20 00:29:56 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE ("students"."id" = 1) LIMIT 1[0m
Rendered students/show.html.erb within layouts/application (9.6ms)
Completed 200 OK in 26ms (Views: 16.0ms | ActiveRecord: 0.2ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 00:29:58 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students"
Rendered students/_column.html.erb (6.7ms)
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中１')[0m
Rendered students/_column.html.erb (3.1ms)
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２')
Rendered students/_column.html.erb (1.3ms)
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３')[0m
Rendered students/_column.html.erb (1.1ms)
Rendered students/index.html.erb within layouts/application (21.3ms)
Completed 200 OK in 38ms (Views: 26.4ms | ActiveRecord: 1.0ms)


Started GET "/students/new" for 127.0.0.1 at Wed Oct 20 00:30:02 +0900 2010
  Processing by StudentsController#new as HTML
Rendered students/_form.html.erb (7.7ms)
Rendered students/new.html.erb within layouts/application (12.1ms)
Completed 200 OK in 26ms (Views: 18.5ms | ActiveRecord: 0.0ms)


Started POST "/students" for 127.0.0.1 at Wed Oct 20 00:30:09 +0900 2010
  Processing by StudentsController#create as HTML
  Parameters: {"commit"=>"Create Student", "authenticity_token"=>"/Y4yBVUd8KOMS0wC7KrdokA8P9GSODH4+awv9TU/RiM=", "utf8"=>"✓", "student"=>{"name"=>"大塚明夫", "grade"=>"中１", "yomi"=>""}}
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "students" ("created_at", "grade", "name", "updated_at", "yomi") VALUES ('2010-10-19 15:30:09.943912', '中１', '大塚明夫', '2010-10-19 15:30:09.943912', '')
Redirected to http://localhost:3000/students/2
Completed 302 Found in 20ms


Started GET "/students/2" for 127.0.0.1 at Wed Oct 20 00:30:09 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE ("students"."id" = 2) LIMIT 1[0m
Rendered students/show.html.erb within layouts/application (7.6ms)
Completed 200 OK in 24ms (Views: 13.9ms | ActiveRecord: 0.2ms)


Started GET "/students/2/edit" for 127.0.0.1 at Wed Oct 20 00:30:13 +0900 2010
  Processing by StudentsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE ("students"."id" = 2) LIMIT 1
Rendered students/_form.html.erb (8.3ms)
Rendered students/edit.html.erb within layouts/application (13.6ms)
Completed 200 OK in 30ms (Views: 19.6ms | ActiveRecord: 0.3ms)


Started POST "/students/2" for 127.0.0.1 at Wed Oct 20 00:30:20 +0900 2010
  Processing by StudentsController#update as HTML
  Parameters: {"commit"=>"Update Student", "authenticity_token"=>"/Y4yBVUd8KOMS0wC7KrdokA8P9GSODH4+awv9TU/RiM=", "utf8"=>"✓", "id"=>"2", "student"=>{"name"=>"大塚明夫", "grade"=>"中２", "yomi"=>"オオツカアキオ"}}
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE ("students"."id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "students" SET "grade" = '中２', "updated_at" = '2010-10-19 15:30:20.469563', "yomi" = 'オオツカアキオ' WHERE ("students"."id" = 2)
Redirected to http://localhost:3000/students/2
Completed 302 Found in 92ms


Started GET "/students/2" for 127.0.0.1 at Wed Oct 20 00:30:20 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE ("students"."id" = 2) LIMIT 1[0m
Rendered students/show.html.erb within layouts/application (7.8ms)
Completed 200 OK in 25ms (Views: 14.5ms | ActiveRecord: 0.2ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 00:30:21 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students"
Rendered students/_column.html.erb (78.4ms)
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中１')[0m
Rendered students/_column.html.erb (3.7ms)
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２')
Rendered students/_column.html.erb (3.7ms)
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３')[0m
Rendered students/_column.html.erb (1.3ms)
Rendered students/index.html.erb within layouts/application (96.4ms)
Completed 200 OK in 113ms (Views: 101.4ms | ActiveRecord: 1.3ms)


Started GET "/students/new" for 127.0.0.1 at Wed Oct 20 00:30:24 +0900 2010
  Processing by StudentsController#new as HTML
Rendered students/_form.html.erb (8.8ms)
Rendered students/new.html.erb within layouts/application (15.9ms)
Completed 200 OK in 30ms (Views: 21.4ms | ActiveRecord: 0.0ms)


Started POST "/students" for 127.0.0.1 at Wed Oct 20 00:30:33 +0900 2010
  Processing by StudentsController#create as HTML
  Parameters: {"commit"=>"Create Student", "authenticity_token"=>"/Y4yBVUd8KOMS0wC7KrdokA8P9GSODH4+awv9TU/RiM=", "utf8"=>"✓", "student"=>{"name"=>"大塚芳忠", "grade"=>"中３", "yomi"=>"オオツカホウチュウ"}}
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "students" ("created_at", "grade", "name", "updated_at", "yomi") VALUES ('2010-10-19 15:30:33.259557', '中３', '大塚芳忠', '2010-10-19 15:30:33.259557', 'オオツカホウチュウ')
Redirected to http://localhost:3000/students/3
Completed 302 Found in 19ms


Started GET "/students/3" for 127.0.0.1 at Wed Oct 20 00:30:33 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE ("students"."id" = 3) LIMIT 1[0m
Rendered students/show.html.erb within layouts/application (7.4ms)
Completed 200 OK in 103ms (Views: 92.9ms | ActiveRecord: 0.2ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 00:30:35 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students"
Rendered students/_column.html.erb (9.0ms)
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中１')[0m
Rendered students/_column.html.erb (3.2ms)
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２')
Rendered students/_column.html.erb (3.0ms)
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３')[0m
Rendered students/_column.html.erb (3.6ms)
Rendered students/index.html.erb within layouts/application (28.4ms)
Completed 200 OK in 45ms (Views: 33.7ms | ActiveRecord: 1.3ms)


Started GET "/students/new" for 127.0.0.1 at Wed Oct 20 00:35:09 +0900 2010
  Processing by StudentsController#new as HTML
Rendered students/_form.html.erb (8.3ms)
Rendered students/new.html.erb within layouts/application (13.9ms)
Completed 200 OK in 105ms (Views: 97.2ms | ActiveRecord: 0.0ms)


Started POST "/students" for 127.0.0.1 at Wed Oct 20 00:35:11 +0900 2010
  Processing by StudentsController#create as HTML
  Parameters: {"commit"=>"Create Student", "authenticity_token"=>"/Y4yBVUd8KOMS0wC7KrdokA8P9GSODH4+awv9TU/RiM=", "utf8"=>"✓", "student"=>{"name"=>"", "grade"=>"中１", "yomi"=>""}}
Rendered students/_form.html.erb (6.5ms)
Rendered students/new.html.erb within layouts/application (10.7ms)
Completed 200 OK in 33ms (Views: 16.2ms | ActiveRecord: 0.0ms)


Started POST "/students" for 127.0.0.1 at Wed Oct 20 00:35:29 +0900 2010
  Processing by StudentsController#create as HTML
  Parameters: {"commit"=>"Create Student", "authenticity_token"=>"/Y4yBVUd8KOMS0wC7KrdokA8P9GSODH4+awv9TU/RiM=", "utf8"=>"✓", "student"=>{"name"=>"速水奨", "grade"=>"中１", "yomi"=>""}}
Rendered students/_form.html.erb (5.1ms)
Rendered students/new.html.erb within layouts/application (9.2ms)
Completed 200 OK in 30ms (Views: 15.0ms | ActiveRecord: 0.0ms)


Started POST "/students" for 127.0.0.1 at Wed Oct 20 00:35:34 +0900 2010
  Processing by StudentsController#create as HTML
  Parameters: {"commit"=>"Create Student", "authenticity_token"=>"/Y4yBVUd8KOMS0wC7KrdokA8P9GSODH4+awv9TU/RiM=", "utf8"=>"✓", "student"=>{"name"=>"速水奨", "grade"=>"中１", "yomi"=>" "}}
Rendered students/_form.html.erb (5.5ms)
Rendered students/new.html.erb within layouts/application (9.6ms)
Completed 200 OK in 30ms (Views: 15.7ms | ActiveRecord: 0.0ms)


Started POST "/students" for 127.0.0.1 at Wed Oct 20 00:35:41 +0900 2010
  Processing by StudentsController#create as HTML
  Parameters: {"commit"=>"Create Student", "authenticity_token"=>"/Y4yBVUd8KOMS0wC7KrdokA8P9GSODH4+awv9TU/RiM=", "utf8"=>"✓", "student"=>{"name"=>"速水奨", "grade"=>"中１", "yomi"=>"    "}}
Rendered students/_form.html.erb (6.5ms)
Rendered students/new.html.erb within layouts/application (11.2ms)
Completed 200 OK in 33ms (Views: 17.5ms | ActiveRecord: 0.0ms)


Started POST "/students" for 127.0.0.1 at Wed Oct 20 00:52:43 +0900 2010
  Processing by StudentsController#create as HTML
  Parameters: {"commit"=>"Create Student", "authenticity_token"=>"/Y4yBVUd8KOMS0wC7KrdokA8P9GSODH4+awv9TU/RiM=", "utf8"=>"✓", "student"=>{"name"=>"速水奨", "grade"=>"中１", "yomi"=>"ハヤミショウ"}}
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "students" ("created_at", "grade", "name", "updated_at", "yomi") VALUES ('2010-10-19 15:52:43.069850', '中１', '速水奨', '2010-10-19 15:52:43.069850', 'ハヤミショウ')
Redirected to http://localhost:3000/students/4
Completed 302 Found in 21ms


Started GET "/students/4" for 127.0.0.1 at Wed Oct 20 00:52:43 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE ("students"."id" = 4) LIMIT 1[0m
Rendered students/show.html.erb within layouts/application (6.8ms)
Completed 200 OK in 24ms (Views: 12.8ms | ActiveRecord: 0.2ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 00:52:45 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students"
Rendered students/_column.html.erb (11.3ms)
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中１')[0m
Rendered students/_column.html.erb (4.3ms)
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２')
Rendered students/_column.html.erb (2.7ms)
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３')[0m
Rendered students/_column.html.erb (73.0ms)
Rendered students/index.html.erb within layouts/application (100.5ms)
Completed 200 OK in 118ms (Views: 105.8ms | ActiveRecord: 1.3ms)


Started GET "/students/1" for 127.0.0.1 at Wed Oct 20 01:03:10 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"1"}
Completed   in 6ms

ArgumentError (wrong number of arguments (3 for 2)):
  app/models/student.rb:5:in `scope'
  app/models/student.rb:5
  app/controllers/students_controller.rb:19:in `show'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.4ms)


Started GET "/students/1" for 127.0.0.1 at Wed Oct 20 01:03:31 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE ("students"."id" = 1) LIMIT 1
Rendered students/show.html.erb within layouts/application (7.1ms)
Completed   in 24ms

ActionView::Template::Error (undefined method `g_rade' for #<Student:0x104252560>):
    7: 	ヨミ：<%= @student.yomi %>
    8: </p>
    9: <p>
    10: 	学年：<%= @student.g_rade %>
    11: </p>
    12: 
    13: <%= link_to 'Edit', edit_student_path(@student) %> |
  app/views/students/show.html.erb:10:in `_app_views_students_show_html_erb___1569374097_2182240400_0'
  app/controllers/students_controller.rb:21:in `show'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.9ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.8ms)


Started GET "/students/1" for 127.0.0.1 at Wed Oct 20 01:04:04 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE ("students"."id" = 1) LIMIT 1[0m
Rendered students/show.html.erb within layouts/application (7.2ms)
Completed 200 OK in 96ms (Views: 13.2ms | ActiveRecord: 0.2ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 01:04:06 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students"
Rendered students/_column.html.erb (10.0ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi[0m
Rendered students/_column.html.erb (4.5ms)
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２')
Rendered students/_column.html.erb (2.9ms)
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３')[0m
Rendered students/_column.html.erb (3.0ms)
Rendered students/index.html.erb within layouts/application (30.1ms)
Completed 200 OK in 47ms (Views: 35.4ms | ActiveRecord: 1.4ms)


Started GET "/students/new" for 127.0.0.1 at Wed Oct 20 01:04:14 +0900 2010
  Processing by StudentsController#new as HTML
Rendered students/_form.html.erb (9.1ms)
Rendered students/new.html.erb within layouts/application (13.7ms)
Completed 200 OK in 105ms (Views: 20.3ms | ActiveRecord: 0.0ms)


Started POST "/students" for 127.0.0.1 at Wed Oct 20 01:04:34 +0900 2010
  Processing by StudentsController#create as HTML
  Parameters: {"commit"=>"Create Student", "authenticity_token"=>"/Y4yBVUd8KOMS0wC7KrdokA8P9GSODH4+awv9TU/RiM=", "utf8"=>"✓", "student"=>{"name"=>"小山力也", "grade"=>"中１", "yomi"=>"コヤマリキヤ"}}
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "students" ("created_at", "grade", "name", "updated_at", "yomi") VALUES ('2010-10-19 16:04:34.301054', '中１', '小山力也', '2010-10-19 16:04:34.301054', 'コヤマリキヤ')
Redirected to http://localhost:3000/students/5
Completed 302 Found in 19ms


Started GET "/students/5" for 127.0.0.1 at Wed Oct 20 01:04:34 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE ("students"."id" = 5) LIMIT 1[0m
Rendered students/show.html.erb within layouts/application (7.5ms)
Completed 200 OK in 24ms (Views: 13.5ms | ActiveRecord: 0.2ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 01:04:36 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students"
Rendered students/_column.html.erb (11.1ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi[0m
Rendered students/_column.html.erb (6.3ms)
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２')
Rendered students/_column.html.erb (3.4ms)
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３')[0m
Rendered students/_column.html.erb (2.7ms)
Rendered students/index.html.erb within layouts/application (32.7ms)
Completed 200 OK in 50ms (Views: 37.8ms | ActiveRecord: 1.5ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 01:05:05 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students"
Completed   in 12ms

NoMethodError (undefined method `order' for #<Array:0x1042bb948>):
  app/controllers/students_controller.rb:5:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (84.0ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 01:05:56 +0900 2010
  Processing by StudentsController#index as HTML
Rendered students/_column.html.erb (0.8ms)
Rendered students/index.html.erb within layouts/application (2.9ms)
Completed   in 18ms

ActionView::Template::Error (wrong number of arguments (0 for 1)):
    6:     <th></th>
    7:     <th></th>
    8:   </tr>
    9: <% students.each do |student| %>
    10:   <tr>
    11: 		<td><%= student.id %></td>
    12: 		<td><%= student.name %></td>
  app/views/students/_column.html.erb:9:in `_app_views_students__column_html_erb__68979347_2183249840_554956'
  app/views/students/index.html.erb:4:in `_app_views_students_index_html_erb__1307073614_2183269460_0'
  app/controllers/students_controller.rb:10:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi[0m
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.6ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.4ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 01:06:38 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students"
Rendered students/_column.html.erb (11.5ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi[0m
Rendered students/_column.html.erb (6.4ms)
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi
Rendered students/_column.html.erb (3.1ms)
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３')[0m
Rendered students/_column.html.erb (2.7ms)
Rendered students/index.html.erb within layouts/application (32.4ms)
Completed 200 OK in 49ms (Views: 37.2ms | ActiveRecord: 1.4ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 01:08:23 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_column.html.erb (11.7ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi[0m
Rendered students/_column.html.erb (6.0ms)
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi
Rendered students/_column.html.erb (3.1ms)
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３')[0m
Rendered students/_column.html.erb (2.9ms)
Rendered students/index.html.erb within layouts/application (32.7ms)
Completed 200 OK in 50ms (Views: 37.5ms | ActiveRecord: 1.5ms)


Started GET "/students/5/edit" for 127.0.0.1 at Wed Oct 20 01:38:41 +0900 2010
  Processing by StudentsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE ("students"."id" = 5) LIMIT 1
Rendered students/_form.html.erb (8.3ms)
Rendered students/edit.html.erb within layouts/application (13.1ms)
Completed 200 OK in 31ms (Views: 19.7ms | ActiveRecord: 0.2ms)


Started POST "/students/5" for 127.0.0.1 at Wed Oct 20 01:38:43 +0900 2010
  Processing by StudentsController#update as HTML
  Parameters: {"commit"=>"Update Student", "authenticity_token"=>"/Y4yBVUd8KOMS0wC7KrdokA8P9GSODH4+awv9TU/RiM=", "utf8"=>"✓", "id"=>"5", "student"=>{"name"=>"小山力也", "grade"=>"中１", "yomi"=>"コヤマリキヤ"}}
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE ("students"."id" = 5) LIMIT 1[0m
Redirected to http://localhost:3000/students/5
Completed 302 Found in 18ms


Started GET "/students/5" for 127.0.0.1 at Wed Oct 20 01:38:43 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE ("students"."id" = 5) LIMIT 1
Rendered students/show.html.erb within layouts/application (7.0ms)
Completed 200 OK in 24ms (Views: 13.3ms | ActiveRecord: 0.2ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 01:38:45 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_column.html.erb (11.7ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi
Rendered students/_column.html.erb (6.5ms)
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi[0m
Rendered students/_column.html.erb (3.2ms)
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi
Rendered students/_column.html.erb (3.0ms)
Rendered students/index.html.erb within layouts/application (33.4ms)
Completed 200 OK in 51ms (Views: 38.2ms | ActiveRecord: 1.7ms)


Started GET "/students/new" for 127.0.0.1 at Wed Oct 20 01:38:47 +0900 2010
  Processing by StudentsController#new as HTML
Rendered students/_form.html.erb (8.5ms)
Rendered students/new.html.erb within layouts/application (12.8ms)
Completed 200 OK in 98ms (Views: 18.6ms | ActiveRecord: 0.0ms)


Started POST "/students" for 127.0.0.1 at Wed Oct 20 01:39:39 +0900 2010
  Processing by StudentsController#create as HTML
  Parameters: {"commit"=>"Create Student", "authenticity_token"=>"/Y4yBVUd8KOMS0wC7KrdokA8P9GSODH4+awv9TU/RiM=", "utf8"=>"✓", "student"=>{"name"=>"小山剛志", "grade"=>"中２", "yomi"=>"コヤマツヨシ"}}
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "students" ("created_at", "grade", "name", "updated_at", "yomi") VALUES ('2010-10-19 16:39:39.151157', '中２', '小山剛志', '2010-10-19 16:39:39.151157', 'コヤマツヨシ')[0m
Redirected to http://localhost:3000/students/6
Completed 302 Found in 417ms


Started GET "/students/6" for 127.0.0.1 at Wed Oct 20 01:39:39 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE ("students"."id" = 6) LIMIT 1
Rendered students/show.html.erb within layouts/application (8.3ms)
Completed 200 OK in 28ms (Views: 17.7ms | ActiveRecord: 0.2ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 01:39:41 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_column.html.erb (13.1ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi
Rendered students/_column.html.erb (5.9ms)
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi[0m
Rendered students/_column.html.erb (4.3ms)
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi
Rendered students/_column.html.erb (3.2ms)
Rendered students/index.html.erb within layouts/application (35.2ms)
Completed 200 OK in 52ms (Views: 39.8ms | ActiveRecord: 1.6ms)


Started GET "/students/5/edit" for 127.0.0.1 at Wed Oct 20 02:07:09 +0900 2010
  Processing by StudentsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE ("students"."id" = 5) LIMIT 1[0m
Rendered students/_form.html.erb (8.3ms)
Rendered students/edit.html.erb within layouts/application (13.0ms)
Completed 200 OK in 29ms (Views: 18.6ms | ActiveRecord: 0.2ms)


Started GET "/students/5" for 127.0.0.1 at Wed Oct 20 02:07:28 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE ("students"."id" = 5) LIMIT 1
Rendered students/show.html.erb within layouts/application (7.2ms)
Completed 200 OK in 25ms (Views: 13.5ms | ActiveRecord: 0.2ms)


Started GET "/students/5/edit" for 127.0.0.1 at Wed Oct 20 02:07:31 +0900 2010
  Processing by StudentsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE ("students"."id" = 5) LIMIT 1[0m
Rendered students/_form.html.erb (8.0ms)
Rendered students/edit.html.erb within layouts/application (13.1ms)
Completed 200 OK in 29ms (Views: 18.7ms | ActiveRecord: 0.2ms)


Started POST "/students/5" for 127.0.0.1 at Wed Oct 20 02:07:32 +0900 2010
  Processing by StudentsController#update as HTML
  Parameters: {"commit"=>"Update Student", "authenticity_token"=>"/Y4yBVUd8KOMS0wC7KrdokA8P9GSODH4+awv9TU/RiM=", "utf8"=>"✓", "id"=>"5", "student"=>{"name"=>"小山力也", "grade"=>"中１", "yomi"=>"コヤマリキヤ"}}
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE ("students"."id" = 5) LIMIT 1
Redirected to http://localhost:3000/students/5
Completed 302 Found in 18ms


Started GET "/students/5" for 127.0.0.1 at Wed Oct 20 02:07:32 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE ("students"."id" = 5) LIMIT 1[0m
Rendered students/show.html.erb within layouts/application (7.1ms)
Completed 200 OK in 101ms (Views: 12.8ms | ActiveRecord: 0.2ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 02:07:34 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_column.html.erb (12.9ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi[0m
Rendered students/_column.html.erb (6.4ms)
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi
Rendered students/_column.html.erb (4.5ms)
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi[0m
Rendered students/_column.html.erb (3.0ms)
Rendered students/index.html.erb within layouts/application (35.8ms)
Completed 200 OK in 53ms (Views: 40.5ms | ActiveRecord: 1.6ms)


Started GET "/students/2" for 127.0.0.1 at Wed Oct 20 02:07:46 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE ("students"."id" = 2) LIMIT 1
Rendered students/show.html.erb within layouts/application (7.6ms)
Completed 200 OK in 25ms (Views: 13.6ms | ActiveRecord: 0.2ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 02:07:47 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_column.html.erb (13.4ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi
Rendered students/_column.html.erb (6.1ms)
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi[0m
Rendered students/_column.html.erb (4.8ms)
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi
Rendered students/_column.html.erb (3.0ms)
Rendered students/index.html.erb within layouts/application (36.4ms)
Completed 200 OK in 54ms (Views: 41.2ms | ActiveRecord: 1.7ms)


Started GET "/students/4/edit" for 127.0.0.1 at Wed Oct 20 02:07:50 +0900 2010
  Processing by StudentsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE ("students"."id" = 4) LIMIT 1[0m
Rendered students/_form.html.erb (9.4ms)
Rendered students/edit.html.erb within layouts/application (14.3ms)
Completed 200 OK in 109ms (Views: 19.9ms | ActiveRecord: 0.2ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 02:07:53 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_column.html.erb (13.1ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi[0m
Rendered students/_column.html.erb (5.9ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi
Rendered students/_column.html.erb (4.6ms)
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi[0m
Rendered students/_column.html.erb (2.9ms)
Rendered students/index.html.erb within layouts/application (35.8ms)
Completed 200 OK in 53ms (Views: 40.6ms | ActiveRecord: 1.7ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 02:09:08 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_column.html.erb (13.8ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi[0m
Rendered students/_column.html.erb (6.6ms)
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi
Rendered students/_column.html.erb (4.7ms)
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi[0m
Rendered students/_column.html.erb (3.1ms)
Rendered students/index.html.erb within layouts/application (37.4ms)
Completed 200 OK in 130ms (Views: 42.4ms | ActiveRecord: 1.7ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 02:10:02 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi[0m
Rendered students/_column.html.erb (81.6ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi
Rendered students/_column.html.erb (5.2ms)
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi[0m
Rendered students/_column.html.erb (3.4ms)
Rendered students/index.html.erb within layouts/application (98.0ms)
Completed 200 OK in 115ms (Views: 102.8ms | ActiveRecord: 1.8ms)


Started GET "/ajax/act1" for 127.0.0.1 at Wed Oct 20 03:24:13 +0900 2010

ActionController::RoutingError (No route matches "/ajax/act1"):
  

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.9ms)


Started GET "/ajax/act1" for 127.0.0.1 at Wed Oct 20 03:24:18 +0900 2010

ActionController::RoutingError (No route matches "/ajax/act1"):
  

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (2.0ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 04:00:05 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi[0m
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi[0m
Rendered students/_student.html.erb (30.7ms)
Rendered students/index.html.erb within layouts/application (33.3ms)
Completed   in 51ms

ActionView::Template::Error (undefined method `link_to_remote' for #<#<Class:0x104281590>:0x10427e570>):
    1: <%= link_to_remote(grade, :url => { :action => :index_test }, :with => grade) %>
  app/views/students/_student.html.erb:1:in `_app_views_students__student_html_erb__2140457095_2182326320_3394124'
  app/views/students/index.html.erb:4:in `_app_views_students_index_html_erb__1307073614_2182341780_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (85.6ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (92.8ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 04:03:15 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi[0m
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi[0m
Rendered students/_student.html.erb (29.7ms)
Rendered students/index.html.erb within layouts/application (32.4ms)
Completed   in 51ms

ActionView::Template::Error (undefined method `link_to_remote' for #<#<Class:0x1043ec7b8>:0x1043eaa80>):
    1: <%= link_to_remote(grade, :url => { :action => :index }, :with => grade) %>
  app/views/students/_student.html.erb:1:in `_app_views_students__student_html_erb__2140457095_2183066780_3394124'
  app/views/students/index.html.erb:4:in `_app_views_students_index_html_erb__1307073614_2183088020_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.6ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (18.1ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 04:03:26 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
ERROR: compiling _app_views_students__student_html_erb__2140457095_2181898820_3394124 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_student.html.erb:1: syntax error, unexpected ')', expecting kEND
...=> :index }, :with => grade) );@output_buffer.safe_concat('
                              ^
Function body:           def _app_views_students__student_html_erb__2140457095_2181898820_3394124(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_student";_old_output_buffer = @output_buffer;student = local_assigns[:student];grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append= ( link_to_remote :grade, :url => { :action => :index }, :with => grade) );@output_buffer.safe_concat('
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_student.html.erb:5:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.html.erb:4:in `_app_views_students_index_html_erb__1307073614_2181914840_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/mime_responds.rb:192:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_student.html.erb (0.8ms)
Rendered students/index.html.erb within layouts/application (3.2ms)
Completed   in 20ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_student.html.erb:1: syntax error, unexpected ')', expecting kEND
...=> :index }, :with => grade) );@output_buffer.safe_concat('
                              ^):
    1: <%= link_to_remote :grade, :url => { :action => :index }, :with => grade) %>
  app/views/students/_student.html.erb:5:in `compile'
  app/views/students/index.html.erb:4:in `_app_views_students_index_html_erb__1307073614_2181914840_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi[0m
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (15.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (22.6ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 04:04:29 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi[0m
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi[0m
Rendered students/_student.html.erb (29.2ms)
Rendered students/index.html.erb within layouts/application (31.8ms)
Completed   in 50ms

ActionView::Template::Error (undefined method `link_to_remote' for #<#<Class:0x1043a1d08>:0x10439ffa8>):
    1: <%= link_to_remote('grade', :url => { :action => 'index' }, :with => 'grade') %>
  app/views/students/_student.html.erb:1:in `_app_views_students__student_html_erb__2140457095_2182919440_3394124'
  app/views/students/index.html.erb:4:in `_app_views_students_index_html_erb__1307073614_2182934960_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.3ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 04:08:44 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.9ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
ERROR: compiling _app_views_students__student_html_erb__2140457095_2181785980_3394124 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_student.html.erb:1: syntax error, unexpected tASSOC, expecting '}'
...te('grade',{:url => :action => 'index' }, :with => 'grade') ...
                              ^
/Users/shimizu/rails/season_class/app/views/students/_student.html.erb:1: syntax error, unexpected '}', expecting ')'
...,{:url => :action => 'index' }, :with => 'grade') );@output_...
                              ^
/Users/shimizu/rails/season_class/app/views/students/_student.html.erb:1: syntax error, unexpected ')', expecting kEND
...'index' }, :with => 'grade') );@output_buffer.safe_concat('
                              ^
Function body:           def _app_views_students__student_html_erb__2140457095_2181785980_3394124(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_student";_old_output_buffer = @output_buffer;student = local_assigns[:student];grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append= ( link_to_remote('grade',{:url => :action => 'index' }, :with => 'grade') );@output_buffer.safe_concat('
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_student.html.erb:5:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.html.erb:4:in `_app_views_students_index_html_erb__1307073614_2181801040_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/mime_responds.rb:192:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_student.html.erb (71.7ms)
Rendered students/index.html.erb within layouts/application (74.3ms)
Completed   in 92ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_student.html.erb:1: syntax error, unexpected tASSOC, expecting '}'
...te('grade',{:url => :action => 'index' }, :with => 'grade') ...
                              ^
/Users/shimizu/rails/season_class/app/views/students/_student.html.erb:1: syntax error, unexpected '}', expecting ')'
...,{:url => :action => 'index' }, :with => 'grade') );@output_...
                              ^
/Users/shimizu/rails/season_class/app/views/students/_student.html.erb:1: syntax error, unexpected ')', expecting kEND
...'index' }, :with => 'grade') );@output_buffer.safe_concat('
                              ^):
    1: <%= link_to_remote('grade',{:url => :action => 'index' }, :with => 'grade') %>
  app/views/students/_student.html.erb:5:in `compile'
  app/views/students/index.html.erb:4:in `_app_views_students_index_html_erb__1307073614_2181801040_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi[0m
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (16.1ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (23.5ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 04:09:42 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.9ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (1.4ms)
Rendered students/index.html.erb within layouts/application (4.1ms)
Completed   in 21ms

ActionView::Template::Error (No route matches {:controller=>"students", :action=>"destroy"}):
    1: <%= link_to_remote('grade', :url => student_path, :with => 'grade') %>
  app/views/students/_student.html.erb:1:in `_app_views_students__student_html_erb__2140457095_2182525180_3394124'
  app/views/students/index.html.erb:4:in `_app_views_students_index_html_erb__1307073614_2182541420_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi[0m
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (15.8ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (22.5ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 04:10:31 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (1.0ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (1.0ms)
Rendered students/index.html.erb within layouts/application (4.1ms)
Completed   in 23ms

ActionView::Template::Error (No route matches {:controller=>"students", :action=>"destroy"}):
    1: <%= link_to_remote('grade', :action => student_path, :with => 'grade') %>
  app/views/students/_student.html.erb:1:in `_app_views_students__student_html_erb__2140457095_2181520580_3394124'
  app/views/students/index.html.erb:4:in `_app_views_students_index_html_erb__1307073614_2181535400_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi[0m
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (15.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (22.6ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 04:11:27 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (1.0ms)
Rendered students/index.html.erb within layouts/application (3.6ms)
Completed   in 21ms

ActionView::Template::Error (No route matches {:controller=>"students", :action=>"destroy"}):
    1: <%= link_to_remote('grade', :url => student_path, :action => 'index', :with => 'grade') %>
  app/views/students/_student.html.erb:1:in `_app_views_students__student_html_erb__2140457095_2182654940_3394124'
  app/views/students/index.html.erb:4:in `_app_views_students_index_html_erb__1307073614_2182669840_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi[0m
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (15.1ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (21.8ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 04:11:44 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi[0m
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi[0m
Rendered students/_student.html.erb (99.6ms)
Rendered students/index.html.erb within layouts/application (102.3ms)
Completed   in 119ms

ActionView::Template::Error (undefined method `link_to_remote' for #<#<Class:0x104143f20>:0x104142238>):
    1: <%= link_to_remote('grade', :url => {:action => 'index'}, :with => 'grade') %>
  app/views/students/_student.html.erb:1:in `_app_views_students__student_html_erb__2140457095_2181679160_3394124'
  app/views/students/index.html.erb:4:in `_app_views_students_index_html_erb__1307073614_2181694320_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.3ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 04:14:44 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
ERROR: compiling _app_views_students__student_html_erb__2140457095_2182480020_3394124 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_student.html.erb:1: syntax error, unexpected ')', expecting kEND
...e => true, :with => 'grade') );@output_buffer.safe_concat('
                              ^
Function body:           def _app_views_students__student_html_erb__2140457095_2182480020_3394124(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_student";_old_output_buffer = @output_buffer;student = local_assigns[:student];grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append= ( link_to 'grade', :action => 'index', :remote => true, :with => 'grade') );@output_buffer.safe_concat('
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_student.html.erb:5:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.html.erb:4:in `_app_views_students_index_html_erb__1307073614_2182495860_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/mime_responds.rb:192:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_student.html.erb (1.0ms)
Rendered students/index.html.erb within layouts/application (3.9ms)
Completed   in 22ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_student.html.erb:1: syntax error, unexpected ')', expecting kEND
...e => true, :with => 'grade') );@output_buffer.safe_concat('
                              ^):
    1: <%= link_to 'grade', :action => 'index', :remote => true, :with => 'grade') %>
  app/views/students/_student.html.erb:5:in `compile'
  app/views/students/index.html.erb:4:in `_app_views_students_index_html_erb__1307073614_2182495860_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi[0m
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (15.7ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (22.6ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 04:14:58 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (77.1ms)
Rendered students/_student.html.erb (0.9ms)
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi[0m
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi[0m
Rendered students/index.html.erb within layouts/application (112.0ms)
Completed   in 130ms

ActionView::Template::Error (undefined local variable or method `students' for #<#<Class:0x1040f0410>:0x1040ebfa0>):
    12:     <th></th>
    13:     <th></th>
    14:   </tr>
    15: <% students.each do |student| %>
    16:   <tr>
    17: 		<td><%= student.name %></td>
    18:     <td><%= link_to 'Show', student %></td>
  app/views/students/index.html.erb:15:in `_app_views_students_index_html_erb__1307073614_2181516000_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.9ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.8ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 04:23:33 +0900 2010
  Processing by StudentsController#index as HTML
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (1.0ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade like NULL)
Rendered students/index.html.erb within layouts/application (8.7ms)
Completed 200 OK in 24ms (Views: 14.0ms | ActiveRecord: 0.4ms)


Started GET "/students?with=grade&remote=true" for 127.0.0.1 at Wed Oct 20 04:23:47 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"remote"=>"true", "with"=>"grade"}
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.7ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like NULL)[0m
Rendered students/index.html.erb within layouts/application (9.5ms)
Completed 200 OK in 25ms (Views: 15.0ms | ActiveRecord: 0.4ms)


Started GET "/students?with=grade&remote=true" for 127.0.0.1 at Wed Oct 20 04:23:48 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"remote"=>"true", "with"=>"grade"}
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.7ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade like NULL)
Rendered students/index.html.erb within layouts/application (8.2ms)
Completed 200 OK in 23ms (Views: 13.7ms | ActiveRecord: 0.4ms)


Started GET "/students?with=grade&remote=true" for 127.0.0.1 at Wed Oct 20 04:25:00 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"remote"=>"true", "with"=>"grade"}
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.7ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like NULL)[0m
Rendered students/index.html.erb within layouts/application (8.5ms)
Completed 200 OK in 24ms (Views: 14.3ms | ActiveRecord: 0.4ms)


Started GET "/students?with=grade&remote=true" for 127.0.0.1 at Wed Oct 20 04:25:26 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"remote"=>"true", "with"=>"grade"}
Completed   in 10ms

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.+):
  app/controllers/students_controller.rb:13:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade like NULL)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (16.2ms)


Started GET "/students?with=grade&remote=true" for 127.0.0.1 at Wed Oct 20 04:25:51 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"remote"=>"true", "with"=>"grade"}
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.7ms)
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like NULL)[0m
Rendered students/index.html.erb within layouts/application (8.3ms)
Completed 200 OK in 23ms (Views: 13.9ms | ActiveRecord: 0.6ms)


Started GET "/students?with=grade&remote=true" for 127.0.0.1 at Wed Oct 20 04:25:59 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"remote"=>"true", "with"=>"grade"}
Rendered students/_student.html.erb (1.0ms)
Rendered students/_student.html.erb (0.7ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade like NULL)
Rendered students/index.html.erb within layouts/application (8.7ms)
Completed 200 OK in 25ms (Views: 14.7ms | ActiveRecord: 0.4ms)


Started GET "/students?with=grade&remote=true" for 127.0.0.1 at Wed Oct 20 04:26:00 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"remote"=>"true", "with"=>"grade"}
Rendered students/_student.html.erb (1.4ms)
Rendered students/_student.html.erb (0.8ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like NULL)[0m
Rendered students/index.html.erb within layouts/application (9.2ms)
Completed 200 OK in 24ms (Views: 14.8ms | ActiveRecord: 0.4ms)


Started GET "/students?with=grade&remote=true" for 127.0.0.1 at Wed Oct 20 04:26:02 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"remote"=>"true", "with"=>"grade"}
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.7ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade like NULL)
Rendered students/index.html.erb within layouts/application (8.5ms)
Completed 200 OK in 23ms (Views: 14.0ms | ActiveRecord: 0.4ms)


Started GET "/students?with=grade&remote=true" for 127.0.0.1 at Wed Oct 20 04:26:56 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"remote"=>"true", "with"=>"grade"}
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.8ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like NULL)[0m
Rendered students/index.html.erb within layouts/application (8.7ms)
Completed 200 OK in 24ms (Views: 15.0ms | ActiveRecord: 0.4ms)


Started GET "/students?with=%E4%B8%AD%EF%BC%91&remote=true" for 127.0.0.1 at Wed Oct 20 04:26:58 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"remote"=>"true", "with"=>"中１"}
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.7ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade like NULL)
Rendered students/index.html.erb within layouts/application (8.5ms)
Completed 200 OK in 23ms (Views: 14.2ms | ActiveRecord: 0.4ms)


Started GET "/students?with=%E4%B8%AD%EF%BC%92&remote=true" for 127.0.0.1 at Wed Oct 20 04:27:00 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"remote"=>"true", "with"=>"中２"}
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.7ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like NULL)[0m
Rendered students/index.html.erb within layouts/application (8.3ms)
Completed 200 OK in 99ms (Views: 13.6ms | ActiveRecord: 0.4ms)


Started GET "/students?with=%E4%B8%AD%EF%BC%92&remote=true" for 127.0.0.1 at Wed Oct 20 04:27:42 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"remote"=>"true", "with"=>"中２"}
Rendered students/_student.html.erb (1.0ms)
Rendered students/_student.html.erb (1.3ms)
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade like NULL)
Rendered students/index.html.erb within layouts/application (11.7ms)
Completed 200 OK in 28ms (Views: 17.3ms | ActiveRecord: 0.5ms)


Started GET "/students?with=%E4%B8%AD%EF%BC%92&remote=true" for 127.0.0.1 at Wed Oct 20 04:29:31 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"remote"=>"true", "with"=>"中２"}
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.7ms)
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like '@grade')[0m
Rendered students/index.html.erb within layouts/application (82.0ms)
Completed 200 OK in 97ms (Views: 87.3ms | ActiveRecord: 0.5ms)


Started GET "/students?with=%E4%B8%AD%EF%BC%92&remote=true" for 127.0.0.1 at Wed Oct 20 04:29:36 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"remote"=>"true", "with"=>"中２"}
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.7ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '@grade')
Rendered students/index.html.erb within layouts/application (8.3ms)
Completed 200 OK in 24ms (Views: 13.6ms | ActiveRecord: 0.4ms)


Started GET "/students?with=%E4%B8%AD%EF%BC%92&remote=true" for 127.0.0.1 at Wed Oct 20 04:29:49 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"remote"=>"true", "with"=>"中２"}
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.7ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like '@grade')[0m
Rendered students/index.html.erb within layouts/application (8.4ms)
Completed 200 OK in 94ms (Views: 13.6ms | ActiveRecord: 0.4ms)


Started GET "/students?with=%E4%B8%AD%EF%BC%92&remote=true" for 127.0.0.1 at Wed Oct 20 04:30:05 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"remote"=>"true", "with"=>"中２"}
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.7ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '@grade')
Rendered students/index.html.erb within layouts/application (8.6ms)
Completed 200 OK in 24ms (Views: 13.9ms | ActiveRecord: 0.4ms)


Started GET "/students?with=%E4%B8%AD%EF%BC%92&remote=true" for 127.0.0.1 at Wed Oct 20 04:30:24 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"remote"=>"true", "with"=>"中２"}
Rendered students/_student.html.erb (1.5ms)
Rendered students/_student.html.erb (0.7ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like '@grade')[0m
Rendered students/index.html.erb within layouts/application (9.6ms)
Completed 200 OK in 25ms (Views: 14.9ms | ActiveRecord: 0.4ms)


Started GET "/students?with=%E4%B8%AD%EF%BC%92&remote=true" for 127.0.0.1 at Wed Oct 20 04:31:47 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"remote"=>"true", "with"=>"中２"}
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.8ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '@grade')
Rendered students/index.html.erb within layouts/application (9.7ms)
Completed 200 OK in 26ms (Views: 15.2ms | ActiveRecord: 0.4ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 04:31:59 +0900 2010
  Processing by StudentsController#index as HTML
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.7ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like '@grade')[0m
Rendered students/index.html.erb within layouts/application (8.4ms)
Completed 200 OK in 24ms (Views: 14.2ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91&remote=true" for 127.0.0.1 at Wed Oct 20 04:32:01 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１", "remote"=>"true"}
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.7ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '@grade')
Rendered students/index.html.erb within layouts/application (8.4ms)
Completed 200 OK in 23ms (Views: 14.0ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91&remote=true" for 127.0.0.1 at Wed Oct 20 04:32:29 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１", "remote"=>"true"}
Rendered students/_student.html.erb (80.8ms)
Rendered students/_student.html.erb (0.9ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like NULL)[0m
Rendered students/index.html.erb within layouts/application (88.9ms)
Completed 200 OK in 106ms (Views: 95.2ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91&remote=true" for 127.0.0.1 at Wed Oct 20 04:32:43 +0900 2010

SyntaxError (/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:13: syntax error, unexpected tIDENTIFIER, expecting ')'
      @test = params[:grade]
           ^):
  

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.1ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (9.8ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91&remote=true" for 127.0.0.1 at Wed Oct 20 04:33:00 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１", "remote"=>"true"}
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.7ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '%@grade%')
Rendered students/index.html.erb within layouts/application (8.8ms)
Completed 200 OK in 25ms (Views: 14.2ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91&remote=true" for 127.0.0.1 at Wed Oct 20 04:33:21 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１", "remote"=>"true"}
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (1.4ms)
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like '%params[:grade]%')[0m
Rendered students/index.html.erb within layouts/application (10.3ms)
Completed 200 OK in 26ms (Views: 16.3ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91&remote=true" for 127.0.0.1 at Wed Oct 20 04:33:22 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１", "remote"=>"true"}
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.8ms)
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '%params[:grade]%')
Rendered students/index.html.erb within layouts/application (9.2ms)
Completed 200 OK in 25ms (Views: 14.9ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91&remote=true" for 127.0.0.1 at Wed Oct 20 04:36:12 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１", "remote"=>"true"}
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.7ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like '%#{params[:grade]}%')[0m
Rendered students/index.html.erb within layouts/application (8.8ms)
Completed 200 OK in 24ms (Views: 14.0ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91&remote=true" for 127.0.0.1 at Wed Oct 20 04:36:33 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１", "remote"=>"true"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '%#{params[:grade]}%')
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (75.5ms)
Rendered students/index.html.erb within layouts/application (83.0ms)
Completed 200 OK in 99ms (Views: 88.7ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91&remote=true" for 127.0.0.1 at Wed Oct 20 04:36:37 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１", "remote"=>"true"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like '%#{params[:grade]}%')[0m
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (7.3ms)
Completed 200 OK in 24ms (Views: 13.7ms | ActiveRecord: 0.4ms)


Started GET "/students/new" for 127.0.0.1 at Wed Oct 20 04:36:39 +0900 2010
  Processing by StudentsController#new as HTML
Rendered students/_form.html.erb (8.4ms)
Rendered students/new.html.erb within layouts/application (13.4ms)
Completed 200 OK in 102ms (Views: 19.3ms | ActiveRecord: 0.0ms)


Started POST "/students" for 127.0.0.1 at Wed Oct 20 04:37:00 +0900 2010
  Processing by StudentsController#create as HTML
  Parameters: {"commit"=>"Create Student", "authenticity_token"=>"/Y4yBVUd8KOMS0wC7KrdokA8P9GSODH4+awv9TU/RiM=", "utf8"=>"✓", "student"=>{"name"=>"銀河万丈", "grade"=>"中３", "yomi"=>"ギンガバンジョウ"}}
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "students" ("created_at", "grade", "name", "updated_at", "yomi") VALUES ('2010-10-19 19:37:00.742968', '中３', '銀河万丈', '2010-10-19 19:37:00.742968', 'ギンガバンジョウ')
Redirected to http://localhost:3000/students/7
Completed 302 Found in 427ms


Started GET "/students/7" for 127.0.0.1 at Wed Oct 20 04:37:01 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE ("students"."id" = 7) LIMIT 1[0m
Rendered students/show.html.erb within layouts/application (8.1ms)
Completed 200 OK in 26ms (Views: 14.8ms | ActiveRecord: 0.2ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 04:37:02 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '%#{params[:grade]}%')
Rendered students/_student.html.erb (1.5ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/index.html.erb within layouts/application (8.4ms)
Completed 200 OK in 25ms (Views: 14.4ms | ActiveRecord: 0.5ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 04:38:24 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
  [1m[35mStudent Load (0.1ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '%#{params[:grade]}%')
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/index.html.erb within layouts/application (7.3ms)
Completed 200 OK in 24ms (Views: 13.0ms | ActiveRecord: 0.8ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 04:38:27 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '%#{params[:grade]}%')
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (7.7ms)
Completed 200 OK in 25ms (Views: 13.3ms | ActiveRecord: 0.9ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 04:39:44 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
  [1m[35mStudent Load (0.1ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '%#{params[:grade]}%')
Rendered students/_student.html.erb (1.0ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/index.html.erb within layouts/application (9.1ms)
Completed 200 OK in 26ms (Views: 15.0ms | ActiveRecord: 0.9ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 04:44:09 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
  [1m[35mStudent Load (0.1ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '%#{params[:grade]}%')
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (7.6ms)
Completed 200 OK in 25ms (Views: 13.4ms | ActiveRecord: 0.9ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 04:44:31 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/index.html.erb within layouts/application (93.2ms)
Completed 200 OK in 111ms (Views: 99.2ms | ActiveRecord: 0.7ms)


Started GET "/students/1" for 127.0.0.1 at Wed Oct 20 04:44:46 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE ("students"."id" = 1) LIMIT 1
Rendered students/show.html.erb within layouts/application (7.1ms)
Completed 200 OK in 25ms (Views: 14.1ms | ActiveRecord: 0.2ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91&remote=true" for 127.0.0.1 at Wed Oct 20 04:44:49 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１", "remote"=>"true"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '%#{params[:grade]}%')
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (1.1ms)
Rendered students/index.html.erb within layouts/application (8.3ms)
Completed 200 OK in 26ms (Views: 14.2ms | ActiveRecord: 0.9ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91&remote=true" for 127.0.0.1 at Wed Oct 20 04:45:06 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１", "remote"=>"true"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
  [1m[35mStudent Load (0.1ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '#{params[:grade]}')
Rendered students/_student.html.erb (1.0ms)
Rendered students/_student.html.erb (0.9ms)
Rendered students/index.html.erb within layouts/application (8.1ms)
Completed 200 OK in 26ms (Views: 13.7ms | ActiveRecord: 0.8ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91&remote=true" for 127.0.0.1 at Wed Oct 20 04:45:26 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１", "remote"=>"true"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '中１')
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (15.9ms)
Completed 200 OK in 34ms (Views: 21.7ms | ActiveRecord: 0.9ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91&remote=true" for 127.0.0.1 at Wed Oct 20 04:45:58 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１", "remote"=>"true"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
  [1m[35mStudent Load (0.1ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '#{params[:grade]}')
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (7.4ms)
Completed 200 OK in 25ms (Views: 13.2ms | ActiveRecord: 0.8ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91&remote=true" for 127.0.0.1 at Wed Oct 20 04:46:16 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１", "remote"=>"true"}
  [1m[36mStudent Load (0.8ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '中１')
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (84.6ms)
Completed 200 OK in 103ms (Views: 90.8ms | ActiveRecord: 1.1ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91&remote=true" for 127.0.0.1 at Wed Oct 20 04:46:23 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１", "remote"=>"true"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '中１')
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (15.5ms)
Completed 200 OK in 34ms (Views: 21.3ms | ActiveRecord: 0.9ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92&remote=true" for 127.0.0.1 at Wed Oct 20 04:46:24 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中２", "remote"=>"true"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '中２')
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (86.2ms)
Completed 200 OK in 104ms (Views: 92.2ms | ActiveRecord: 0.9ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91&remote=true" for 127.0.0.1 at Wed Oct 20 04:46:25 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１", "remote"=>"true"}
  [1m[36mStudent Load (0.8ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '中１')
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (15.9ms)
Completed 200 OK in 34ms (Views: 21.6ms | ActiveRecord: 1.1ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92&remote=true" for 127.0.0.1 at Wed Oct 20 04:46:26 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中２", "remote"=>"true"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '中２')
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/index.html.erb within layouts/application (14.3ms)
Completed 200 OK in 31ms (Views: 20.2ms | ActiveRecord: 0.9ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91&remote=true" for 127.0.0.1 at Wed Oct 20 04:46:26 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１", "remote"=>"true"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '中１')
Rendered students/_student.html.erb (84.3ms)
Rendered students/_student.html.erb (1.0ms)
Rendered students/index.html.erb within layouts/application (100.3ms)
Completed 200 OK in 118ms (Views: 106.3ms | ActiveRecord: 1.0ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92&remote=true" for 127.0.0.1 at Wed Oct 20 04:46:27 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中２", "remote"=>"true"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '中２')
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (14.8ms)
Completed 200 OK in 33ms (Views: 20.6ms | ActiveRecord: 0.9ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91&remote=true" for 127.0.0.1 at Wed Oct 20 04:46:27 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１", "remote"=>"true"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
  [1m[35mStudent Load (0.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '中１')
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (1.2ms)
Rendered students/index.html.erb within layouts/application (16.4ms)
Completed 200 OK in 34ms (Views: 22.1ms | ActiveRecord: 1.0ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91&remote=true" for 127.0.0.1 at Wed Oct 20 04:48:25 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１", "remote"=>"true"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/index.html.erb within layouts/application (22.1ms)
Completed 200 OK in 123ms (Views: 28.5ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91&remote=true" for 127.0.0.1 at Wed Oct 20 04:48:31 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１", "remote"=>"true"}
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.6ms)
Rendered students/index.html.erb within layouts/application (25.2ms)
Completed 200 OK in 42ms (Views: 31.2ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1&remote=true" for 127.0.0.1 at Wed Oct 20 04:48:32 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"全員", "remote"=>"true"}
  [1m[36mStudent Load (0.8ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (1.0ms)
Rendered students/_student.html.erb (1.0ms)
Rendered students/index.html.erb within layouts/application (26.9ms)
Completed 200 OK in 45ms (Views: 32.9ms | ActiveRecord: 0.8ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1&remote=true" for 127.0.0.1 at Wed Oct 20 04:48:34 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"全員", "remote"=>"true"}
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.9ms)
Rendered students/index.html.erb within layouts/application (98.7ms)
Completed 200 OK in 115ms (Views: 104.6ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91&remote=true" for 127.0.0.1 at Wed Oct 20 04:48:34 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１", "remote"=>"true"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (1.5ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/index.html.erb within layouts/application (26.4ms)
Completed 200 OK in 45ms (Views: 32.9ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92&remote=true" for 127.0.0.1 at Wed Oct 20 04:48:36 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中２", "remote"=>"true"}
  [1m[35mStudent Load (0.8ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.9ms)
Rendered students/index.html.erb within layouts/application (26.0ms)
Completed 200 OK in 43ms (Views: 32.0ms | ActiveRecord: 0.8ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93&remote=true" for 127.0.0.1 at Wed Oct 20 04:48:36 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３", "remote"=>"true"}
  [1m[36mStudent Load (0.8ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (1.0ms)
Rendered students/_student.html.erb (0.9ms)
Rendered students/index.html.erb within layouts/application (27.2ms)
Completed 200 OK in 45ms (Views: 33.0ms | ActiveRecord: 0.8ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91&remote=true" for 127.0.0.1 at Wed Oct 20 04:48:37 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１", "remote"=>"true"}
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.9ms)
Rendered students/index.html.erb within layouts/application (26.2ms)
Completed 200 OK in 43ms (Views: 32.2ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1&remote=true" for 127.0.0.1 at Wed Oct 20 04:48:38 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"全員", "remote"=>"true"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (1.4ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/index.html.erb within layouts/application (25.4ms)
Completed 200 OK in 42ms (Views: 31.8ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91&remote=true" for 127.0.0.1 at Wed Oct 20 04:48:51 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１", "remote"=>"true"}
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (1.0ms)
Rendered students/index.html.erb within layouts/application (26.9ms)
Completed 200 OK in 44ms (Views: 33.2ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92&remote=true" for 127.0.0.1 at Wed Oct 20 04:48:52 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中２", "remote"=>"true"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/index.html.erb within layouts/application (26.2ms)
Completed 200 OK in 120ms (Views: 32.2ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93&remote=true" for 127.0.0.1 at Wed Oct 20 04:48:53 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３", "remote"=>"true"}
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (1.0ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/index.html.erb within layouts/application (26.2ms)
Completed 200 OK in 43ms (Views: 32.0ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93&remote=true" for 127.0.0.1 at Wed Oct 20 04:49:04 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３", "remote"=>"true"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (79.3ms)
Rendered students/_student.html.erb (1.0ms)
Rendered students/index.html.erb within layouts/application (106.2ms)
Completed 200 OK in 123ms (Views: 112.6ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93&remote=true" for 127.0.0.1 at Wed Oct 20 04:49:06 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３", "remote"=>"true"}
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (1.0ms)
Rendered students/index.html.erb within layouts/application (26.2ms)
Completed 200 OK in 43ms (Views: 32.2ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93&remote=true" for 127.0.0.1 at Wed Oct 20 04:49:52 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３", "remote"=>"true"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like '中３')[0m
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (19.4ms)
Completed 200 OK in 112ms (Views: 25.1ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1&remote=true" for 127.0.0.1 at Wed Oct 20 04:49:54 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"全員", "remote"=>"true"}
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.6ms)
Rendered students/_student.html.erb (0.6ms)
Rendered students/index.html.erb within layouts/application (24.6ms)
Completed 200 OK in 41ms (Views: 30.6ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91&remote=true" for 127.0.0.1 at Wed Oct 20 04:49:55 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１", "remote"=>"true"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like '中１')[0m
Rendered students/_student.html.erb (1.0ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (20.7ms)
Completed 200 OK in 37ms (Views: 27.0ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92&remote=true" for 127.0.0.1 at Wed Oct 20 04:49:56 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中２", "remote"=>"true"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '中２')
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.6ms)
Rendered students/_student.html.erb (1.0ms)
Rendered students/index.html.erb within layouts/application (18.5ms)
Completed 200 OK in 35ms (Views: 24.3ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93&remote=true" for 127.0.0.1 at Wed Oct 20 04:49:57 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３", "remote"=>"true"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like '中３')[0m
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (1.1ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/index.html.erb within layouts/application (93.6ms)
Completed 200 OK in 110ms (Views: 99.8ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92&remote=true" for 127.0.0.1 at Wed Oct 20 04:49:58 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中２", "remote"=>"true"}
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '中２')
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (18.4ms)
Completed 200 OK in 35ms (Views: 24.7ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91&remote=true" for 127.0.0.1 at Wed Oct 20 04:49:59 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１", "remote"=>"true"}
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like '中１')[0m
Rendered students/_student.html.erb (1.7ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.9ms)
Rendered students/index.html.erb within layouts/application (20.5ms)
Completed 200 OK in 37ms (Views: 26.3ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1&remote=true" for 127.0.0.1 at Wed Oct 20 04:49:59 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"全員", "remote"=>"true"}
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (1.8ms)
Rendered students/_student.html.erb (0.9ms)
Rendered students/index.html.erb within layouts/application (27.3ms)
Completed 200 OK in 130ms (Views: 34.3ms | ActiveRecord: 0.7ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 04:50:04 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like '')[0m
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (11.7ms)
Completed 200 OK in 27ms (Views: 17.4ms | ActiveRecord: 0.4ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 04:51:35 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/index.html.erb within layouts/application (103.6ms)
Completed 200 OK in 120ms (Views: 109.5ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91&remote=true" for 127.0.0.1 at Wed Oct 20 04:51:41 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１", "remote"=>"true"}
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like '中１')[0m
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/index.html.erb within layouts/application (19.5ms)
Completed 200 OK in 36ms (Views: 25.4ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92&remote=true" for 127.0.0.1 at Wed Oct 20 04:51:42 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中２", "remote"=>"true"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '中２')
Rendered students/_student.html.erb (1.1ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/index.html.erb within layouts/application (19.7ms)
Completed 200 OK in 111ms (Views: 100.2ms | ActiveRecord: 0.5ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 04:51:51 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like '')[0m
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (13.1ms)
Completed 200 OK in 29ms (Views: 18.8ms | ActiveRecord: 0.4ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 04:51:58 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (1.1ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.9ms)
Rendered students/index.html.erb within layouts/application (98.0ms)
Completed 200 OK in 115ms (Views: 103.9ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91&remote=true" for 127.0.0.1 at Wed Oct 20 04:52:03 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１", "remote"=>"true"}
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like '中１')[0m
Rendered students/_student.html.erb (1.2ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (20.8ms)
Completed 200 OK in 37ms (Views: 26.7ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92&remote=true" for 127.0.0.1 at Wed Oct 20 04:52:04 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中２", "remote"=>"true"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '中２')
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (1.7ms)
Rendered students/index.html.erb within layouts/application (21.1ms)
Completed 200 OK in 114ms (Views: 27.6ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93&remote=true" for 127.0.0.1 at Wed Oct 20 04:52:04 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３", "remote"=>"true"}
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like '中３')[0m
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (2.4ms)
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (22.1ms)
Completed 200 OK in 40ms (Views: 29.8ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1&remote=true" for 127.0.0.1 at Wed Oct 20 04:52:15 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"全員", "remote"=>"true"}
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/index.html.erb within layouts/application (101.0ms)
Completed 200 OK in 118ms (Views: 107.2ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91&remote=true" for 127.0.0.1 at Wed Oct 20 04:54:34 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１", "remote"=>"true"}
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like '中１')[0m
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (1.5ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/index.html.erb within layouts/application (21.1ms)
Completed 200 OK in 38ms (Views: 27.3ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92&remote=true" for 127.0.0.1 at Wed Oct 20 04:54:35 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中２", "remote"=>"true"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '中２')
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (18.3ms)
Completed 200 OK in 35ms (Views: 24.7ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93&remote=true" for 127.0.0.1 at Wed Oct 20 04:54:35 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３", "remote"=>"true"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like '中３')[0m
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (19.5ms)
Completed 200 OK in 122ms (Views: 25.5ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92&remote=true" for 127.0.0.1 at Wed Oct 20 04:54:36 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中２", "remote"=>"true"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '中２')
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (1.2ms)
Rendered students/_student.html.erb (1.0ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (19.3ms)
Completed 200 OK in 35ms (Views: 25.1ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91&remote=true" for 127.0.0.1 at Wed Oct 20 04:54:37 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１", "remote"=>"true"}
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like '中１')[0m
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.6ms)
Rendered students/index.html.erb within layouts/application (19.9ms)
Completed 200 OK in 37ms (Views: 25.8ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92&remote=true" for 127.0.0.1 at Wed Oct 20 04:54:37 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中２", "remote"=>"true"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '中２')
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.6ms)
Rendered students/index.html.erb within layouts/application (18.6ms)
Completed 200 OK in 36ms (Views: 24.5ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93&remote=true" for 127.0.0.1 at Wed Oct 20 04:54:38 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３", "remote"=>"true"}
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like '中３')[0m
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.6ms)
Rendered students/index.html.erb within layouts/application (18.3ms)
Completed 200 OK in 35ms (Views: 24.7ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91&remote=true" for 127.0.0.1 at Wed Oct 20 04:54:44 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１", "remote"=>"true"}
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '中１')
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (77.5ms)
Rendered students/index.html.erb within layouts/application (97.7ms)
Completed 200 OK in 114ms (Views: 103.7ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92&remote=true" for 127.0.0.1 at Wed Oct 20 04:54:45 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中２", "remote"=>"true"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like '中２')[0m
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (19.6ms)
Completed 200 OK in 37ms (Views: 25.7ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93&remote=true" for 127.0.0.1 at Wed Oct 20 04:54:46 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３", "remote"=>"true"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '中３')
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (18.2ms)
Completed 200 OK in 35ms (Views: 24.5ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92&remote=true" for 127.0.0.1 at Wed Oct 20 04:54:47 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中２", "remote"=>"true"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like '中２')[0m
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/index.html.erb within layouts/application (19.4ms)
Completed 200 OK in 113ms (Views: 25.1ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91&remote=true" for 127.0.0.1 at Wed Oct 20 04:54:48 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１", "remote"=>"true"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '中１')
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/index.html.erb within layouts/application (20.4ms)
Completed 200 OK in 37ms (Views: 26.6ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91&remote=true" for 127.0.0.1 at Wed Oct 20 04:55:20 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１", "remote"=>"true"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like '中１')[0m
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (20.3ms)
Completed 200 OK in 37ms (Views: 26.4ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91" for 127.0.0.1 at Wed Oct 20 04:55:22 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１"}
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '中１')
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (1.0ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (20.2ms)
Completed 200 OK in 40ms (Views: 26.4ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92" for 127.0.0.1 at Wed Oct 20 04:55:23 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中２"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like '中２')[0m
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.6ms)
Rendered students/_student.html.erb (0.6ms)
Rendered students/index.html.erb within layouts/application (90.5ms)
Completed 200 OK in 107ms (Views: 96.4ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 04:55:23 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '中３')
Rendered students/_student.html.erb (0.9ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.6ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (18.8ms)
Completed 200 OK in 36ms (Views: 25.1ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 04:55:25 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_student.html.erb (0.8ms)
Rendered students/_student.html.erb (0.7ms)
Rendered students/_student.html.erb (0.6ms)
Rendered students/_student.html.erb (0.6ms)
Rendered students/index.html.erb within layouts/application (24.5ms)
Completed 200 OK in 41ms (Views: 30.5ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 04:58:18 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.8ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (21.2ms)
Completed 200 OK in 118ms (Views: 27.5ms | ActiveRecord: 0.8ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91" for 127.0.0.1 at Wed Oct 20 04:58:22 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１"}
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like '中１')[0m
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (14.5ms)
Completed 200 OK in 31ms (Views: 20.5ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 04:58:23 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (19.7ms)
Completed 200 OK in 37ms (Views: 25.1ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91" for 127.0.0.1 at Wed Oct 20 04:58:24 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１"}
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like '中１')[0m
Rendered students/_student.html.erb (0.8ms)
Rendered students/index.html.erb within layouts/application (15.2ms)
Completed 200 OK in 32ms (Views: 21.4ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92" for 127.0.0.1 at Wed Oct 20 05:03:49 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中２"}
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '中２')
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (87.2ms)
Completed 200 OK in 104ms (Views: 93.5ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 05:03:50 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like '中３')[0m
Rendered students/_student.html.erb (1.0ms)
Rendered students/index.html.erb within layouts/application (15.0ms)
Completed 200 OK in 32ms (Views: 20.4ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 05:03:51 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '中３')
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (13.3ms)
Completed 200 OK in 29ms (Views: 19.2ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 05:03:54 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_student.html.erb (76.7ms)
Rendered students/index.html.erb within layouts/application (97.0ms)
Completed 200 OK in 113ms (Views: 102.8ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91" for 127.0.0.1 at Wed Oct 20 05:03:56 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１"}
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '中１')
Rendered students/_student.html.erb (0.6ms)
Rendered students/index.html.erb within layouts/application (14.6ms)
Completed 200 OK in 32ms (Views: 20.7ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92" for 127.0.0.1 at Wed Oct 20 05:03:57 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中２"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like '中２')[0m
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (13.3ms)
Completed 200 OK in 29ms (Views: 19.2ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 05:03:58 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '中３')
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (14.1ms)
Completed 200 OK in 108ms (Views: 19.9ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 05:03:59 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like '中３')[0m
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (13.4ms)
Completed 200 OK in 31ms (Views: 19.6ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 05:04:02 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (20.1ms)
Completed 200 OK in 36ms (Views: 26.2ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 05:04:16 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (19.9ms)
Completed 200 OK in 36ms (Views: 25.6ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91" for 127.0.0.1 at Wed Oct 20 05:04:44 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '中１')
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (14.8ms)
Completed 200 OK in 32ms (Views: 20.6ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91" for 127.0.0.1 at Wed Oct 20 05:05:09 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１"}
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like '中１') ORDER BY yomi[0m
Rendered students/_student.html.erb (0.9ms)
Rendered students/index.html.erb within layouts/application (91.9ms)
Completed 200 OK in 108ms (Views: 97.6ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 05:05:12 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３"}
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '中３') ORDER BY yomi
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (13.8ms)
Completed 200 OK in 31ms (Views: 19.4ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 05:05:13 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３"}
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like '中３') ORDER BY yomi[0m
Rendered students/_student.html.erb (74.8ms)
Rendered students/index.html.erb within layouts/application (88.2ms)
Completed 200 OK in 105ms (Views: 94.4ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 05:05:14 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３"}
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '中３') ORDER BY yomi
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (14.0ms)
Completed 200 OK in 31ms (Views: 20.6ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92" for 127.0.0.1 at Wed Oct 20 05:05:15 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中２"}
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade like '中２') ORDER BY yomi[0m
Rendered students/_student.html.erb (0.9ms)
Rendered students/index.html.erb within layouts/application (14.1ms)
Completed 200 OK in 30ms (Views: 19.9ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91" for 127.0.0.1 at Wed Oct 20 05:05:15 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１"}
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" WHERE (grade like '中１') ORDER BY yomi
Rendered students/_student.html.erb (1.4ms)
Rendered students/index.html.erb within layouts/application (21.0ms)
Completed 200 OK in 112ms (Views: 101.9ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 05:05:17 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.9ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (19.9ms)
Completed 200 OK in 38ms (Views: 25.8ms | ActiveRecord: 0.9ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 05:06:03 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (0.6ms)
Rendered students/index.html.erb within layouts/application (20.0ms)
Completed 200 OK in 36ms (Views: 25.9ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91" for 127.0.0.1 at Wed Oct 20 05:06:05 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１"}
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi[0m
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (14.9ms)
Completed 200 OK in 32ms (Views: 20.5ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92" for 127.0.0.1 at Wed Oct 20 05:06:05 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中２"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi
Rendered students/_student.html.erb (1.1ms)
Rendered students/index.html.erb within layouts/application (13.7ms)
Completed 200 OK in 30ms (Views: 19.5ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 05:06:06 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi[0m
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (15.0ms)
Completed 200 OK in 35ms (Views: 21.0ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 05:06:07 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３"}
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi
Rendered students/_student.html.erb (0.8ms)
Rendered students/index.html.erb within layouts/application (13.3ms)
Completed 200 OK in 31ms (Views: 19.7ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 05:09:31 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３"}
Rendered students/_student.html.erb (0.7ms)
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi[0m
Rendered students/index.html.erb within layouts/application (15.2ms)
Completed 200 OK in 29ms (Views: 20.3ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 05:09:33 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (19.8ms)
Completed 200 OK in 36ms (Views: 25.9ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91" for 127.0.0.1 at Wed Oct 20 05:09:34 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１"}
Rendered students/_student.html.erb (0.7ms)
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi[0m
Rendered students/index.html.erb within layouts/application (16.0ms)
Completed 200 OK in 29ms (Views: 21.4ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92" for 127.0.0.1 at Wed Oct 20 05:09:35 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中２"}
Rendered students/_student.html.erb (0.8ms)
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi
Rendered students/index.html.erb within layouts/application (15.4ms)
Completed 200 OK in 100ms (Views: 20.5ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92" for 127.0.0.1 at Wed Oct 20 05:09:36 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中２"}
Rendered students/_student.html.erb (0.7ms)
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi[0m
Rendered students/index.html.erb within layouts/application (20.1ms)
Completed 200 OK in 33ms (Views: 25.6ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 05:09:36 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３"}
Rendered students/_student.html.erb (0.7ms)
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi
Rendered students/index.html.erb within layouts/application (14.8ms)
Completed 200 OK in 28ms (Views: 20.2ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 05:09:37 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３"}
Rendered students/_student.html.erb (0.7ms)
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi[0m
Rendered students/index.html.erb within layouts/application (90.6ms)
Completed 200 OK in 104ms (Views: 96.0ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 05:09:46 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３"}
Rendered students/_student.html.erb (0.8ms)
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi
Rendered students/index.html.erb within layouts/application (15.1ms)
Completed 200 OK in 28ms (Views: 20.4ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 05:09:47 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (20.1ms)
Completed 200 OK in 34ms (Views: 26.0ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 05:09:49 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (0.8ms)
Rendered students/index.html.erb within layouts/application (20.8ms)
Completed 200 OK in 35ms (Views: 26.7ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 05:09:50 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_student.html.erb (0.8ms)
Rendered students/index.html.erb within layouts/application (20.1ms)
Completed 200 OK in 34ms (Views: 25.9ms | ActiveRecord: 0.7ms)


Started GET "/students/3" for 127.0.0.1 at Wed Oct 20 05:09:52 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE ("students"."id" = 3) LIMIT 1
Rendered students/show.html.erb within layouts/application (7.7ms)
Completed 200 OK in 23ms (Views: 14.0ms | ActiveRecord: 0.2ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 05:09:53 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_student.html.erb (0.8ms)
Rendered students/index.html.erb within layouts/application (19.9ms)
Completed 200 OK in 35ms (Views: 25.6ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91" for 127.0.0.1 at Wed Oct 20 05:09:54 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１"}
Rendered students/_student.html.erb (0.8ms)
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi
Rendered students/index.html.erb within layouts/application (16.1ms)
Completed 200 OK in 29ms (Views: 21.4ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92" for 127.0.0.1 at Wed Oct 20 05:09:55 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中２"}
Rendered students/_student.html.erb (0.9ms)
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi[0m
Rendered students/index.html.erb within layouts/application (16.0ms)
Completed 200 OK in 108ms (Views: 21.4ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 05:09:56 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３"}
Rendered students/_student.html.erb (1.0ms)
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi
Rendered students/index.html.erb within layouts/application (14.9ms)
Completed 200 OK in 28ms (Views: 20.2ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 05:09:56 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３"}
Rendered students/_student.html.erb (0.7ms)
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi[0m
Rendered students/index.html.erb within layouts/application (15.1ms)
Completed 200 OK in 28ms (Views: 20.5ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 05:09:58 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３"}
Rendered students/_student.html.erb (0.7ms)
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi
Rendered students/index.html.erb within layouts/application (91.4ms)
Completed 200 OK in 104ms (Views: 96.9ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92" for 127.0.0.1 at Wed Oct 20 05:09:58 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中２"}
Rendered students/_student.html.erb (0.9ms)
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi[0m
Rendered students/index.html.erb within layouts/application (14.8ms)
Completed 200 OK in 28ms (Views: 20.3ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91" for 127.0.0.1 at Wed Oct 20 05:09:59 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１"}
Rendered students/_student.html.erb (0.7ms)
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi
Rendered students/index.html.erb within layouts/application (16.9ms)
Completed 200 OK in 30ms (Views: 22.3ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 05:10:00 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (20.1ms)
Completed 200 OK in 34ms (Views: 26.1ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91" for 127.0.0.1 at Wed Oct 20 05:10:57 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１"}
Rendered students/_student.html.erb (0.7ms)
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi
Rendered students/index.html.erb within layouts/application (16.1ms)
Completed 200 OK in 29ms (Views: 21.9ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92" for 127.0.0.1 at Wed Oct 20 05:10:58 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中２"}
Rendered students/_student.html.erb (0.7ms)
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi[0m
Rendered students/index.html.erb within layouts/application (14.7ms)
Completed 200 OK in 28ms (Views: 20.6ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 05:10:58 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３"}
Rendered students/_student.html.erb (0.7ms)
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi
Rendered students/index.html.erb within layouts/application (14.8ms)
Completed 200 OK in 28ms (Views: 20.4ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 05:10:59 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３"}
Rendered students/_student.html.erb (0.7ms)
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi[0m
Rendered students/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 104ms (Views: 20.7ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 05:11:01 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (19.8ms)
Completed 200 OK in 34ms (Views: 25.8ms | ActiveRecord: 0.7ms)


Started GET "/students/2" for 127.0.0.1 at Wed Oct 20 05:11:10 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE ("students"."id" = 2) LIMIT 1[0m
Rendered students/show.html.erb within layouts/application (6.9ms)
Completed 200 OK in 22ms (Views: 12.8ms | ActiveRecord: 0.2ms)


Started GET "/students/3" for 127.0.0.1 at Wed Oct 20 05:11:13 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE ("students"."id" = 3) LIMIT 1
Rendered students/show.html.erb within layouts/application (7.6ms)
Completed 200 OK in 22ms (Views: 13.5ms | ActiveRecord: 0.2ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 05:12:55 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_student.html.erb (0.9ms)
Rendered students/index.html.erb within layouts/application (22.5ms)
Completed 200 OK in 37ms (Views: 28.8ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E9%AB%98%EF%BC%91" for 127.0.0.1 at Wed Oct 20 05:12:58 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"高１"}
Rendered students/_student.html.erb (0.7ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '高１') ORDER BY yomi
Rendered students/index.html.erb within layouts/application (10.2ms)
Completed 200 OK in 24ms (Views: 16.1ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E9%AB%98%EF%BC%92" for 127.0.0.1 at Wed Oct 20 05:12:59 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"高２"}
Rendered students/_student.html.erb (0.7ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '高２') ORDER BY yomi[0m
Rendered students/index.html.erb within layouts/application (10.0ms)
Completed 200 OK in 97ms (Views: 15.4ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E9%AB%98%EF%BC%93" for 127.0.0.1 at Wed Oct 20 05:13:01 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"高３"}
Rendered students/_student.html.erb (0.7ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '高３') ORDER BY yomi
Rendered students/index.html.erb within layouts/application (9.8ms)
Completed 200 OK in 23ms (Views: 15.2ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E9%AB%98%EF%BC%93" for 127.0.0.1 at Wed Oct 20 05:13:02 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"高３"}
Rendered students/_student.html.erb (0.7ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '高３') ORDER BY yomi[0m
Rendered students/index.html.erb within layouts/application (10.3ms)
Completed 200 OK in 23ms (Views: 16.1ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E9%AB%98%EF%BC%92" for 127.0.0.1 at Wed Oct 20 05:13:02 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"高２"}
Rendered students/_student.html.erb (0.7ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '高２') ORDER BY yomi
Rendered students/index.html.erb within layouts/application (10.0ms)
Completed 200 OK in 23ms (Views: 15.7ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E9%AB%98%EF%BC%91" for 127.0.0.1 at Wed Oct 20 05:13:02 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"高１"}
Rendered students/_student.html.erb (0.8ms)
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '高１') ORDER BY yomi[0m
Rendered students/index.html.erb within layouts/application (11.1ms)
Completed 200 OK in 25ms (Views: 16.5ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E9%AB%98%EF%BC%91" for 127.0.0.1 at Wed Oct 20 05:13:18 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"高１"}
Rendered students/_student.html.erb (0.8ms)
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '高１') ORDER BY yomi
Rendered students/index.html.erb within layouts/application (11.5ms)
Completed 200 OK in 26ms (Views: 18.0ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 05:13:20 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_student.html.erb (1.0ms)
Rendered students/index.html.erb within layouts/application (109.0ms)
Completed 200 OK in 126ms (Views: 115.8ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91" for 127.0.0.1 at Wed Oct 20 05:13:23 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１"}
Rendered students/_student.html.erb (1.5ms)
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi
Rendered students/index.html.erb within layouts/application (25.9ms)
Completed 200 OK in 41ms (Views: 32.5ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92" for 127.0.0.1 at Wed Oct 20 05:13:23 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中２"}
Rendered students/_student.html.erb (0.9ms)
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi[0m
Rendered students/index.html.erb within layouts/application (21.0ms)
Completed 200 OK in 38ms (Views: 27.4ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 05:13:24 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３"}
Rendered students/_student.html.erb (1.4ms)
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi
Rendered students/index.html.erb within layouts/application (144.6ms)
Completed 200 OK in 162ms (Views: 151.3ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%94" for 127.0.0.1 at Wed Oct 20 05:13:25 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"小４"}
Rendered students/_student.html.erb (2.1ms)
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '小４') ORDER BY yomi[0m
Rendered students/index.html.erb within layouts/application (13.8ms)
Completed 200 OK in 31ms (Views: 20.5ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%95" for 127.0.0.1 at Wed Oct 20 05:13:26 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"小５"}
Rendered students/_student.html.erb (0.9ms)
  [1m[35mStudent Load (1.7ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '小５') ORDER BY yomi
Rendered students/index.html.erb within layouts/application (13.8ms)
Completed 200 OK in 28ms (Views: 18.6ms | ActiveRecord: 1.7ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%96" for 127.0.0.1 at Wed Oct 20 05:13:26 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"小６"}
Rendered students/_student.html.erb (0.7ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '小６') ORDER BY yomi[0m
Rendered students/index.html.erb within layouts/application (10.1ms)
Completed 200 OK in 23ms (Views: 15.4ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%95" for 127.0.0.1 at Wed Oct 20 05:13:27 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"小５"}
Rendered students/_student.html.erb (0.9ms)
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '小５') ORDER BY yomi
Rendered students/index.html.erb within layouts/application (18.6ms)
Completed 200 OK in 44ms (Views: 27.6ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%94" for 127.0.0.1 at Wed Oct 20 05:13:27 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"小４"}
Rendered students/_student.html.erb (0.8ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '小４') ORDER BY yomi[0m
Rendered students/index.html.erb within layouts/application (11.0ms)
Completed 200 OK in 28ms (Views: 18.6ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E9%AB%98%EF%BC%92" for 127.0.0.1 at Wed Oct 20 05:13:28 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"高２"}
Rendered students/_student.html.erb (1.1ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '高２') ORDER BY yomi
Rendered students/index.html.erb within layouts/application (12.6ms)
Completed 200 OK in 26ms (Views: 18.4ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%94" for 127.0.0.1 at Wed Oct 20 05:13:30 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"小４"}
Rendered students/_student.html.erb (0.8ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '小４') ORDER BY yomi[0m
Rendered students/index.html.erb within layouts/application (109.1ms)
Completed 200 OK in 128ms (Views: 117.8ms | ActiveRecord: 0.4ms)


Started GET "/students/new" for 127.0.0.1 at Wed Oct 20 05:13:31 +0900 2010
  Processing by StudentsController#new as HTML
Rendered students/_form.html.erb (7.9ms)
Rendered students/new.html.erb within layouts/application (12.4ms)
Completed 200 OK in 25ms (Views: 18.4ms | ActiveRecord: 0.0ms)


Started POST "/students" for 127.0.0.1 at Wed Oct 20 05:13:54 +0900 2010
  Processing by StudentsController#create as HTML
  Parameters: {"commit"=>"Create Student", "authenticity_token"=>"/Y4yBVUd8KOMS0wC7KrdokA8P9GSODH4+awv9TU/RiM=", "utf8"=>"✓", "student"=>{"name"=>"金田朋子", "grade"=>"小４", "yomi"=>"カネダトモコ"}}
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "students" ("created_at", "grade", "name", "updated_at", "yomi") VALUES ('2010-10-19 20:13:54.811271', '小４', '金田朋子', '2010-10-19 20:13:54.811271', 'カネダトモコ')
Redirected to http://localhost:3000/students/8
Completed 302 Found in 387ms


Started GET "/students/8" for 127.0.0.1 at Wed Oct 20 05:13:55 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE ("students"."id" = 8) LIMIT 1[0m
Rendered students/show.html.erb within layouts/application (9.1ms)
Completed 200 OK in 25ms (Views: 16.2ms | ActiveRecord: 0.2ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 05:13:57 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (1.4ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (24.0ms)
Completed 200 OK in 39ms (Views: 30.2ms | ActiveRecord: 1.4ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%95" for 127.0.0.1 at Wed Oct 20 05:14:03 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"小５"}
Rendered students/_student.html.erb (0.7ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '小５') ORDER BY yomi[0m
Rendered students/index.html.erb within layouts/application (10.1ms)
Completed 200 OK in 23ms (Views: 15.8ms | ActiveRecord: 0.4ms)


Started GET "/students/new" for 127.0.0.1 at Wed Oct 20 05:14:04 +0900 2010
  Processing by StudentsController#new as HTML
Rendered students/_form.html.erb (8.2ms)
Rendered students/new.html.erb within layouts/application (12.5ms)
Completed 200 OK in 26ms (Views: 19.1ms | ActiveRecord: 0.0ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 05:14:20 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (0.7ms)
Rendered students/index.html.erb within layouts/application (23.8ms)
Completed 200 OK in 38ms (Views: 30.3ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 05:14:22 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３"}
Rendered students/_student.html.erb (0.7ms)
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi[0m
Rendered students/index.html.erb within layouts/application (17.4ms)
Completed 200 OK in 30ms (Views: 23.1ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 05:14:22 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３"}
Rendered students/_student.html.erb (0.7ms)
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi
Rendered students/index.html.erb within layouts/application (16.7ms)
Completed 200 OK in 29ms (Views: 22.1ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 05:14:24 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３"}
Rendered students/_student.html.erb (0.7ms)
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi[0m
Rendered students/index.html.erb within layouts/application (16.8ms)
Completed 200 OK in 30ms (Views: 22.6ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 05:14:25 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３"}
Rendered students/_student.html.erb (0.7ms)
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi
Rendered students/index.html.erb within layouts/application (16.9ms)
Completed 200 OK in 30ms (Views: 22.3ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%94" for 127.0.0.1 at Wed Oct 20 05:14:26 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"小４"}
Rendered students/_student.html.erb (0.9ms)
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '小４') ORDER BY yomi[0m
Rendered students/index.html.erb within layouts/application (15.8ms)
Completed 200 OK in 29ms (Views: 21.4ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%95" for 127.0.0.1 at Wed Oct 20 05:14:27 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"小５"}
Rendered students/_student.html.erb (0.7ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '小５') ORDER BY yomi
Rendered students/index.html.erb within layouts/application (10.0ms)
Completed 200 OK in 23ms (Views: 15.4ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%96" for 127.0.0.1 at Wed Oct 20 05:14:28 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"小６"}
Rendered students/_student.html.erb (0.7ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '小６') ORDER BY yomi[0m
Rendered students/index.html.erb within layouts/application (9.7ms)
Completed 200 OK in 23ms (Views: 15.7ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E9%AB%98%EF%BC%91" for 127.0.0.1 at Wed Oct 20 05:14:31 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"高１"}
Rendered students/_student.html.erb (1.6ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '高１') ORDER BY yomi
Rendered students/index.html.erb within layouts/application (10.6ms)
Completed 200 OK in 23ms (Views: 16.0ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E9%AB%98%EF%BC%92" for 127.0.0.1 at Wed Oct 20 05:14:32 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"高２"}
Rendered students/_student.html.erb (0.8ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '高２') ORDER BY yomi[0m
Rendered students/index.html.erb within layouts/application (10.0ms)
Completed 200 OK in 24ms (Views: 16.2ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E9%AB%98%EF%BC%93" for 127.0.0.1 at Wed Oct 20 05:14:33 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"高３"}
Rendered students/_student.html.erb (0.7ms)
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '高３') ORDER BY yomi
Rendered students/index.html.erb within layouts/application (10.7ms)
Completed 200 OK in 24ms (Views: 16.1ms | ActiveRecord: 0.5ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 15:30:36 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mSQL (0.8ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (0.9ms)
Rendered students/index.html.erb within layouts/application (27.1ms)
Completed 200 OK in 70ms (Views: 35.3ms | ActiveRecord: 1.2ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91" for 127.0.0.1 at Wed Oct 20 15:30:38 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中１"}
Rendered students/_student.html.erb (0.8ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi[0m
Rendered students/index.html.erb within layouts/application (18.9ms)
Completed 200 OK in 33ms (Views: 25.8ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92" for 127.0.0.1 at Wed Oct 20 15:30:39 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中２"}
Rendered students/_student.html.erb (1.6ms)
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi
Rendered students/index.html.erb within layouts/application (18.1ms)
Completed 200 OK in 33ms (Views: 24.7ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 15:30:40 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３"}
Rendered students/_student.html.erb (0.7ms)
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi[0m
Rendered students/index.html.erb within layouts/application (16.7ms)
Completed 200 OK in 32ms (Views: 23.4ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%94" for 127.0.0.1 at Wed Oct 20 15:30:41 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"小４"}
Rendered students/_student.html.erb (0.7ms)
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '小４') ORDER BY yomi
Rendered students/index.html.erb within layouts/application (16.0ms)
Completed 200 OK in 30ms (Views: 22.8ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%95" for 127.0.0.1 at Wed Oct 20 15:30:41 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"小５"}
Rendered students/_student.html.erb (0.7ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '小５') ORDER BY yomi[0m
Rendered students/index.html.erb within layouts/application (10.4ms)
Completed 200 OK in 110ms (Views: 17.4ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E9%AB%98%EF%BC%91" for 127.0.0.1 at Wed Oct 20 15:30:42 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"高１"}
Rendered students/_student.html.erb (0.7ms)
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '高１') ORDER BY yomi
Rendered students/index.html.erb within layouts/application (10.2ms)
Completed 200 OK in 25ms (Views: 16.9ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%96" for 127.0.0.1 at Wed Oct 20 15:30:42 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"小６"}
Rendered students/_student.html.erb (0.8ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '小６') ORDER BY yomi[0m
Rendered students/index.html.erb within layouts/application (10.2ms)
Completed 200 OK in 26ms (Views: 17.0ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 15:30:43 +0900 2010
  Processing by StudentsController#index as HTML
  Parameters: {"grade"=>"中３"}
Rendered students/_student.html.erb (0.7ms)
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi
Rendered students/index.html.erb within layouts/application (16.9ms)
Completed 200 OK in 32ms (Views: 23.5ms | ActiveRecord: 0.6ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 15:58:17 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.8ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_student.html.erb (16.0ms)
Rendered students/index.html.erb within layouts/application (49.2ms)
Completed   in 67ms

ActionView::Template::Error (undefined method `student_index_path' for #<#<Class:0x104457978>:0x104455d08>):
    11: <%= link_to '高２', :action => 'index', :grade => '高２' %>
    12: <%= link_to '高３', :action => 'index', :grade => '高３' %>
    13: <%= render :partial => 'student', :locals => { :grade => '中３' } %>
    14: <%= link_to '中３', student_index_path(:grade => '中３'), :remote => true %>
    15: 
    16: <div id='table'>test</div>
    17: 
  app/views/students/index.html.erb:14:in `_app_views_students_index_html_erb__1307073614_2183307780_0'
  app/controllers/students_controller.rb:14:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.1ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.1ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 15:58:56 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.8ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (89.5ms)
Rendered students/index.html.erb within layouts/application (95.9ms)
Completed   in 112ms

ActionView::Template::Error (No route matches {:grade=>"中３", :action=>"destroy", :controller=>"students"}):
    11: <%= link_to '高２', :action => 'index', :grade => '高２' %>
    12: <%= link_to '高３', :action => 'index', :grade => '高３' %>
    13: <%= render :partial => 'student', :locals => { :grade => '中３' } %>
    14: <%= link_to '中３', student_path(:grade => '中３'), :remote => true %>
    15: 
    16: <div id='table'>test</div>
    17: 
  app/views/students/index.html.erb:14:in `_app_views_students_index_html_erb__1307073614_2181995540_0'
  app/controllers/students_controller.rb:14:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.6ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 16:01:56 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.8ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_student.html.erb (16.4ms)
Rendered students/index.html.erb within layouts/application (25.1ms)
Completed   in 42ms

AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  app/controllers/students_controller.rb:16:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (14.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (21.3ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 16:02:30 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (16.2ms)
Rendered students/index.html.erb within layouts/application (24.7ms)
Completed 200 OK in 116ms (Views: 31.7ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:02:37 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi[0m
Rendered students/_student.html.erb (8.7ms)
Rendered students/index.html.erb within layouts/application (16.8ms)
Completed 200 OK in 31ms (Views: 23.2ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:02:41 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
  [1m[35mStudent Load (1.3ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi
Rendered students/_student.html.erb (10.3ms)
Rendered students/index.html.erb within layouts/application (18.5ms)
Completed 200 OK in 33ms (Views: 24.4ms | ActiveRecord: 1.3ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:02:41 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi[0m
Rendered students/_student.html.erb (8.7ms)
Rendered students/index.html.erb within layouts/application (16.9ms)
Completed 200 OK in 31ms (Views: 23.5ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:02:41 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi
Rendered students/_student.html.erb (8.9ms)
Rendered students/index.html.erb within layouts/application (17.6ms)
Completed 200 OK in 31ms (Views: 24.0ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:02:41 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi[0m
Rendered students/_student.html.erb (9.1ms)
Rendered students/index.html.erb within layouts/application (17.5ms)
Completed 200 OK in 32ms (Views: 23.9ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:02:42 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi
Rendered students/_student.html.erb (8.6ms)
Rendered students/index.html.erb within layouts/application (16.9ms)
Completed 200 OK in 31ms (Views: 23.5ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:02:42 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi[0m
Rendered students/_student.html.erb (9.4ms)
Rendered students/index.html.erb within layouts/application (17.6ms)
Completed 200 OK in 32ms (Views: 24.1ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:02:43 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi
Rendered students/_student.html.erb (9.5ms)
Rendered students/index.html.erb within layouts/application (18.2ms)
Completed 200 OK in 33ms (Views: 24.4ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:02:43 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi[0m
Rendered students/_student.html.erb (8.6ms)
Rendered students/index.html.erb within layouts/application (17.1ms)
Completed 200 OK in 32ms (Views: 24.0ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:02:44 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi
Rendered students/_student.html.erb (8.8ms)
Rendered students/index.html.erb within layouts/application (17.2ms)
Completed 200 OK in 31ms (Views: 23.6ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:02:44 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi[0m
Rendered students/_student.html.erb (9.3ms)
Rendered students/index.html.erb within layouts/application (17.7ms)
Completed 200 OK in 33ms (Views: 24.5ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:02:44 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi
Rendered students/_student.html.erb (8.7ms)
Rendered students/index.html.erb within layouts/application (16.8ms)
Completed 200 OK in 32ms (Views: 23.7ms | ActiveRecord: 0.5ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 16:03:34 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/index.html.erb within layouts/application (6.4ms)
Completed 200 OK in 22ms (Views: 13.9ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:03:40 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
Rendered students/index.html.erb within layouts/application (7.5ms)
Completed 200 OK in 22ms (Views: 14.8ms | ActiveRecord: 0.0ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:03:41 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
Rendered students/index.html.erb within layouts/application (7.1ms)
Completed 200 OK in 22ms (Views: 14.4ms | ActiveRecord: 0.0ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:03:42 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
Rendered students/index.html.erb within layouts/application (6.4ms)
Completed 200 OK in 20ms (Views: 13.4ms | ActiveRecord: 0.0ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:03:42 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
Rendered students/index.html.erb within layouts/application (7.2ms)
Completed 200 OK in 95ms (Views: 14.3ms | ActiveRecord: 0.0ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:03:42 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
Rendered students/index.html.erb within layouts/application (6.7ms)
Completed 200 OK in 21ms (Views: 13.8ms | ActiveRecord: 0.0ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:03:43 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
Rendered students/index.html.erb within layouts/application (6.5ms)
Completed 200 OK in 20ms (Views: 13.4ms | ActiveRecord: 0.0ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:03:43 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
Rendered students/index.html.erb within layouts/application (6.6ms)
Completed 200 OK in 21ms (Views: 13.7ms | ActiveRecord: 0.0ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:03:43 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
Rendered students/index.html.erb within layouts/application (7.3ms)
Completed 200 OK in 22ms (Views: 14.6ms | ActiveRecord: 0.0ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:03:43 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
Rendered students/index.html.erb within layouts/application (6.4ms)
Completed 200 OK in 21ms (Views: 14.0ms | ActiveRecord: 0.0ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:03:43 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
Rendered students/index.html.erb within layouts/application (6.4ms)
Completed 200 OK in 20ms (Views: 13.8ms | ActiveRecord: 0.0ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:03:43 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
Rendered students/index.html.erb within layouts/application (6.8ms)
Completed 200 OK in 21ms (Views: 14.1ms | ActiveRecord: 0.0ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:03:44 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
Rendered students/index.html.erb within layouts/application (8.5ms)
Completed 200 OK in 23ms (Views: 15.6ms | ActiveRecord: 0.0ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:03:44 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
Rendered students/index.html.erb within layouts/application (6.7ms)
Completed 200 OK in 22ms (Views: 14.9ms | ActiveRecord: 0.0ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:03:44 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
Rendered students/index.html.erb within layouts/application (6.5ms)
Completed 200 OK in 21ms (Views: 13.4ms | ActiveRecord: 0.0ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:03:44 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
Rendered students/index.html.erb within layouts/application (6.6ms)
Completed 200 OK in 20ms (Views: 13.7ms | ActiveRecord: 0.0ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:03:44 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
Rendered students/index.html.erb within layouts/application (7.3ms)
Completed 200 OK in 22ms (Views: 14.5ms | ActiveRecord: 0.0ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:03:44 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
Rendered students/index.html.erb within layouts/application (6.8ms)
Completed 200 OK in 21ms (Views: 13.9ms | ActiveRecord: 0.0ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:03:45 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
Rendered students/index.html.erb within layouts/application (7.1ms)
Completed 200 OK in 21ms (Views: 14.2ms | ActiveRecord: 0.0ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:03:48 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
Rendered students/index.html.erb within layouts/application (83.2ms)
Completed 200 OK in 97ms (Views: 90.2ms | ActiveRecord: 0.0ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:03:52 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
Rendered students/index.html.erb within layouts/application (6.6ms)
Completed 200 OK in 21ms (Views: 14.4ms | ActiveRecord: 0.0ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 16:04:19 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/index.html.erb within layouts/application (6.5ms)
Completed 200 OK in 23ms (Views: 13.9ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:04:21 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi[0m
Rendered students/_student.html.erb (82.3ms)
Rendered students/index.js.erb (84.6ms)
Completed 200 OK in 110ms (Views: 103.0ms | ActiveRecord: 0.6ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 16:08:59 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/index.html.erb within layouts/application (7.5ms)
Completed 200 OK in 24ms (Views: 15.1ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 16:09:01 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.8ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_student.html.erb (15.7ms)
Rendered students/index.js.erb (18.5ms)
Completed 200 OK in 45ms (Views: 36.8ms | ActiveRecord: 0.8ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91" for 127.0.0.1 at Wed Oct 20 16:09:02 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中１"}
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi
Rendered students/_student.html.erb (10.6ms)
Rendered students/index.js.erb (12.8ms)
Completed 200 OK in 38ms (Views: 30.9ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92" for 127.0.0.1 at Wed Oct 20 16:09:03 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中２"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi[0m
Rendered students/_student.html.erb (9.1ms)
Rendered students/index.js.erb (11.1ms)
Completed 200 OK in 36ms (Views: 28.3ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:09:04 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi
Rendered students/_student.html.erb (8.4ms)
Rendered students/index.js.erb (10.6ms)
Completed 200 OK in 36ms (Views: 28.1ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%94" for 127.0.0.1 at Wed Oct 20 16:09:05 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"小４"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '小４') ORDER BY yomi[0m
Rendered students/_student.html.erb (7.1ms)
Rendered students/index.js.erb (9.1ms)
Completed 200 OK in 34ms (Views: 26.7ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%95" for 127.0.0.1 at Wed Oct 20 16:09:05 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"小５"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '小５') ORDER BY yomi
Rendered students/_student.html.erb (1.5ms)
Rendered students/index.js.erb (3.4ms)
Completed 200 OK in 28ms (Views: 20.8ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%96" for 127.0.0.1 at Wed Oct 20 16:09:07 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"小６"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '小６') ORDER BY yomi[0m
Rendered students/_student.html.erb (1.6ms)
Rendered students/index.js.erb (3.8ms)
Completed 200 OK in 28ms (Views: 21.2ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E9%AB%98%EF%BC%91" for 127.0.0.1 at Wed Oct 20 16:09:07 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"高１"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '高１') ORDER BY yomi
Rendered students/_student.html.erb (1.6ms)
Rendered students/index.js.erb (4.0ms)
Completed 200 OK in 28ms (Views: 21.5ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E9%AB%98%EF%BC%92" for 127.0.0.1 at Wed Oct 20 16:09:08 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"高２"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '高２') ORDER BY yomi[0m
Rendered students/_student.html.erb (1.6ms)
Rendered students/index.js.erb (3.4ms)
Completed 200 OK in 28ms (Views: 20.9ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E9%AB%98%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:09:09 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"高３"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '高３') ORDER BY yomi
Rendered students/_student.html.erb (1.6ms)
Rendered students/index.js.erb (3.5ms)
Completed 200 OK in 28ms (Views: 20.8ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%91" for 127.0.0.1 at Wed Oct 20 16:09:10 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"小１"}
  [1m[36mStudent Load (1.0ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '小１') ORDER BY yomi[0m
Rendered students/_student.html.erb (2.2ms)
Rendered students/index.js.erb (4.3ms)
Completed 200 OK in 30ms (Views: 22.3ms | ActiveRecord: 1.0ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%92" for 127.0.0.1 at Wed Oct 20 16:09:10 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"小２"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '小２') ORDER BY yomi
Rendered students/_student.html.erb (1.5ms)
Rendered students/index.js.erb (3.4ms)
Completed 200 OK in 28ms (Views: 21.2ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:09:11 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"小３"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '小３') ORDER BY yomi[0m
Rendered students/_student.html.erb (1.5ms)
Rendered students/index.js.erb (3.4ms)
Completed 200 OK in 28ms (Views: 20.8ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%95" for 127.0.0.1 at Wed Oct 20 16:09:12 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"小５"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '小５') ORDER BY yomi
Rendered students/_student.html.erb (1.6ms)
Rendered students/index.js.erb (3.4ms)
Completed 200 OK in 28ms (Views: 20.2ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%94" for 127.0.0.1 at Wed Oct 20 16:09:13 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"小４"}
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '小４') ORDER BY yomi[0m
Rendered students/_student.html.erb (7.5ms)
Rendered students/index.js.erb (86.4ms)
Completed 200 OK in 111ms (Views: 103.8ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%95" for 127.0.0.1 at Wed Oct 20 16:09:14 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"小５"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '小５') ORDER BY yomi
Rendered students/_student.html.erb (2.2ms)
Rendered students/index.js.erb (4.1ms)
Completed 200 OK in 29ms (Views: 22.0ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%94" for 127.0.0.1 at Wed Oct 20 16:09:15 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"小４"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '小４') ORDER BY yomi[0m
Rendered students/_student.html.erb (7.6ms)
Rendered students/index.js.erb (9.6ms)
Completed 200 OK in 35ms (Views: 28.0ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:09:16 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi
Rendered students/_student.html.erb (8.8ms)
Rendered students/index.js.erb (11.1ms)
Completed 200 OK in 35ms (Views: 28.2ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%95" for 127.0.0.1 at Wed Oct 20 16:09:17 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"小５"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '小５') ORDER BY yomi[0m
Rendered students/_student.html.erb (1.6ms)
Rendered students/index.js.erb (3.5ms)
Completed 200 OK in 28ms (Views: 20.8ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%96" for 127.0.0.1 at Wed Oct 20 16:09:18 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"小６"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '小６') ORDER BY yomi
Rendered students/_student.html.erb (1.7ms)
Rendered students/index.js.erb (3.9ms)
Completed 200 OK in 29ms (Views: 21.5ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E9%AB%98%EF%BC%91" for 127.0.0.1 at Wed Oct 20 16:09:19 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"高１"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '高１') ORDER BY yomi[0m
Rendered students/_student.html.erb (1.9ms)
Rendered students/index.js.erb (3.8ms)
Completed 200 OK in 29ms (Views: 21.5ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 16:09:21 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (15.0ms)
Rendered students/index.js.erb (17.5ms)
Completed 200 OK in 44ms (Views: 35.3ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 16:09:21 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_student.html.erb (93.8ms)
Rendered students/index.js.erb (96.4ms)
Completed 200 OK in 123ms (Views: 114.3ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:09:26 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi
Rendered students/_student.html.erb (9.2ms)
Rendered students/index.js.erb (11.4ms)
Completed 200 OK in 37ms (Views: 29.1ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92" for 127.0.0.1 at Wed Oct 20 16:09:28 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中２"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi[0m
Rendered students/_student.html.erb (8.6ms)
Rendered students/index.js.erb (10.7ms)
Completed 200 OK in 35ms (Views: 27.7ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91" for 127.0.0.1 at Wed Oct 20 16:09:29 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中１"}
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi
Rendered students/_student.html.erb (9.8ms)
Rendered students/index.js.erb (12.3ms)
Completed 200 OK in 37ms (Views: 29.9ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92" for 127.0.0.1 at Wed Oct 20 16:09:35 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中２"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi[0m
Rendered students/_student.html.erb (8.7ms)
Rendered students/index.js.erb (10.7ms)
Completed 200 OK in 112ms (Views: 27.5ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:09:37 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi
Rendered students/_student.html.erb (8.5ms)
Rendered students/index.js.erb (10.5ms)
Completed 200 OK in 37ms (Views: 29.0ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92" for 127.0.0.1 at Wed Oct 20 16:09:38 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中２"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi[0m
Rendered students/_student.html.erb (8.4ms)
Rendered students/index.js.erb (10.5ms)
Completed 200 OK in 35ms (Views: 27.9ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91" for 127.0.0.1 at Wed Oct 20 16:09:39 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中１"}
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi
Rendered students/_student.html.erb (9.7ms)
Rendered students/index.js.erb (11.8ms)
Completed 200 OK in 36ms (Views: 29.4ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92" for 127.0.0.1 at Wed Oct 20 16:09:40 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中２"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi[0m
Rendered students/_student.html.erb (8.5ms)
Rendered students/index.js.erb (10.6ms)
Completed 200 OK in 36ms (Views: 28.5ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:09:41 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi
Rendered students/_student.html.erb (8.6ms)
Rendered students/index.js.erb (10.7ms)
Completed 200 OK in 35ms (Views: 27.7ms | ActiveRecord: 0.5ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 16:10:04 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/index.html.erb within layouts/application (7.4ms)
Completed 200 OK in 22ms (Views: 14.4ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 16:10:07 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (15.2ms)
Rendered students/index.js.erb (17.8ms)
Completed 200 OK in 45ms (Views: 36.3ms | ActiveRecord: 0.7ms)


Started GET "/students/2" for 127.0.0.1 at Wed Oct 20 16:10:08 +0900 2010
  Processing by StudentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE ("students"."id" = 2) LIMIT 1[0m
Rendered students/show.html.erb within layouts/application (8.5ms)
Completed 200 OK in 28ms (Views: 18.0ms | ActiveRecord: 0.2ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91" for 127.0.0.1 at Wed Oct 20 16:18:13 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中１"}
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi
Rendered students/_student.html.erb (9.9ms)
Rendered students/index.js.erb (12.3ms)
Completed 200 OK in 37ms (Views: 29.5ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92" for 127.0.0.1 at Wed Oct 20 16:18:15 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中２"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi[0m
Rendered students/_student.html.erb (85.5ms)
Rendered students/index.js.erb (87.5ms)
Completed 200 OK in 112ms (Views: 104.7ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:18:17 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi
Rendered students/_student.html.erb (9.2ms)
Rendered students/index.js.erb (11.3ms)
Completed 200 OK in 36ms (Views: 29.0ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%94" for 127.0.0.1 at Wed Oct 20 16:18:18 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"小４"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '小４') ORDER BY yomi[0m
Rendered students/_student.html.erb (7.2ms)
Rendered students/index.js.erb (9.2ms)
Completed 200 OK in 34ms (Views: 26.4ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%95" for 127.0.0.1 at Wed Oct 20 16:18:19 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"小５"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '小５') ORDER BY yomi
Rendered students/_student.html.erb (1.5ms)
Rendered students/index.js.erb (3.3ms)
Completed 200 OK in 27ms (Views: 20.4ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%96" for 127.0.0.1 at Wed Oct 20 16:18:20 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"小６"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '小６') ORDER BY yomi[0m
Rendered students/_student.html.erb (1.5ms)
Rendered students/index.js.erb (3.4ms)
Completed 200 OK in 28ms (Views: 20.7ms | ActiveRecord: 0.4ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 16:23:22 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.8ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
ERROR: compiling _app_views_students_index_html_erb__1307073614_2183419480_0 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/index.html.erb:18: syntax error, unexpected tASSOC, expecting ')'
...', :action=> grade, (:grade => '小３'), :remote => true );...
                              ^
/Users/shimizu/rails/season_class/app/views/students/index.html.erb:18: syntax error, unexpected ',', expecting tASSOC
...> grade, (:grade => '小３'), :remote => true );@output_buf...
                              ^
Function body:           def _app_views_students_index_html_erb__1307073614_2183419480_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/index";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<h1>Listing students</h1>

');@output_buffer.append= ( link_to '全員', students_path(:grade => '全員'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小１', students_path(:grade => '小１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('

');@output_buffer.append= ( link_to '小３', :action=> grade, (:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('
<div id=\'grade\'></div>
<div id=\'student_table\'></div>


');@output_buffer.append= ( link_to 'New Student', new_student_path );@output_buffer.safe_concat('
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/index.html.erb:28:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:13:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/index.html.erb within layouts/application (1.4ms)
Completed   in 17ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/index.html.erb:18: syntax error, unexpected tASSOC, expecting ')'
...', :action=> grade, (:grade => '小３'), :remote => true );...
                              ^
/Users/shimizu/rails/season_class/app/views/students/index.html.erb:18: syntax error, unexpected ',', expecting tASSOC
...> grade, (:grade => '小３'), :remote => true );@output_buf...
                              ^):
    15: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    16: 
    17: 
    18: <%= link_to '小３', :action=> grade, (:grade => '小３'), :remote => true %>
    19: 
    20: <div id='grade'></div>
    21: <div id='student_table'></div>
  app/views/students/index.html.erb:28:in `compile'
  app/controllers/students_controller.rb:13:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (11.1ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (18.3ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 16:23:47 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/index.html.erb within layouts/application (25.2ms)
Completed   in 41ms

ActionView::Template::Error (undefined local variable or method `grade' for #<#<Class:0x1042dfcd0>:0x1042de060>):
    15: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    16: 
    17: 
    18: <%= link_to '小３', :action=> grade, :grade => '小３', :remote => true %>
    19: 
    20: <div id='grade'></div>
    21: <div id='student_table'></div>
  app/views/students/index.html.erb:18:in `_app_views_students_index_html_erb__1307073614_2182538160_0'
  app/controllers/students_controller.rb:13:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.5ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 16:25:08 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/index.html.erb within layouts/application (25.3ms)
Completed   in 112ms

ActionView::Template::Error (undefined local variable or method `grade' for #<#<Class:0x1044e68d0>:0x1044e4c60>):
    15: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    16: 
    17: 
    18: <%= link_to '小３', :action=> grade, :grade => '小３', :remote => true %>
    19: 
    20: <div id='grade'></div>
    21: <div id='student_table'></div>
  app/views/students/index.html.erb:18:in `_app_views_students_index_html_erb__1307073614_2183600540_0'
  app/controllers/students_controller.rb:14:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.8ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.7ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 16:25:10 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/index.html.erb within layouts/application (24.5ms)
Completed   in 40ms

ActionView::Template::Error (undefined local variable or method `grade' for #<#<Class:0x1042cea48>:0x1042ccdb0>):
    15: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    16: 
    17: 
    18: <%= link_to '小３', :action=> grade, :grade => '小３', :remote => true %>
    19: 
    20: <div id='grade'></div>
    21: <div id='student_table'></div>
  app/views/students/index.html.erb:18:in `_app_views_students_index_html_erb__1307073614_2182502980_0'
  app/controllers/students_controller.rb:14:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.8ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.6ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 16:27:04 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/index.html.erb within layouts/application (25.6ms)
Completed   in 113ms

ActionView::Template::Error (undefined local variable or method `grade' for #<#<Class:0x1044cd4e8>:0x1044cb850>):
    15: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    16: 
    17: 
    18: <%= link_to '小３', :action=> grade, :grade => '小３', :remote => true %>
    19: 
    20: <div id='grade'></div>
    21: <div id='student_table'></div>
  app/views/students/index.html.erb:18:in `_app_views_students_index_html_erb__1307073614_2183548820_0'
  app/controllers/students_controller.rb:14:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.6ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.8ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 16:27:07 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[36mStudent Load (1.0ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/index.html.erb within layouts/application (25.0ms)
Completed   in 40ms

ActionView::Template::Error (undefined local variable or method `grade' for #<#<Class:0x1042b4d00>:0x1042b3068>):
    15: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    16: 
    17: 
    18: <%= link_to '小３', :action=> grade, :grade => '小３', :remote => true %>
    19: 
    20: <div id='grade'></div>
    21: <div id='student_table'></div>
  app/views/students/index.html.erb:18:in `_app_views_students_index_html_erb__1307073614_2182450080_0'
  app/controllers/students_controller.rb:14:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.0ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.7ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 16:27:32 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/index.html.erb within layouts/application (7.3ms)
Completed 200 OK in 23ms (Views: 14.7ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 16:27:34 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_student.html.erb (14.9ms)
Rendered students/_grade.html.erb (0.3ms)
Rendered students/index.js.erb (19.7ms)
Completed 200 OK in 46ms (Views: 37.6ms | ActiveRecord: 0.7ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 16:29:26 +0900 2010
  Processing by StudentsController#index as HTML
  [1m[35mStudent Load (0.8ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/index.html.erb within layouts/application (81.0ms)
Completed 200 OK in 97ms (Views: 88.9ms | ActiveRecord: 0.8ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 16:29:28 +0900 2010
  Processing by StudentsController#index as JS
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_student.html.erb (15.8ms)
Rendered students/_grade.html.erb (1.9ms)
Rendered students/index.js.erb (22.6ms)
Completed 200 OK in 49ms (Views: 41.2ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91" for 127.0.0.1 at Wed Oct 20 16:29:32 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中１"}
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi
Rendered students/_student.html.erb (9.7ms)
Rendered students/_grade.html.erb (1.7ms)
Rendered students/index.js.erb (15.2ms)
Completed 200 OK in 40ms (Views: 32.5ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92" for 127.0.0.1 at Wed Oct 20 16:29:33 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中２"}
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi[0m
Rendered students/_student.html.erb (10.7ms)
Rendered students/_grade.html.erb (1.7ms)
Rendered students/index.js.erb (17.2ms)
Completed 200 OK in 43ms (Views: 35.1ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:29:33 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi
Rendered students/_student.html.erb (8.4ms)
Rendered students/_grade.html.erb (1.5ms)
Rendered students/index.js.erb (13.5ms)
Completed 200 OK in 39ms (Views: 31.2ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91" for 127.0.0.1 at Wed Oct 20 16:29:35 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中１"}
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi[0m
Rendered students/_student.html.erb (9.9ms)
Rendered students/_grade.html.erb (1.6ms)
Rendered students/index.js.erb (15.1ms)
Completed 200 OK in 39ms (Views: 32.4ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92" for 127.0.0.1 at Wed Oct 20 16:29:35 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中２"}
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi
Rendered students/_student.html.erb (9.1ms)
Rendered students/_grade.html.erb (1.5ms)
Rendered students/index.js.erb (14.5ms)
Completed 200 OK in 116ms (Views: 108.7ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:29:36 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi[0m
Rendered students/_student.html.erb (8.4ms)
Rendered students/_grade.html.erb (1.7ms)
Rendered students/index.js.erb (13.8ms)
Completed 200 OK in 38ms (Views: 31.1ms | ActiveRecord: 0.5ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 16:30:49 +0900 2010
  Processing by StudentsController#index as HTML
Rendered students/index.html.erb within layouts/application (7.7ms)
Completed 200 OK in 26ms (Views: 15.0ms | ActiveRecord: 0.0ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 16:30:51 +0900 2010
  Processing by StudentsController#index as JS
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (2.0ms)
Rendered students/_grade.html.erb (2.2ms)
Rendered students/index.js.erb (8.2ms)
Completed 200 OK in 34ms (Views: 26.4ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91" for 127.0.0.1 at Wed Oct 20 16:30:53 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中１"}
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi[0m
Rendered students/_student.html.erb (9.7ms)
Rendered students/_grade.html.erb (1.9ms)
Rendered students/index.js.erb (15.3ms)
Completed 200 OK in 40ms (Views: 33.0ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92" for 127.0.0.1 at Wed Oct 20 16:30:53 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中２"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi
Rendered students/_student.html.erb (8.5ms)
Rendered students/_grade.html.erb (1.5ms)
Rendered students/index.js.erb (13.7ms)
Completed 200 OK in 38ms (Views: 31.0ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 16:30:54 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_student.html.erb (105.7ms)
Rendered students/_grade.html.erb (1.6ms)
Rendered students/index.js.erb (111.4ms)
Completed 200 OK in 137ms (Views: 129.3ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 16:30:57 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (16.1ms)
Rendered students/_grade.html.erb (1.5ms)
Rendered students/index.js.erb (21.8ms)
Completed 200 OK in 48ms (Views: 39.6ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 16:30:58 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_student.html.erb (16.1ms)
Rendered students/_grade.html.erb (1.7ms)
Rendered students/index.js.erb (22.4ms)
Completed 200 OK in 48ms (Views: 40.2ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 16:30:58 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (15.4ms)
Rendered students/_grade.html.erb (1.8ms)
Rendered students/index.js.erb (21.4ms)
Completed 200 OK in 125ms (Views: 39.7ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 16:30:58 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_student.html.erb (14.9ms)
Rendered students/_grade.html.erb (1.7ms)
Rendered students/index.js.erb (20.7ms)
Completed 200 OK in 47ms (Views: 38.7ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 16:30:59 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (14.9ms)
Rendered students/_grade.html.erb (1.5ms)
Rendered students/index.js.erb (20.5ms)
Completed 200 OK in 47ms (Views: 38.5ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 16:30:59 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_student.html.erb (15.6ms)
Rendered students/_grade.html.erb (1.5ms)
Rendered students/index.js.erb (21.2ms)
Completed 200 OK in 47ms (Views: 39.1ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 16:30:59 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (15.6ms)
Rendered students/_grade.html.erb (1.5ms)
Rendered students/index.js.erb (21.2ms)
Completed 200 OK in 48ms (Views: 39.6ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 16:31:01 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_student.html.erb (90.5ms)
Rendered students/_grade.html.erb (1.6ms)
Rendered students/index.js.erb (96.4ms)
Completed 200 OK in 123ms (Views: 114.5ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 16:31:19 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.8ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (15.4ms)
Rendered students/_grade.html.erb (1.5ms)
Rendered students/index.js.erb (21.0ms)
Completed 200 OK in 50ms (Views: 40.0ms | ActiveRecord: 0.8ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91" for 127.0.0.1 at Wed Oct 20 16:31:21 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中１"}
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi[0m
Rendered students/_student.html.erb (9.8ms)
Rendered students/_grade.html.erb (1.5ms)
Rendered students/index.js.erb (15.2ms)
Completed 200 OK in 39ms (Views: 32.4ms | ActiveRecord: 0.6ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 16:31:22 +0900 2010
  Processing by StudentsController#index as JS
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.5ms)
Rendered students/_grade.html.erb (1.6ms)
Rendered students/index.js.erb (6.6ms)
Completed 200 OK in 32ms (Views: 24.7ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 16:31:24 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_student.html.erb (15.6ms)
Rendered students/_grade.html.erb (1.6ms)
Rendered students/index.js.erb (21.1ms)
Completed 200 OK in 47ms (Views: 39.1ms | ActiveRecord: 0.7ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 16:31:25 +0900 2010
  Processing by StudentsController#index as JS
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (1.6ms)
Rendered students/index.js.erb (6.5ms)
Completed 200 OK in 30ms (Views: 23.6ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91" for 127.0.0.1 at Wed Oct 20 16:31:25 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中１"}
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi[0m
Rendered students/_student.html.erb (9.9ms)
Rendered students/_grade.html.erb (1.5ms)
Rendered students/index.js.erb (15.1ms)
Completed 200 OK in 40ms (Views: 32.3ms | ActiveRecord: 0.6ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 16:31:26 +0900 2010
  Processing by StudentsController#index as JS
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (1.7ms)
Rendered students/index.js.erb (6.6ms)
Completed 200 OK in 107ms (Views: 24.2ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 16:31:27 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_student.html.erb (15.0ms)
Rendered students/_grade.html.erb (1.5ms)
Rendered students/index.js.erb (20.7ms)
Completed 200 OK in 47ms (Views: 39.0ms | ActiveRecord: 0.7ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 16:48:04 +0900 2010
  Processing by StudentsController#index as HTML
Rendered students/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 19ms (Views: 12.1ms | ActiveRecord: 0.0ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 16:48:06 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (15.4ms)
Rendered students/_grade.html.erb (1.0ms)
Rendered students/index.js.erb (21.0ms)
Completed 200 OK in 48ms (Views: 39.6ms | ActiveRecord: 0.7ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:48:08 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (2.2ms)
Rendered students/_grade.html.erb (3.1ms)
Rendered students/index.js.erb (8.7ms)
Completed 200 OK in 33ms (Views: 25.9ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%91" for 127.0.0.1 at Wed Oct 20 16:48:09 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"小１"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '小１') ORDER BY yomi
Rendered students/_student.html.erb (1.5ms)
Rendered students/_grade.html.erb (0.9ms)
Rendered students/index.js.erb (5.6ms)
Completed 200 OK in 30ms (Views: 23.4ms | ActiveRecord: 0.4ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:48:11 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.5ms)
Rendered students/_grade.html.erb (78.1ms)
Rendered students/index.js.erb (83.1ms)
Completed 200 OK in 108ms (Views: 101.0ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91" for 127.0.0.1 at Wed Oct 20 16:48:15 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中１"}
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi
Rendered students/_student.html.erb (10.8ms)
Rendered students/_grade.html.erb (1.0ms)
Rendered students/index.js.erb (15.4ms)
Completed 200 OK in 40ms (Views: 33.1ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 16:48:17 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (1.1ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_student.html.erb (14.8ms)
Rendered students/_grade.html.erb (1.0ms)
Rendered students/index.js.erb (19.8ms)
Completed 200 OK in 46ms (Views: 38.0ms | ActiveRecord: 1.1ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:48:19 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.9ms)
Rendered students/_grade.html.erb (3.2ms)
Rendered students/index.js.erb (8.9ms)
Completed 200 OK in 36ms (Views: 27.9ms | ActiveRecord: 0.6ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:48:20 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (2.1ms)
Rendered students/index.js.erb (7.2ms)
Completed 200 OK in 33ms (Views: 25.8ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91" for 127.0.0.1 at Wed Oct 20 16:48:21 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中１"}
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi
Rendered students/_student.html.erb (10.0ms)
Rendered students/_grade.html.erb (1.0ms)
Rendered students/index.js.erb (14.6ms)
Completed 200 OK in 39ms (Views: 31.8ms | ActiveRecord: 0.6ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 16:49:28 +0900 2010
  Processing by StudentsController#index as HTML
Rendered students/index.html.erb within layouts/application (4.5ms)
Completed 200 OK in 19ms (Views: 12.2ms | ActiveRecord: 0.0ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:49:30 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (2.2ms)
Rendered students/index.js.erb (7.7ms)
Completed 200 OK in 105ms (Views: 26.5ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91&grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:49:31 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中１", "grade_category"=>"中学生"}
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi
Rendered students/_student.html.erb (10.5ms)
Rendered students/_grade.html.erb (2.1ms)
Rendered students/index.js.erb (16.9ms)
Completed 200 OK in 41ms (Views: 34.0ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92" for 127.0.0.1 at Wed Oct 20 16:49:32 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中２"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi[0m
Rendered students/_student.html.erb (8.4ms)
Rendered students/_grade.html.erb (1.0ms)
Rendered students/index.js.erb (13.1ms)
Completed 200 OK in 38ms (Views: 31.0ms | ActiveRecord: 0.5ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 16:56:35 +0900 2010
  Processing by StudentsController#index as HTML
Rendered students/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 19ms (Views: 12.2ms | ActiveRecord: 0.0ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:56:37 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (2.2ms)
Rendered students/index.js.erb (7.7ms)
Completed 200 OK in 33ms (Views: 25.8ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91" for 127.0.0.1 at Wed Oct 20 16:56:39 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中１"}
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi[0m
Rendered students/_student.html.erb (9.7ms)
Rendered students/_grade.html.erb (2.0ms)
Rendered students/index.js.erb (15.4ms)
Completed 200 OK in 40ms (Views: 33.0ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92" for 127.0.0.1 at Wed Oct 20 16:56:39 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中２"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi
Rendered students/_student.html.erb (8.6ms)
Rendered students/_grade.html.erb (2.0ms)
Rendered students/index.js.erb (14.3ms)
Completed 200 OK in 39ms (Views: 32.3ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:56:40 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi[0m
Rendered students/_student.html.erb (8.7ms)
Rendered students/_grade.html.erb (2.0ms)
Rendered students/index.js.erb (15.3ms)
Completed 200 OK in 40ms (Views: 32.9ms | ActiveRecord: 0.5ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 16:57:26 +0900 2010
  Processing by StudentsController#index as HTML
Rendered students/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 19ms (Views: 12.3ms | ActiveRecord: 0.0ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 16:57:33 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (88.6ms)
Rendered students/_grade.html.erb (1.0ms)
Rendered students/index.js.erb (94.3ms)
Completed 200 OK in 122ms (Views: 113.2ms | ActiveRecord: 0.7ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:57:35 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (3.0ms)
Rendered students/index.js.erb (8.0ms)
Completed 200 OK in 33ms (Views: 25.5ms | ActiveRecord: 0.4ms)


Started GET "/students?grade_category=%E9%AB%98%E6%A0%A1%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:57:38 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"高校生"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.5ms)
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (6.2ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182697520_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182729200_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.2ms)


Started GET "/students?grade_category=%E9%AB%98%E6%A0%A1%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:57:40 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"高校生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.5ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (6.0ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2181807540_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2181838720_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.5ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:57:42 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.5ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (6.0ms)
Completed   in 30ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182920220_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182952460_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.4ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:57:43 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (6.3ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182034500_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182072680_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.9ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.0ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:57:43 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (6.6ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183329820_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2183368820_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.5ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:57:43 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (6.0ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182343480_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182380260_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.7ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.5ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:57:43 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (73.4ms)
Rendered students/index.js.erb (78.6ms)
Completed   in 104ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2181489860_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2181528460_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.5ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:57:44 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.7ms)
Rendered students/_grade.html.erb (3.1ms)
Rendered students/index.js.erb (8.3ms)
Completed 200 OK in 33ms (Views: 25.5ms | ActiveRecord: 0.9ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:57:45 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"小３"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '小３') ORDER BY yomi
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (3.1ms)
Rendered students/index.js.erb (8.5ms)
Completed 200 OK in 33ms (Views: 26.1ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%93" for 127.0.0.1 at Wed Oct 20 16:57:46 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"小３"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '小３') ORDER BY yomi[0m
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (3.4ms)
Rendered students/index.js.erb (8.5ms)
Completed 200 OK in 33ms (Views: 25.8ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%94" for 127.0.0.1 at Wed Oct 20 16:57:47 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"小４"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '小４') ORDER BY yomi
Rendered students/_student.html.erb (8.2ms)
Rendered students/_grade.html.erb (4.2ms)
Rendered students/index.js.erb (16.3ms)
Completed 200 OK in 45ms (Views: 35.8ms | ActiveRecord: 0.5ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:57:48 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.5ms)
Rendered students/_grade.html.erb (1.4ms)
Rendered students/index.js.erb (6.2ms)
Completed   in 30ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182840240_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182876140_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.7ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.4ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:57:49 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (1.4ms)
Rendered students/index.js.erb (6.4ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2181951060_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2181983600_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (79.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (86.6ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:57:49 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.9ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (2.2ms)
Rendered students/_grade.html.erb (1.4ms)
Rendered students/index.js.erb (7.3ms)
Completed   in 34ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183283660_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2183323400_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (3.6ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (11.7ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (21.9ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:57:54 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.7ms)
Rendered students/_grade.html.erb (1.2ms)
Rendered students/index.js.erb (6.4ms)
Completed   in 32ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182305760_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182336980_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.6ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.2ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:57:54 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.8ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (2.6ms)
Rendered students/_grade.html.erb (1.4ms)
Rendered students/index.js.erb (8.5ms)
Completed   in 133ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183588120_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2183622860_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.7ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.5ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:57:54 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.9ms)
Rendered students/_grade.html.erb (1.5ms)
Rendered students/index.js.erb (8.2ms)
Completed   in 44ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182584180_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182633600_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (23.0ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (32.3ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:57:55 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.9ms)
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (8.6ms)
Completed   in 43ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2181702320_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2181740480_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (91.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (98.5ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:57:55 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (2.0ms)
Rendered students/_grade.html.erb (1.5ms)
Rendered students/index.js.erb (9.1ms)
Completed   in 41ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183162120_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2183209220_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.0ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.1ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (18.4ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:57:55 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.7ms)
Rendered students/_grade.html.erb (1.4ms)
Rendered students/index.js.erb (6.8ms)
Completed   in 36ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182219820_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182251000_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.8ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:57:56 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.9ms)
Rendered students/_grade.html.erb (1.6ms)
Rendered students/index.js.erb (7.8ms)
Completed   in 159ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183524520_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2183558060_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (3.6ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.0ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (20.6ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:57:56 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (2.3ms)
Rendered students/_grade.html.erb (1.2ms)
Rendered students/index.js.erb (7.5ms)
Completed   in 45ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182509860_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182559220_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.9ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:57:57 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (2.8ms)
Rendered students/_grade.html.erb (2.1ms)
Rendered students/index.js.erb (11.4ms)
Completed   in 46ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2181654960_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2181703680_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (117.1ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:57:57 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (2.4ms)
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (8.1ms)
Completed   in 44ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183115080_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2183158480_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (18.3ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:57:57 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (2.1ms)
Rendered students/_grade.html.erb (1.4ms)
Rendered students/index.js.erb (8.6ms)
Completed   in 45ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182201760_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182244580_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.0ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.5ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:57:58 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (2.5ms)
Rendered students/_grade.html.erb (1.6ms)
Rendered students/index.js.erb (8.5ms)
Completed   in 56ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183460820_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2183492520_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.0ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (24.1ms)


Started GET "/students?grade_category=%E9%AB%98%E6%A0%A1%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:57:59 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"高校生"}
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (2.2ms)
Rendered students/_grade.html.erb (1.4ms)
Rendered students/index.js.erb (9.5ms)
Completed   in 41ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182467580_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182500060_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.8ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (19.8ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 16:58:00 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.9ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_student.html.erb (119.9ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (127.9ms)
Completed 200 OK in 157ms (Views: 148.5ms | ActiveRecord: 1.4ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:58:11 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (2.2ms)
Rendered students/_grade.html.erb (1.2ms)
Rendered students/index.js.erb (7.0ms)
Completed   in 33ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183125040_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2183164900_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.1ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.7ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:58:12 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.5ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (5.9ms)
Completed   in 30ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182182520_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182225680_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.8ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.4ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:58:13 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (6.1ms)
Completed   in 32ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183479520_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2183511220_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.6ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.4ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:58:13 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.5ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (6.0ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182484280_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182523220_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.8ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.5ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:58:13 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.5ms)
Rendered students/_grade.html.erb (3.3ms)
Rendered students/index.js.erb (8.2ms)
Completed 200 OK in 32ms (Views: 25.4ms | ActiveRecord: 0.8ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:58:20 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (6.1ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183347220_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2183383480_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.7ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.4ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:58:21 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.5ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (5.9ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182380760_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182411960_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.1ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:58:23 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (6.0ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2181533680_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2181569300_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.5ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:58:24 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.5ms)
Rendered students/_grade.html.erb (3.1ms)
Rendered students/index.js.erb (8.2ms)
Completed 200 OK in 32ms (Views: 25.3ms | ActiveRecord: 0.9ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:58:26 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.5ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (6.2ms)
Completed   in 32ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182306480_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182337720_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.2ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:58:27 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (1.2ms)
Rendered students/index.js.erb (6.0ms)
Completed   in 101ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183593680_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2183628960_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.0ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:58:27 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (6.0ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182615640_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182651940_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.6ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.2ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 16:58:29 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (14.8ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (92.9ms)
Completed 200 OK in 119ms (Views: 111.1ms | ActiveRecord: 1.1ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:58:30 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (1.2ms)
Rendered students/index.js.erb (6.1ms)
Completed   in 32ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183213500_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2183266600_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.1ms)


Started GET "/students?grade_category=%E9%AB%98%E6%A0%A1%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:58:31 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"高校生"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.7ms)
Rendered students/_grade.html.erb (1.8ms)
Rendered students/index.js.erb (7.0ms)
Completed   in 32ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182245860_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182277800_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.4ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:58:31 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (1.2ms)
Rendered students/index.js.erb (6.0ms)
Completed   in 105ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183603600_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182556180_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.0ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:59:06 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.5ms)
Rendered students/_grade.html.erb (3.1ms)
Rendered students/index.js.erb (8.1ms)
Completed 200 OK in 33ms (Views: 25.9ms | ActiveRecord: 0.4ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:59:07 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.5ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (5.9ms)
Completed   in 30ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182187900_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182219260_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.2ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:59:32 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (6.0ms)
Completed   in 116ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183505460_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2183536640_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.1ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:59:33 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.5ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (5.9ms)
Completed   in 30ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182512580_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182549760_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.6ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.2ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:59:33 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.5ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (6.0ms)
Completed   in 30ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2181660700_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2181696880_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (71.9ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.7ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (84.3ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:59:33 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (6.0ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183113980_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2183157180_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.1ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.8ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:59:40 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.5ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (5.9ms)
Completed   in 30ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182211620_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182242880_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.8ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.8ms)


Started GET "/students?grade_category=%E9%AB%98%E6%A0%A1%E7%94%9F" for 127.0.0.1 at Wed Oct 20 16:59:40 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"高校生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (1.2ms)
Rendered students/index.js.erb (5.9ms)
Completed   in 30ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183451580_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2183483280_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.0ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.9ms)


Started GET "/students?grade_category=%E9%AB%98%E6%A0%A1%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:00:00 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"高校生"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.5ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (5.9ms)
Completed   in 30ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182456560_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182488660_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.4ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:00:47 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_student.html.erb (87.4ms)
Rendered students/_grade.html.erb (1.0ms)
Rendered students/index.js.erb (92.5ms)
Completed 200 OK in 118ms (Views: 110.6ms | ActiveRecord: 0.7ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:00:49 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.5ms)
Rendered students/_grade.html.erb (1.2ms)
Rendered students/index.js.erb (6.0ms)
Completed   in 30ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183125800_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2183165620_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.7ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.5ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:00:50 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (1.2ms)
Rendered students/index.js.erb (6.1ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182190300_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182233600_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.1ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:00:50 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (6.1ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183472020_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2183503240_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.3ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:02:15 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.5ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (6.4ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182474840_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182510560_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.5ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:02:15 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.7ms)
Rendered students/_grade.html.erb (1.2ms)
Rendered students/index.js.erb (6.6ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2181613480_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2181656480_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.7ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (87.3ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:02:15 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (6.2ms)
Completed   in 33ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183070320_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2183136320_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.3ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:02:16 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.8ms)
Rendered students/_grade.html.erb (1.2ms)
Rendered students/index.js.erb (6.3ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182192220_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182225440_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.7ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.0ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:02:16 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (1.2ms)
Rendered students/index.js.erb (6.2ms)
Completed   in 32ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183386600_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2183423620_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.1ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.9ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:02:25 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.5ms)
Rendered students/_grade.html.erb (3.1ms)
Rendered students/index.js.erb (8.1ms)
Completed 200 OK in 33ms (Views: 26.0ms | ActiveRecord: 0.9ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:02:26 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.5ms)
Rendered students/_grade.html.erb (1.4ms)
Rendered students/index.js.erb (6.2ms)
Completed   in 30ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182019140_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182050320_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.7ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.5ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:02:26 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (1.2ms)
Rendered students/index.js.erb (5.9ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183300860_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2183332100_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.6ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.4ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:02:26 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.7ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (6.2ms)
Completed   in 30ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182329060_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182363700_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.6ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.2ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 17:05:11 +0900 2010
  Processing by StudentsController#index as HTML
ERROR: compiling _app_views_students_index_html_erb__1307073614_2181520920_0 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/index.html.erb:9: syntax error, unexpected '<'
<div id='grade'></div>
 ^
/Users/shimizu/rails/season_class/app/views/students/index.html.erb:9: syntax error, unexpected '<'
<div id='grade'></div>
                 ^
/Users/shimizu/rails/season_class/app/views/students/index.html.erb:10: unknown regexp options - dv
/Users/shimizu/rails/season_class/app/views/students/index.html.erb:13: syntax error, unexpected '<'
<%= link_to 'New Student', new_student_path 
 ^
/Users/shimizu/rails/season_class/app/views/students/index.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting kEND
...put_buffer = _old_virtual_path, _old_output_buffer
                              ^
/Users/shimizu/rails/season_class/app/views/students/index.html.erb:16: syntax error, unexpected '\n', expecting '='
Function body:           def _app_views_students_index_html_erb__1307073614_2181520920_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/index";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<h1>Listing students</h1>

');@output_buffer.append= ( link_to '全員', students_path(:grade => '全員'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小学生', students_path(:grade_category => '小学生'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中学生', students_path(:grade_category => '中学生'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高校生', students_path(:grade_category => '高校生'), :remote => true );@output_buffer.safe_concat('
'); elseif >

<div id='grade'></div>
<div id='student_table'></div>


<%= link_to 'New Student', new_student_path 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/index.html.erb:17:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/index.html.erb within layouts/application (73.1ms)
Completed   in 88ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/index.html.erb:9: syntax error, unexpected '<'
<div id='grade'></div>
 ^
/Users/shimizu/rails/season_class/app/views/students/index.html.erb:9: syntax error, unexpected '<'
<div id='grade'></div>
                 ^
/Users/shimizu/rails/season_class/app/views/students/index.html.erb:10: unknown regexp options - dv
/Users/shimizu/rails/season_class/app/views/students/index.html.erb:13: syntax error, unexpected '<'
<%= link_to 'New Student', new_student_path 
 ^
/Users/shimizu/rails/season_class/app/views/students/index.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting kEND
...put_buffer = _old_virtual_path, _old_output_buffer
                              ^
/Users/shimizu/rails/season_class/app/views/students/index.html.erb:16: syntax error, unexpected '\n', expecting '='):
    6: <%= link_to '高校生', students_path(:grade_category => '高校生'), :remote => true %>
    7: <% elseif >
    8: 
    9: <div id='grade'></div>
    10: <div id='student_table'></div>
    11: 
    12: 
  app/views/students/index.html.erb:17:in `compile'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.6ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.5ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 17:05:41 +0900 2010
  Processing by StudentsController#index as HTML
Rendered students/index.html.erb within layouts/application (4.9ms)
Completed 200 OK in 20ms (Views: 13.0ms | ActiveRecord: 0.4ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:05:43 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (6.5ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') then %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182183340_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182214620_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (76.6ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (83.5ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:05:44 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.5ms)
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (6.3ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') then %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183173020_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2183215560_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.6ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:05:45 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.5ms)
Rendered students/_grade.html.erb (3.2ms)
Rendered students/index.js.erb (8.4ms)
Completed 200 OK in 33ms (Views: 26.0ms | ActiveRecord: 0.8ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:05:46 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (100.9ms)
Rendered students/_grade.html.erb (1.0ms)
Rendered students/index.js.erb (106.5ms)
Completed 200 OK in 133ms (Views: 124.9ms | ActiveRecord: 0.7ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:05:48 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (5.9ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') then %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183171720_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2183223400_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.2ms)


Started GET "/students?grade_category=%E9%AB%98%E6%A0%A1%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:05:49 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"高校生"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.8ms)
Rendered students/_grade.html.erb (1.2ms)
Rendered students/index.js.erb (6.4ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') then %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182243880_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182277720_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.8ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.6ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:05:50 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (3.1ms)
Rendered students/index.js.erb (8.3ms)
Completed 200 OK in 107ms (Views: 26.1ms | ActiveRecord: 0.8ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:05:51 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (1.0ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (15.0ms)
Rendered students/_grade.html.erb (1.0ms)
Rendered students/index.js.erb (20.1ms)
Completed 200 OK in 47ms (Views: 38.3ms | ActiveRecord: 1.0ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:05:52 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (6.0ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') then %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182424340_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182456240_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.1ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:05:52 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.7ms)
Rendered students/_grade.html.erb (3.7ms)
Rendered students/index.js.erb (8.9ms)
Completed 200 OK in 109ms (Views: 26.5ms | ActiveRecord: 0.9ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:05:53 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (3.1ms)
Rendered students/index.js.erb (8.0ms)
Completed 200 OK in 33ms (Views: 25.5ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:05:53 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (15.3ms)
Rendered students/_grade.html.erb (1.0ms)
Rendered students/index.js.erb (20.3ms)
Completed 200 OK in 46ms (Views: 38.3ms | ActiveRecord: 0.7ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:05:54 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.8ms)
Rendered students/_grade.html.erb (3.1ms)
Rendered students/index.js.erb (8.4ms)
Completed 200 OK in 33ms (Views: 25.8ms | ActiveRecord: 0.4ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:05:55 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (1.2ms)
Rendered students/index.js.erb (6.2ms)
Completed   in 32ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') then %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183349700_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2183385880_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.4ms)


Started GET "/students?grade_category=%E9%AB%98%E6%A0%A1%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:05:55 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"高校生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.5ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (6.0ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') then %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182360360_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182401380_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.3ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:05:56 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_student.html.erb (86.8ms)
Rendered students/_grade.html.erb (1.6ms)
Rendered students/index.js.erb (92.6ms)
Completed 200 OK in 119ms (Views: 110.5ms | ActiveRecord: 1.1ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 17:07:21 +0900 2010
  Processing by StudentsController#index as HTML
Rendered students/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 19ms (Views: 12.2ms | ActiveRecord: 0.0ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:07:23 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (6.8ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '小学生' or @grade.include?('小')) %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182436940_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182473320_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (84.9ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:07:24 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.7ms)
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (6.6ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '小学生' or @grade.include?('小')) %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183299440_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2183330780_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.1ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.8ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:07:24 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.7ms)
Rendered students/_grade.html.erb (1.2ms)
Rendered students/index.js.erb (6.2ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '小学生' or @grade.include?('小')) %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182286160_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182317540_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.6ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.5ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:07:25 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.7ms)
Rendered students/_grade.html.erb (3.2ms)
Rendered students/index.js.erb (8.5ms)
Completed 200 OK in 104ms (Views: 97.0ms | ActiveRecord: 0.9ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:07:26 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (6.1ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '小学生' or @grade.include?('小')) %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183147840_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2183194800_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.6ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.7ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:07:26 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (1.2ms)
Rendered students/index.js.erb (6.3ms)
Completed   in 32ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '小学生' or @grade.include?('小')) %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182183160_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182214300_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.0ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:07:26 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (1.2ms)
Rendered students/index.js.erb (6.3ms)
Completed   in 108ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '小学生' or @grade.include?('小')) %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183510120_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2183542480_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.0ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.7ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.5ms)


Started GET "/students?grade_category=%E9%AB%98%E6%A0%A1%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:07:27 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"高校生"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (6.1ms)
Completed   in 33ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '小学生' or @grade.include?('小')) %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182499140_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182539040_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.8ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.6ms)


Started GET "/students?grade_category=%E9%AB%98%E6%A0%A1%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:07:28 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"高校生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (6.1ms)
Completed   in 30ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '小学生' or @grade.include?('小')) %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2181650640_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2181684320_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (83.1ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (90.4ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 17:07:36 +0900 2010
  Processing by StudentsController#index as HTML
Rendered students/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 19ms (Views: 11.7ms | ActiveRecord: 0.4ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:07:38 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.8ms)
Rendered students/_grade.html.erb (1.2ms)
Rendered students/index.js.erb (6.4ms)
Completed   in 32ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '小学生' or @grade.include?('小')) %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182479220_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182529280_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.7ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.4ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:07:39 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (6.1ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '小学生' or @grade.include?('小')) %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183343760_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2183379960_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.9ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.8ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:07:39 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (6.0ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '小学生' or @grade.include?('小')) %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182333100_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182364300_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.6ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.4ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:07:39 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (75.3ms)
Rendered students/index.js.erb (80.3ms)
Completed   in 106ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '小学生' or @grade.include?('小')) %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2181508520_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2181539700_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.6ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.5ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:07:39 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.8ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (6.5ms)
Completed   in 32ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '小学生' or @grade.include?('小')) %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182663900_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182700740_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.7ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.4ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:07:39 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.9ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (6.4ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '小学生' or @grade.include?('小')) %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2181781880_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2181819000_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.1ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.9ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:07:40 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.5ms)
Rendered students/_grade.html.erb (1.2ms)
Rendered students/index.js.erb (6.1ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '小学生' or @grade.include?('小')) %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183313740_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2183345020_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.8ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:07:40 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (6.1ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '小学生' or @grade.include?('小')) %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182309960_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2182350860_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.2ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 17:08:23 +0900 2010
  Processing by StudentsController#index as HTML
Rendered students/index.html.erb within layouts/application (78.4ms)
Completed 200 OK in 93ms (Views: 86.1ms | ActiveRecord: 0.0ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:08:25 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (1.2ms)
Rendered students/index.js.erb (6.7ms)
Completed   in 32ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '中学生' or @grade.include?('中')) %>
    2: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    3: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    4: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182983700_1908350'
  app/views/students/index.js.erb:6:in `_app_views_students_index_js_erb__2136576730_2183023760_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.6ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.3ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:08:27 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.6ms)
Rendered students/_grade.html.erb (2.1ms)
Rendered students/index.js.erb (7.0ms)
Completed 200 OK in 32ms (Views: 24.4ms | ActiveRecord: 0.9ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91" for 127.0.0.1 at Wed Oct 20 17:08:28 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中１"}
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi
Rendered students/_student.html.erb (9.9ms)
Rendered students/_grade.html.erb (2.0ms)
Rendered students/index.js.erb (15.6ms)
Completed 200 OK in 41ms (Views: 33.4ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92" for 127.0.0.1 at Wed Oct 20 17:08:29 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中２"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi[0m
Rendered students/_student.html.erb (8.7ms)
Rendered students/_grade.html.erb (2.0ms)
Rendered students/index.js.erb (14.4ms)
Completed 200 OK in 39ms (Views: 31.7ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 17:08:30 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi
Rendered students/_student.html.erb (8.6ms)
Rendered students/_grade.html.erb (2.0ms)
Rendered students/index.js.erb (14.2ms)
Completed 200 OK in 39ms (Views: 31.4ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92" for 127.0.0.1 at Wed Oct 20 17:08:31 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中２"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi[0m
Rendered students/_student.html.erb (84.3ms)
Rendered students/_grade.html.erb (2.6ms)
Rendered students/index.js.erb (90.7ms)
Completed 200 OK in 116ms (Views: 108.5ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93" for 127.0.0.1 at Wed Oct 20 17:08:32 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi
Rendered students/_student.html.erb (8.5ms)
Rendered students/_grade.html.erb (2.0ms)
Rendered students/index.js.erb (14.1ms)
Completed 200 OK in 39ms (Views: 31.5ms | ActiveRecord: 0.5ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:05 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (3.2ms)
Completed   in 28ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '中学生' or @grade.include?('中')) %>
    2: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    3: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    4: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182640080_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182655880_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.8ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.9ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:05 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (1.2ms)
Rendered students/index.js.erb (3.5ms)
Completed   in 28ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '中学生' or @grade.include?('中')) %>
    2: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    3: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    4: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2181769360_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2181785800_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (75.6ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (91.0ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:05 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (1.2ms)
Rendered students/index.js.erb (3.1ms)
Completed   in 28ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '中学生' or @grade.include?('中')) %>
    2: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    3: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    4: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183136360_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183152780_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.8ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.5ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:06 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (3.0ms)
Completed   in 29ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '中学生' or @grade.include?('中')) %>
    2: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    3: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    4: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182238300_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182258520_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.2ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:06 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (3.0ms)
Completed   in 28ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '中学生' or @grade.include?('中')) %>
    2: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    3: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    4: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183518940_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183534760_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.1ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:06 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (3.0ms)
Completed   in 28ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '中学生' or @grade.include?('中')) %>
    2: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    3: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    4: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182547060_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182569580_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.8ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.9ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:07 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (1.2ms)
Rendered students/index.js.erb (3.4ms)
Completed   in 28ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '中学生' or @grade.include?('中')) %>
    2: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    3: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    4: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2181707760_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2181723540_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (81.6ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (88.4ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:07 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (3.0ms)
Completed   in 29ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '中学生' or @grade.include?('中')) %>
    2: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    3: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    4: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183202780_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183218600_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.8ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.5ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:07 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (3.0ms)
Completed   in 28ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '中学生' or @grade.include?('中')) %>
    2: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    3: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    4: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182288540_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182304320_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.8ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.7ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:07 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (1.2ms)
Rendered students/index.js.erb (3.1ms)
Completed   in 99ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '中学生' or @grade.include?('中')) %>
    2: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    3: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    4: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183566200_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183594560_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.4ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:08 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (3.0ms)
Completed   in 27ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '中学生' or @grade.include?('中')) %>
    2: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    3: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    4: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182619580_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182635360_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.1ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:08 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (3.0ms)
Completed   in 27ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '中学生' or @grade.include?('中')) %>
    2: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    3: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    4: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2181766880_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2181782780_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (81.9ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (88.9ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:08 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.9ms)
Completed   in 29ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '中学生' or @grade.include?('中')) %>
    2: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    3: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    4: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183311200_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183327080_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.8ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.6ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:08 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (2.9ms)
Completed   in 28ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '中学生' or @grade.include?('中')) %>
    2: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    3: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    4: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182357520_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182373380_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.9ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.9ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:09 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (1.2ms)
Rendered students/index.js.erb (3.2ms)
Completed   in 107ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '中学生' or @grade.include?('中')) %>
    2: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    3: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    4: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183644640_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2181541800_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.8ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.0ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:09 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (3.6ms)
Completed   in 30ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '中学生' or @grade.include?('中')) %>
    2: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    3: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    4: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182681280_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182697060_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.8ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.6ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:09 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (3.1ms)
Completed   in 27ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '中学生' or @grade.include?('中')) %>
    2: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    3: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    4: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2181828540_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2181844480_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.9ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.9ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:09 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (2.9ms)
Completed   in 28ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '中学生' or @grade.include?('中')) %>
    2: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    3: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    4: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183335500_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183351320_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.0ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.9ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:09 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (3.0ms)
Completed   in 27ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '中学生' or @grade.include?('中')) %>
    2: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    3: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    4: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182380580_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182396360_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.8ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.7ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:09 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (3.0ms)
Completed   in 29ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '中学生' or @grade.include?('中')) %>
    2: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    3: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    4: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2181553280_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2181569100_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.0ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.0ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:10 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (1.7ms)
Rendered students/index.js.erb (3.7ms)
Completed   in 30ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '中学生' or @grade.include?('中')) %>
    2: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    3: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    4: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182890040_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182905900_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.8ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.6ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:10 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (2.9ms)
Completed   in 27ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '中学生' or @grade.include?('中')) %>
    2: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    3: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    4: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182054140_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182069940_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.0ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.7ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:10 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (3.0ms)
Completed   in 29ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '中学生' or @grade.include?('中')) %>
    2: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    3: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    4: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183395800_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183413420_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.6ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.5ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:10 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (3.0ms)
Completed   in 28ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '中学生' or @grade.include?('中')) %>
    2: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    3: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    4: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182435420_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182451240_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.8ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.5ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:10 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (3.1ms)
Completed   in 27ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '中学生' or @grade.include?('中')) %>
    2: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    3: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    4: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2181611060_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2181627760_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (73.8ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.6ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (89.3ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:11 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (3.0ms)
Completed   in 29ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '中学生' or @grade.include?('中')) %>
    2: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    3: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    4: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183136340_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183152760_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.8ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:11 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (2.9ms)
Completed   in 27ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '中学生' or @grade.include?('中')) %>
    2: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    3: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    4: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182239000_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182254800_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.0ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.9ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:11 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (3.0ms)
Completed   in 28ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '中学生' or @grade.include?('中')) %>
    2: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    3: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    4: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183498440_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183515920_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.0ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.1ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:11 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (3.0ms)
Completed   in 28ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '中学生' or @grade.include?('中')) %>
    2: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    3: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    4: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182528080_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182544000_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.8ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.6ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:11 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (1.4ms)
Rendered students/index.js.erb (3.3ms)
Completed   in 28ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '中学生' or @grade.include?('中')) %>
    2: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    3: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    4: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2181700300_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2181716760_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (82.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (89.3ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:11 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (3.1ms)
Completed   in 28ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '中学生' or @grade.include?('中')) %>
    2: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    3: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    4: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183198460_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183214320_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.9ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.4ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:12 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (3.0ms)
Completed   in 28ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '中学生' or @grade.include?('中')) %>
    2: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    3: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    4: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182284240_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182300060_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.0ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.7ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:12 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (3.1ms)
Completed   in 101ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '中学生' or @grade.include?('中')) %>
    2: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    3: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    4: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183563420_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183591840_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.6ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.4ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:12 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (1.2ms)
Rendered students/index.js.erb (3.2ms)
Completed   in 28ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if (@grade_category == '中学生' or @grade.include?('中')) %>
    2: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    3: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    4: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182616820_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182632600_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.8ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.5ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 17:12:39 +0900 2010
  Processing by StudentsController#index as HTML
Rendered students/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 19ms (Views: 12.0ms | ActiveRecord: 0.4ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:40 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (3.1ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.8ms)
Rendered students/index.js.erb (8.8ms)
Completed 200 OK in 33ms (Views: 26.4ms | ActiveRecord: 0.4ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:12:41 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (3.0ms)
Completed   in 29ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182803740_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182823260_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.9ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.6ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 17:14:10 +0900 2010
  Processing by StudentsController#index as HTML
Rendered students/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 19ms (Views: 12.0ms | ActiveRecord: 0.0ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:14:12 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (3.7ms)
Rendered students/index.js.erb (5.9ms)
Completed   in 32ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    6: <%= link_to '小５', students_path(:grade => '小５'), :remote => true %>
    7: <%= link_to '小６', students_path(:grade => '小６'), :remote => true %>
    8: <% end %>
    9: <% if @grade_category == '中学生' or @grade.include?('中') %>
    10: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    11: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    12: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:9:in `_app_views_students__grade_html_erb__1140297488_2183129080_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183150840_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.3ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:14:13 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (3.3ms)
Rendered students/index.js.erb (5.2ms)
Completed   in 30ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    6: <%= link_to '小５', students_path(:grade => '小５'), :remote => true %>
    7: <%= link_to '小６', students_path(:grade => '小６'), :remote => true %>
    8: <% end %>
    9: <% if @grade_category == '中学生' or @grade.include?('中') %>
    10: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    11: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    12: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:9:in `_app_views_students__grade_html_erb__1140297488_2182214340_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182233380_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (77.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (84.3ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:14:13 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (3.5ms)
Rendered students/index.js.erb (5.5ms)
Completed   in 30ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    6: <%= link_to '小５', students_path(:grade => '小５'), :remote => true %>
    7: <%= link_to '小６', students_path(:grade => '小６'), :remote => true %>
    8: <% end %>
    9: <% if @grade_category == '中学生' or @grade.include?('中') %>
    10: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    11: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    12: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:9:in `_app_views_students__grade_html_erb__1140297488_2183195580_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183211500_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.6ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.5ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:14:14 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (3.1ms)
Completed   in 28ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182238180_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182254960_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.0ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.6ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:14:15 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.5ms)
Completed   in 101ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183521180_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183541220_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.1ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.8ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:14:15 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (3.1ms)
Completed   in 28ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182552180_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182585940_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.8ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.6ms)


Started GET "/students?grade_category=%E9%AB%98%E6%A0%A1%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:14:16 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"高校生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (3.0ms)
Completed   in 28ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2181691460_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2181709340_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (80.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (87.5ms)


Started GET "/students?grade_category=%E9%AB%98%E6%A0%A1%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:14:16 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"高校生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (3.1ms)
Completed   in 30ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183194480_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183210380_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.1ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.1ms)


Started GET "/students?grade_category=%E9%AB%98%E6%A0%A1%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:14:16 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"高校生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (3.0ms)
Completed   in 29ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182282520_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182298300_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.9ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.8ms)


Started GET "/students?grade_category=%E9%AB%98%E6%A0%A1%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:14:16 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"高校生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (3.0ms)
Completed   in 98ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183587840_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183605400_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.1ms)


Started GET "/students?grade_category=%E9%AB%98%E6%A0%A1%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:14:16 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"高校生"}
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.4ms)
Completed   in 28ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182623480_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182639280_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.1ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.4ms)


Started GET "/students?grade_category=%E9%AB%98%E6%A0%A1%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:14:16 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"高校生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (3.0ms)
Completed   in 28ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2181763940_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2181779780_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (80.1ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (87.2ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:14:17 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (3.3ms)
Rendered students/index.js.erb (5.8ms)
Completed   in 30ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    6: <%= link_to '小５', students_path(:grade => '小５'), :remote => true %>
    7: <%= link_to '小６', students_path(:grade => '小６'), :remote => true %>
    8: <% end %>
    9: <% if @grade_category == '中学生' or @grade.include?('中') %>
    10: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    11: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    12: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:9:in `_app_views_students__grade_html_erb__1140297488_2183312540_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183328560_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.1ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.9ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:14:18 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (3.7ms)
Rendered students/index.js.erb (5.6ms)
Completed   in 30ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    6: <%= link_to '小５', students_path(:grade => '小５'), :remote => true %>
    7: <%= link_to '小６', students_path(:grade => '小６'), :remote => true %>
    8: <% end %>
    9: <% if @grade_category == '中学生' or @grade.include?('中') %>
    10: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    11: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    12: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:9:in `_app_views_students__grade_html_erb__1140297488_2182336760_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182352700_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.6ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.8ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:14:18 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (3.6ms)
Rendered students/index.js.erb (5.6ms)
Completed   in 102ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    6: <%= link_to '小５', students_path(:grade => '小５'), :remote => true %>
    7: <%= link_to '小６', students_path(:grade => '小６'), :remote => true %>
    8: <% end %>
    9: <% if @grade_category == '中学生' or @grade.include?('中') %>
    10: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    11: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    12: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:9:in `_app_views_students__grade_html_erb__1140297488_2183557660_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183587880_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.6ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.8ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:14:18 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (3.5ms)
Rendered students/index.js.erb (5.5ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    6: <%= link_to '小５', students_path(:grade => '小５'), :remote => true %>
    7: <%= link_to '小６', students_path(:grade => '小６'), :remote => true %>
    8: <% end %>
    9: <% if @grade_category == '中学生' or @grade.include?('中') %>
    10: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    11: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    12: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:9:in `_app_views_students__grade_html_erb__1140297488_2182548440_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182592360_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.7ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.6ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:14:18 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (3.6ms)
Rendered students/index.js.erb (5.5ms)
Completed   in 30ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    6: <%= link_to '小５', students_path(:grade => '小５'), :remote => true %>
    7: <%= link_to '小６', students_path(:grade => '小６'), :remote => true %>
    8: <% end %>
    9: <% if @grade_category == '中学生' or @grade.include?('中') %>
    10: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    11: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    12: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:9:in `_app_views_students__grade_html_erb__1140297488_2181674620_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2181690780_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (74.2ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (11.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (92.2ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:14:18 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (3.7ms)
Rendered students/index.js.erb (6.1ms)
Completed   in 32ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    6: <%= link_to '小５', students_path(:grade => '小５'), :remote => true %>
    7: <%= link_to '小６', students_path(:grade => '小６'), :remote => true %>
    8: <% end %>
    9: <% if @grade_category == '中学生' or @grade.include?('中') %>
    10: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    11: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    12: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:9:in `_app_views_students__grade_html_erb__1140297488_2183114120_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183141840_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.3ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:14:19 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (4.0ms)
Rendered students/index.js.erb (6.0ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    6: <%= link_to '小５', students_path(:grade => '小５'), :remote => true %>
    7: <%= link_to '小６', students_path(:grade => '小６'), :remote => true %>
    8: <% end %>
    9: <% if @grade_category == '中学生' or @grade.include?('中') %>
    10: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    11: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    12: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:9:in `_app_views_students__grade_html_erb__1140297488_2182191400_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182207260_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.0ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.9ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:14:20 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_grade.html.erb (0.9ms)
Rendered students/_student.html.erb (16.1ms)
Rendered students/index.js.erb (21.9ms)
Completed 200 OK in 48ms (Views: 40.1ms | ActiveRecord: 0.9ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:14:21 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (3.3ms)
Rendered students/index.js.erb (5.2ms)
Completed   in 30ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    6: <%= link_to '小５', students_path(:grade => '小５'), :remote => true %>
    7: <%= link_to '小６', students_path(:grade => '小６'), :remote => true %>
    8: <% end %>
    9: <% if @grade_category == '中学生' or @grade.include?('中') %>
    10: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    11: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    12: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:9:in `_app_views_students__grade_html_erb__1140297488_2182715500_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182731280_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.0ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:14:21 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (3.5ms)
Rendered students/index.js.erb (5.6ms)
Completed   in 31ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    6: <%= link_to '小５', students_path(:grade => '小５'), :remote => true %>
    7: <%= link_to '小６', students_path(:grade => '小６'), :remote => true %>
    8: <% end %>
    9: <% if @grade_category == '中学生' or @grade.include?('中') %>
    10: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    11: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    12: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:9:in `_app_views_students__grade_html_erb__1140297488_2181836180_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2181854140_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.1ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.2ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:14:21 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (3.5ms)
Rendered students/index.js.erb (5.5ms)
Completed   in 33ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    6: <%= link_to '小５', students_path(:grade => '小５'), :remote => true %>
    7: <%= link_to '小６', students_path(:grade => '小６'), :remote => true %>
    8: <% end %>
    9: <% if @grade_category == '中学生' or @grade.include?('中') %>
    10: <%= link_to '中１', students_path(:grade => '中１'), :remote => true %>
    11: <%= link_to '中２', students_path(:grade => '中２'), :remote => true %>
    12: <%= link_to '中３', students_path(:grade => '中３'), :remote => true %>
  app/views/students/_grade.html.erb:9:in `_app_views_students__grade_html_erb__1140297488_2182932820_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182949580_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.3ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 17:14:39 +0900 2010
  Processing by StudentsController#index as HTML
Rendered students/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 19ms (Views: 11.8ms | ActiveRecord: 0.4ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:14:42 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (3.1ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.6ms)
Rendered students/index.js.erb (9.3ms)
Completed 200 OK in 35ms (Views: 27.4ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:14:43 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_grade.html.erb (0.9ms)
Rendered students/_student.html.erb (15.0ms)
Rendered students/index.js.erb (19.8ms)
Completed 200 OK in 46ms (Views: 37.9ms | ActiveRecord: 0.7ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:14:44 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (3.2ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.6ms)
Rendered students/index.js.erb (8.9ms)
Completed 200 OK in 33ms (Views: 26.6ms | ActiveRecord: 0.4ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:14:44 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (3.1ms)
Completed   in 105ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183535700_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183553300_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.0ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.8ms)


Started GET "/students?grade_category=%E9%AB%98%E6%A0%A1%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:14:45 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"高校生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (3.0ms)
Completed   in 28ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <% if @grade_category == '小学生' or @grade.include?('小') %>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182571900_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182605080_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.0ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:14:46 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (3.3ms)
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.3ms)
Rendered students/index.js.erb (8.1ms)
Completed 200 OK in 32ms (Views: 25.7ms | ActiveRecord: 0.7ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:14:47 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_grade.html.erb (0.9ms)
Rendered students/_student.html.erb (15.6ms)
Rendered students/index.js.erb (21.0ms)
Completed 200 OK in 48ms (Views: 39.3ms | ActiveRecord: 0.7ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:14:47 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (3.4ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.5ms)
Rendered students/index.js.erb (8.4ms)
Completed 200 OK in 33ms (Views: 26.1ms | ActiveRecord: 0.4ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 17:16:42 +0900 2010
  Processing by StudentsController#index as HTML
Rendered students/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 19ms (Views: 12.1ms | ActiveRecord: 0.0ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:16:44 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2183348560_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2183348560_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183369400_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.4ms)
Completed   in 28ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183369400_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.0ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.2ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:16:45 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2182387680_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2182387680_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182403600_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.2ms)
Completed   in 28ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182403600_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.9ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.6ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:16:46 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2181592900_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2181592900_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2181608680_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.1ms)
Completed   in 28ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2181608680_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.2ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:16:46 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2182781160_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2182781160_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182800600_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.2ms)
Completed   in 30ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182800600_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (19.2ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:16:47 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2181920720_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2181920720_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2181936500_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.5ms)
Completed   in 28ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2181936500_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.5ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:16:48 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2183314860_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2183314860_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183336560_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.3ms)
Completed   in 30ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183336560_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.1ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (19.0ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:16:48 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2182335620_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2182335620_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182352040_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.1ms)
Completed   in 29ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182352040_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.9ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (20.1ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:16:48 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2183645240_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2183645240_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2181490620_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.4ms)
Rendered students/index.js.erb (3.4ms)
Completed   in 102ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2181490620_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (19.4ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:16:48 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2182654520_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2182654520_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182673880_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.1ms)
Completed   in 30ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182673880_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.1ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (19.1ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:16:48 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2181750060_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2181750060_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2181772080_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.2ms)
Completed   in 29ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2181772080_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (82.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (89.6ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:16:49 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2183189680_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2183189680_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183212260_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.2ms)
Completed   in 29ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183212260_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.6ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (19.6ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:16:49 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2182248400_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2182248400_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182272400_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.2ms)
Completed   in 29ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182272400_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (19.3ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:16:50 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2183538180_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2183538180_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183554740_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.3ms)
Completed   in 102ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183554740_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.1ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (19.2ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:16:50 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (1.0ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2182538860_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2182538860_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182558620_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.2ms)
Completed   in 30ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182558620_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.6ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (19.7ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:16:50 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2181661460_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2181661460_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2181681340_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.2ms)
Completed   in 29ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2181681340_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (84.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (92.3ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:16:50 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2183071720_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2183071720_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183131320_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.2ms)
Completed   in 30ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183131320_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (19.4ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:16:50 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2182177640_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2182177640_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182194100_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.2ms)
Completed   in 29ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182194100_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (19.0ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:16:51 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2183427280_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2183427280_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183455900_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.1ms)
Completed   in 29ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183455900_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (19.4ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:16:51 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2182426220_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2182426220_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182448680_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.1ms)
Completed   in 29ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182448680_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (20.1ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:16:51 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2181534920_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2181534920_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2181555940_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.1ms)
Completed   in 29ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2181555940_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (19.4ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:16:51 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2182891820_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2182891820_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182907980_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.1ms)
Completed   in 29ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182907980_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.1ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (18.9ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:16:51 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2182007700_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2182007700_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182029340_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.1ms)
Completed   in 29ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182029340_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (19.2ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:16:52 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2183315660_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2183315660_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183331540_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.1ms)
Completed   in 28ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183331540_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (19.2ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:16:52 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2182336020_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2182336020_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182352120_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.1ms)
Completed   in 29ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182352120_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (19.3ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:16:52 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2183288560_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2183288560_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2181487600_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.4ms)
Rendered students/index.js.erb (3.6ms)
Completed   in 104ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2181487600_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.9ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (19.9ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:16:53 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2182658100_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2182658100_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182676580_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.1ms)
Completed   in 29ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182676580_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.1ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (19.2ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:16:53 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2181754920_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2181754920_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2181775300_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.2ms)
Completed   in 29ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2181775300_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (84.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (91.4ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:16:53 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2183191600_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2183191600_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183213440_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.2ms)
Completed   in 30ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183213440_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (19.1ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:16:53 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2182249920_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2182249920_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182274660_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.5ms)
Completed   in 29ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182274660_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.6ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (19.3ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:16:53 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.6ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2183538960_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2183538960_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183555420_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.4ms)
Rendered students/index.js.erb (3.5ms)
Completed   in 102ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183555420_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (19.7ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:16:54 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2182539520_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2182539520_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182559400_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.2ms)
Completed   in 29ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182559400_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.1ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (18.9ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:16:54 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2181661980_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2181661980_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2181681800_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.2ms)
Completed   in 30ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2181681800_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (85.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (92.1ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:16:54 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2183105200_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2183105200_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183139440_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.2ms)
Completed   in 30ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183139440_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (19.3ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:16:54 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2182181160_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2182181160_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182197520_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.2ms)
Completed   in 29ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182197520_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (19.3ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:16:55 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2183427380_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2183427380_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183455980_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.2ms)
Completed   in 30ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183455980_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (19.3ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:16:55 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2182429300_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2182429300_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182451720_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.2ms)
Completed   in 30ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182451720_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.5ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (19.2ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:16:55 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2181539700_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2181539700_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2181561900_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.2ms)
Completed   in 29ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2181561900_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (19.3ms)


Started GET "/students/new" for 127.0.0.1 at Wed Oct 20 17:16:56 +0900 2010
  Processing by StudentsController#new as HTML
Rendered students/_form.html.erb (10.4ms)
Rendered students/new.html.erb within layouts/application (15.6ms)
Completed 200 OK in 30ms (Views: 23.4ms | ActiveRecord: 0.0ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 17:16:57 +0900 2010
  Processing by StudentsController#index as HTML
Rendered students/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 18ms (Views: 11.5ms | ActiveRecord: 0.0ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:16:59 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2182051980_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2182051980_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182073980_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (2.0ms)
Rendered students/index.js.erb (4.0ms)
Completed   in 29ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182073980_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (81.4ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (88.4ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:16:59 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
ERROR: compiling _app_views_students__grade_html_erb__1140297488_2183099260_1908350 RAISED compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_students__grade_html_erb__1140297488_2183099260_1908350(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "students/_grade";_old_output_buffer = @output_buffer;grade = local_assigns[:grade];;@output_buffer = ActionView::OutputBuffer.new; if @grade_category == '小学生' or @grade.include?('小')
<%= link_to '小１', students_path(:grade => '小１'), :remote => true 
@output_buffer.append= ( link_to '小２', students_path(:grade => '小２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小３', students_path(:grade => '小３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小４', students_path(:grade => '小４'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小５', students_path(:grade => '小５'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '小６', students_path(:grade => '小６'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'中学生\' or @grade.include?(\'中\')
');@output_buffer.append= ( link_to '中１', students_path(:grade => '中１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中２', students_path(:grade => '中２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '中３', students_path(:grade => '中３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('elsif @grade_category == \'高校生\' or @grade.include?(\'高\')
');@output_buffer.append= ( link_to '高１', students_path(:grade => '高１'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高２', students_path(:grade => '高２'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.append= ( link_to '高３', students_path(:grade => '高３'), :remote => true );@output_buffer.safe_concat('
');@output_buffer.safe_concat('else
end %>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21:in `compile'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:134:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:294:in `render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:223:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:221:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/partials.rb:334:in `_render_partial'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:22:in `render'
/Users/shimizu/rails/season_class/app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183119560_0'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `send'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:135:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:54:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/template.rb:127:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:59:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:56:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_view/render/rendering.rb:26:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:114:in `_render_template'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:92:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:17:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/shimizu/rails/season_class/app/controllers/students_controller.rb:15:in `index'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:150:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rendering.rb:11:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:18:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:435:in `_run__1059892792__process_action__199225275__callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `send'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:93:in `run_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/notifications.rb:52:in `instrument'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rescue.rb:17:in `process_action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/base.rb:119:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/abstract_controller/rendering.rb:40:in `process'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:133:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_controller/metal.rb:173:in `action'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:27:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/opt/local/lib/ruby/gems/1.8/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/routing/route_set.rb:492:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/head.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/flash.rb:182:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/cookies.rb:287:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:32:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:12:in `cache'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/query_cache.rb:31:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activerecord-3.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:355:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/logger.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/opt/local/lib/ruby/gems/1.8/gems/activesupport-3.0.0/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `synchronize'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/static.rb:30:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:168:in `call'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `send'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/application.rb:77:in `method_missing'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/rack/log_tailer.rb:14:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/content_length.rb:13:in `call'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:52:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
/opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
/opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/handler/webrick.rb:13:in `run'
/opt/local/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/server.rb:213:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands/server.rb:65:in `start'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:30
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27:in `tap'
/opt/local/lib/ruby/gems/1.8/gems/railties-3.0.0/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered students/_grade.html.erb (1.3ms)
Rendered students/index.js.erb (3.2ms)
Completed   in 28ms

ActionView::Template::Error (compile error
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected '<'
<%= link_to '小１', students_...
 ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:2: syntax error, unexpected ')', expecting kEND
...dents_path(:grade => '小１'), :remote => true 
                              ^
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:19: syntax error, unexpected kENSURE, expecting kEND
/Users/shimizu/rails/season_class/app/views/students/_grade.html.erb:21: syntax error, unexpected $end, expecting kEND):
    1: <% if @grade_category == '小学生' or @grade.include?('小')
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
    5: <%= link_to '小４', students_path(:grade => '小４'), :remote => true %>
  app/views/students/_grade.html.erb:21:in `compile'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183119560_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.2ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.3ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 17:18:00 +0900 2010
  Processing by StudentsController#index as HTML
Rendered students/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 19ms (Views: 12.0ms | ActiveRecord: 0.0ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:18:03 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[36mStudent Load (0.7ms)[0m  [1mSELECT "students".* FROM "students" ORDER BY yomi[0m
Rendered students/_grade.html.erb (0.9ms)
Rendered students/_student.html.erb (15.4ms)
Rendered students/index.js.erb (20.8ms)
Completed 200 OK in 48ms (Views: 39.4ms | ActiveRecord: 0.7ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:18:04 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (3.1ms)
  [1m[35mStudent Load (0.8ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (2.0ms)
Rendered students/index.js.erb (8.6ms)
Completed 200 OK in 33ms (Views: 25.8ms | ActiveRecord: 0.8ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:18:05 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (3.0ms)
Completed   in 28ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <%if @grade_category == '小学生' or @grade.include?('小')%>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182225640_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182241440_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.8ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.7ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:18:05 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
Rendered students/_grade.html.erb (1.4ms)
Rendered students/index.js.erb (3.4ms)
Completed   in 29ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <%if @grade_category == '小学生' or @grade.include?('小')%>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2183398580_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2183415020_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.3ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.5ms)


Started GET "/students?grade_category=%E9%AB%98%E6%A0%A1%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:18:06 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"高校生"}
Rendered students/_grade.html.erb (1.2ms)
Rendered students/index.js.erb (3.3ms)
Completed   in 30ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <%if @grade_category == '小学生' or @grade.include?('小')%>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182347880_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182363980_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.1ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.8ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%95" for 127.0.0.1 at Wed Oct 20 17:18:07 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"小５"}
Rendered students/_grade.html.erb (3.0ms)
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '小５') ORDER BY yomi
Rendered students/_student.html.erb (1.7ms)
Rendered students/index.js.erb (8.2ms)
Completed 200 OK in 33ms (Views: 25.8ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%94" for 127.0.0.1 at Wed Oct 20 17:18:08 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"小４"}
Rendered students/_grade.html.erb (3.1ms)
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '小４') ORDER BY yomi[0m
Rendered students/_student.html.erb (7.4ms)
Rendered students/index.js.erb (14.0ms)
Completed 200 OK in 38ms (Views: 31.2ms | ActiveRecord: 0.5ms)


Started GET "/students?grade_category=%E9%AB%98%E6%A0%A1%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:18:09 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"高校生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (3.0ms)
Completed   in 28ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <%if @grade_category == '小学生' or @grade.include?('小')%>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2182685100_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2182701040_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.8ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.6ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:18:10 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
Rendered students/_grade.html.erb (1.1ms)
Rendered students/index.js.erb (3.0ms)
Completed   in 27ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.include?):
    1: <%if @grade_category == '小学生' or @grade.include?('小')%>
    2: <%= link_to '小１', students_path(:grade => '小１'), :remote => true %>
    3: <%= link_to '小２', students_path(:grade => '小２'), :remote => true %>
    4: <%= link_to '小３', students_path(:grade => '小３'), :remote => true %>
  app/views/students/_grade.html.erb:1:in `_app_views_students__grade_html_erb__1140297488_2181831180_1908350'
  app/views/students/index.js.erb:2:in `_app_views_students_index_js_erb__2136576730_2181846980_0'
  app/controllers/students_controller.rb:15:in `index'

Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (81.1ms)
Rendered /opt/local/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (88.0ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:18:11 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (3.2ms)
  [1m[35mStudent Load (0.2ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.4ms)
Rendered students/index.js.erb (8.1ms)
Completed 200 OK in 34ms (Views: 26.4ms | ActiveRecord: 0.6ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%93" for 127.0.0.1 at Wed Oct 20 17:18:12 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"小３"}
Rendered students/_grade.html.erb (3.1ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '小３') ORDER BY yomi[0m
Rendered students/_student.html.erb (1.5ms)
Rendered students/index.js.erb (8.1ms)
Completed 200 OK in 33ms (Views: 25.9ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E5%85%A8%E5%93%A1" for 127.0.0.1 at Wed Oct 20 17:18:13 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"全員"}
  [1m[35mStudent Load (0.7ms)[0m  SELECT "students".* FROM "students" ORDER BY yomi
Rendered students/_grade.html.erb (0.9ms)
Rendered students/_student.html.erb (15.8ms)
Rendered students/index.js.erb (20.7ms)
Completed 200 OK in 47ms (Views: 38.6ms | ActiveRecord: 0.7ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:18:14 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (3.2ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.6ms)
Rendered students/index.js.erb (8.4ms)
Completed 200 OK in 111ms (Views: 26.6ms | ActiveRecord: 0.4ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:18:14 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (3.0ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi
Rendered students/_student.html.erb (1.5ms)
Rendered students/index.js.erb (8.0ms)
Completed 200 OK in 33ms (Views: 26.1ms | ActiveRecord: 0.4ms)


Started GET "/students" for 127.0.0.1 at Wed Oct 20 17:21:11 +0900 2010
  Processing by StudentsController#index as HTML
Rendered students/index.html.erb within layouts/application (4.5ms)
Completed 200 OK in 19ms (Views: 11.9ms | ActiveRecord: 0.0ms)


Started GET "/students?grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:21:13 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"小学生"}
Rendered students/_grade.html.erb (3.9ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.7ms)
Rendered students/index.js.erb (10.0ms)
Completed 200 OK in 107ms (Views: 99.8ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%92&grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:21:14 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"小２", "grade_category"=>"小学生"}
Rendered students/_grade.html.erb (3.5ms)
  [1m[35mStudent Load (0.4ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '小２') ORDER BY yomi
Rendered students/_student.html.erb (1.6ms)
Rendered students/index.js.erb (8.6ms)
Completed 200 OK in 34ms (Views: 26.8ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%93&grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:21:15 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"小３", "grade_category"=>"小学生"}
Rendered students/_grade.html.erb (3.3ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '小３') ORDER BY yomi[0m
Rendered students/_student.html.erb (1.5ms)
Rendered students/index.js.erb (8.3ms)
Completed 200 OK in 33ms (Views: 26.3ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E5%B0%8F%EF%BC%94&grade_category=%E5%B0%8F%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:21:15 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"小４", "grade_category"=>"小学生"}
Rendered students/_grade.html.erb (3.9ms)
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '小４') ORDER BY yomi
Rendered students/_student.html.erb (7.5ms)
Rendered students/index.js.erb (15.1ms)
Completed 200 OK in 40ms (Views: 32.5ms | ActiveRecord: 0.5ms)


Started GET "/students?grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:21:16 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade_category"=>"中学生"}
Rendered students/_grade.html.erb (2.4ms)
  [1m[36mStudent Load (0.4ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = NULL) ORDER BY yomi[0m
Rendered students/_student.html.erb (1.6ms)
Rendered students/index.js.erb (7.4ms)
Completed 200 OK in 107ms (Views: 99.3ms | ActiveRecord: 0.4ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%93&grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:21:17 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中３", "grade_category"=>"中学生"}
Rendered students/_grade.html.erb (2.2ms)
  [1m[35mStudent Load (0.5ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中３') ORDER BY yomi
Rendered students/_student.html.erb (8.7ms)
Rendered students/index.js.erb (14.6ms)
Completed 200 OK in 39ms (Views: 32.0ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%92&grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:21:18 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中２", "grade_category"=>"中学生"}
Rendered students/_grade.html.erb (2.5ms)
  [1m[36mStudent Load (0.5ms)[0m  [1mSELECT "students".* FROM "students" WHERE (grade = '中２') ORDER BY yomi[0m
Rendered students/_student.html.erb (8.3ms)
Rendered students/index.js.erb (14.6ms)
Completed 200 OK in 39ms (Views: 32.0ms | ActiveRecord: 0.5ms)


Started GET "/students?grade=%E4%B8%AD%EF%BC%91&grade_category=%E4%B8%AD%E5%AD%A6%E7%94%9F" for 127.0.0.1 at Wed Oct 20 17:21:19 +0900 2010
  Processing by StudentsController#index as JS
  Parameters: {"grade"=>"中１", "grade_category"=>"中学生"}
Rendered students/_grade.html.erb (2.3ms)
  [1m[35mStudent Load (0.6ms)[0m  SELECT "students".* FROM "students" WHERE (grade = '中１') ORDER BY yomi
Rendered students/_student.html.erb (9.9ms)
Rendered students/index.js.erb (15.9ms)
Completed 200 OK in 40ms (Views: 33.2ms | ActiveRecord: 0.6ms)
